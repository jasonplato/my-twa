{"version":3,"file":"tonconnect-ui.min.js","sources":["../../../node_modules/tweetnacl-util/nacl-util.js","../__vite-browser-external","../../../node_modules/tweetnacl/nacl-fast.js","../../protocol/lib/esm/index.mjs","../../sdk/lib/esm/index.mjs","../../../node_modules/solid-js/dist/solid.js","../../../node_modules/solid-js/web/dist/web.js","../src/app/state/modals-state.ts","../../../node_modules/goober/dist/goober.modern.js","../../../node_modules/solid-styled-components/src/index.js","../src/app/i18n.ts","../src/app/state/connector.context.ts","../../../node_modules/solid-js/store/dist/store.js","../src/models/THEME.ts","../src/app/styles/default-colors.ts","../../../node_modules/deepmerge/dist/cjs.js","../node_modules/is-plain-object/dist/is-plain-object.mjs","../src/app/utils/options.ts","../src/app/state/theme-state.ts","../src/app/styles/global-styles.tsx","../src/app/components/image/style.ts","../src/app/components/image/index.tsx","../src/app/utils/css.ts","../src/errors/ton-connect-ui.error.ts","../../../node_modules/ua-parser-js/src/ua-parser.js","../src/app/utils/web-api.ts","../src/app/styles/media.ts","../src/app/components/button/style.ts","../src/app/hooks/use-data-attributes.ts","../src/app/components/button/index.tsx","../../../node_modules/classnames/index.js","../../../node_modules/solid-transition-group/dist/solid-transition-group.js","../src/app/components/icons/arrow-icon.tsx","../src/app/components/icons/close-icon.tsx","../src/app/components/icon-button/style.ts","../src/app/components/icon-button/index.tsx","../src/app/components/modal/style.ts","../src/app/components/modal/index.tsx","../src/app/directives/click-outside.tsx","../src/app/directives/key-pressed.tsx","../src/app/components/tab-bar/style.ts","../src/app/components/qr-code/style.ts","../../../node_modules/qrcode-generator/qrcode.js","../src/app/utils/copy-to-clipboard.ts","../../../node_modules/@solid-primitives/i18n/dist/index.js","../src/app/components/typography/Translation/index.tsx","../src/app/components/qr-code/index.tsx","../src/app/components/typography/text/style.ts","../src/app/components/typography/text/index.tsx","../src/app/components/wallet-item/style.ts","../src/app/components/wallet-item/index.tsx","../src/app/components/typography/h1/style.ts","../src/app/components/typography/h1/index.tsx","../src/app/components/typography/h2/style.ts","../src/app/components/typography/h2/index.tsx","../src/app/components/typography/h3/style.ts","../src/app/components/typography/h3/index.tsx","../src/app/components/icons/long-arrow-icon.tsx","../src/app/components/icons/ton-icon.tsx","../src/app/components/icons/success-icon.tsx","../src/app/components/icons/error-icon.tsx","../src/app/components/icons/loader-icon.tsx","../src/app/state/ton-connect-ui.context.ts","../src/app/components/icons/copy-icon.tsx","../src/app/components/icons/disconnect-icon.tsx","../src/app/views/account-button/account-button-dropdown/style.ts","../src/app/views/account-button/account-button-dropdown/index.tsx","../src/app/components/notification/style.ts","../src/app/components/notification/index.tsx","../src/app/views/account-button/notifications/confirm-operation-notification/style.ts","../src/app/views/account-button/notifications/confirm-operation-notification/index.tsx","../src/app/views/account-button/notifications/error-transaction-notification/style.ts","../src/app/views/account-button/notifications/error-transaction-notification/index.tsx","../src/app/views/account-button/notifications/success-transaction-notification/style.ts","../src/app/views/account-button/notifications/success-transaction-notification/index.tsx","../src/app/views/account-button/notifications/style.ts","../src/app/views/account-button/style.ts","../src/app/views/account-button/notifications/index.tsx","../../../node_modules/@floating-ui/core/dist/floating-ui.core.esm.js","../../../node_modules/@floating-ui/dom/dist/floating-ui.dom.esm.js","../src/app/views/account-button/index.tsx","../../../node_modules/solid-floating-ui/dist/esm/production/index.mjs","../src/app/views/modals/wallets-modal/qr-code-modal/style.ts","../src/app/state/app.state.ts","../src/app/components/link/style.ts","../src/app/components/link/index.tsx","../src/app/views/modals/wallets-modal/qr-code-modal/index.tsx","../src/app/views/modals/wallets-modal/style.ts","../src/app/components/tab-bar/index.tsx","../src/app/utils/wallets.ts","../src/app/utils/array.ts","../src/app/hooks/isMobile.ts","../src/app/views/modals/wallets-modal/mobile-select-wallet-modal/style.ts","../src/app/env/LINKS.ts","../src/app/views/modals/wallets-modal/mobile-select-wallet-modal/index.tsx","../src/app/views/modals/wallets-modal/universal-qr-modal/style.ts","../src/app/views/modals/wallets-modal/universal-qr-modal/index.tsx","../src/app/views/modals/wallets-modal/desktop-select-wallet-modal/style.ts","../src/app/views/modals/wallets-modal/desktop-select-wallet-modal/index.tsx","../src/app/views/modals/wallets-modal/wallets-modal.tsx","../src/app/views/modals/actions-modal/action-modal/style.ts","../src/app/views/modals/actions-modal/action-modal/index.tsx","../src/app/views/modals/actions-modal/confirm-transaction-modal/index.tsx","../src/app/views/modals/actions-modal/transaction-canceled-modal/index.tsx","../src/app/views/modals/actions-modal/transaction-sent-modal/index.tsx","../src/app/views/modals/actions-modal/actions-modal.tsx","../src/app/App.tsx","../src/app/widget-controller.tsx","../src/storage/wallet-info-storage.ts","../src/storage/preferred-wallet-storage.ts","../src/ton-connect-ui.ts"],"sourcesContent":["// Written in 2014-2016 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n(function(root, f) {\n  'use strict';\n  if (typeof module !== 'undefined' && module.exports) module.exports = f();\n  else if (root.nacl) root.nacl.util = f();\n  else {\n    root.nacl = {};\n    root.nacl.util = f();\n  }\n}(this, function() {\n  'use strict';\n\n  var util = {};\n\n  function validateBase64(s) {\n    if (!(/^(?:[A-Za-z0-9+\\/]{2}[A-Za-z0-9+\\/]{2})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+\\/]{3}=)?$/.test(s))) {\n      throw new TypeError('invalid encoding');\n    }\n  }\n\n  util.decodeUTF8 = function(s) {\n    if (typeof s !== 'string') throw new TypeError('expected string');\n    var i, d = unescape(encodeURIComponent(s)), b = new Uint8Array(d.length);\n    for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n    return b;\n  };\n\n  util.encodeUTF8 = function(arr) {\n    var i, s = [];\n    for (i = 0; i < arr.length; i++) s.push(String.fromCharCode(arr[i]));\n    return decodeURIComponent(escape(s.join('')));\n  };\n\n  if (typeof atob === 'undefined') {\n    // Node.js\n\n    if (typeof Buffer.from !== 'undefined') {\n       // Node v6 and later\n      util.encodeBase64 = function (arr) { // v6 and later\n          return Buffer.from(arr).toString('base64');\n      };\n\n      util.decodeBase64 = function (s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(Buffer.from(s, 'base64'), 0));\n      };\n\n    } else {\n      // Node earlier than v6\n      util.encodeBase64 = function (arr) { // v6 and later\n        return (new Buffer(arr)).toString('base64');\n      };\n\n      util.decodeBase64 = function(s) {\n        validateBase64(s);\n        return new Uint8Array(Array.prototype.slice.call(new Buffer(s, 'base64'), 0));\n      };\n    }\n\n  } else {\n    // Browsers\n\n    util.encodeBase64 = function(arr) {\n      var i, s = [], len = arr.length;\n      for (i = 0; i < len; i++) s.push(String.fromCharCode(arr[i]));\n      return btoa(s.join(''));\n    };\n\n    util.decodeBase64 = function(s) {\n      validateBase64(s);\n      var i, d = atob(s), b = new Uint8Array(d.length);\n      for (i = 0; i < d.length; i++) b[i] = d.charCodeAt(i);\n      return b;\n    };\n\n  }\n\n  return util;\n\n}));\n","export default {}","(function(nacl) {\n'use strict';\n\n// Ported in 2014 by Dmitry Chestnykh and Devi Mandiri.\n// Public domain.\n//\n// Implementation derived from TweetNaCl version 20140427.\n// See for details: http://tweetnacl.cr.yp.to/\n\nvar gf = function(init) {\n  var i, r = new Float64Array(16);\n  if (init) for (i = 0; i < init.length; i++) r[i] = init[i];\n  return r;\n};\n\n//  Pluggable, initialized in high-level API below.\nvar randombytes = function(/* x, n */) { throw new Error('no PRNG'); };\n\nvar _0 = new Uint8Array(16);\nvar _9 = new Uint8Array(32); _9[0] = 9;\n\nvar gf0 = gf(),\n    gf1 = gf([1]),\n    _121665 = gf([0xdb41, 1]),\n    D = gf([0x78a3, 0x1359, 0x4dca, 0x75eb, 0xd8ab, 0x4141, 0x0a4d, 0x0070, 0xe898, 0x7779, 0x4079, 0x8cc7, 0xfe73, 0x2b6f, 0x6cee, 0x5203]),\n    D2 = gf([0xf159, 0x26b2, 0x9b94, 0xebd6, 0xb156, 0x8283, 0x149a, 0x00e0, 0xd130, 0xeef3, 0x80f2, 0x198e, 0xfce7, 0x56df, 0xd9dc, 0x2406]),\n    X = gf([0xd51a, 0x8f25, 0x2d60, 0xc956, 0xa7b2, 0x9525, 0xc760, 0x692c, 0xdc5c, 0xfdd6, 0xe231, 0xc0a4, 0x53fe, 0xcd6e, 0x36d3, 0x2169]),\n    Y = gf([0x6658, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666, 0x6666]),\n    I = gf([0xa0b0, 0x4a0e, 0x1b27, 0xc4ee, 0xe478, 0xad2f, 0x1806, 0x2f43, 0xd7a7, 0x3dfb, 0x0099, 0x2b4d, 0xdf0b, 0x4fc1, 0x2480, 0x2b83]);\n\nfunction ts64(x, i, h, l) {\n  x[i]   = (h >> 24) & 0xff;\n  x[i+1] = (h >> 16) & 0xff;\n  x[i+2] = (h >>  8) & 0xff;\n  x[i+3] = h & 0xff;\n  x[i+4] = (l >> 24)  & 0xff;\n  x[i+5] = (l >> 16)  & 0xff;\n  x[i+6] = (l >>  8)  & 0xff;\n  x[i+7] = l & 0xff;\n}\n\nfunction vn(x, xi, y, yi, n) {\n  var i,d = 0;\n  for (i = 0; i < n; i++) d |= x[xi+i]^y[yi+i];\n  return (1 & ((d - 1) >>> 8)) - 1;\n}\n\nfunction crypto_verify_16(x, xi, y, yi) {\n  return vn(x,xi,y,yi,16);\n}\n\nfunction crypto_verify_32(x, xi, y, yi) {\n  return vn(x,xi,y,yi,32);\n}\n\nfunction core_salsa20(o, p, k, c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n   x0 =  x0 +  j0 | 0;\n   x1 =  x1 +  j1 | 0;\n   x2 =  x2 +  j2 | 0;\n   x3 =  x3 +  j3 | 0;\n   x4 =  x4 +  j4 | 0;\n   x5 =  x5 +  j5 | 0;\n   x6 =  x6 +  j6 | 0;\n   x7 =  x7 +  j7 | 0;\n   x8 =  x8 +  j8 | 0;\n   x9 =  x9 +  j9 | 0;\n  x10 = x10 + j10 | 0;\n  x11 = x11 + j11 | 0;\n  x12 = x12 + j12 | 0;\n  x13 = x13 + j13 | 0;\n  x14 = x14 + j14 | 0;\n  x15 = x15 + j15 | 0;\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x1 >>>  0 & 0xff;\n  o[ 5] = x1 >>>  8 & 0xff;\n  o[ 6] = x1 >>> 16 & 0xff;\n  o[ 7] = x1 >>> 24 & 0xff;\n\n  o[ 8] = x2 >>>  0 & 0xff;\n  o[ 9] = x2 >>>  8 & 0xff;\n  o[10] = x2 >>> 16 & 0xff;\n  o[11] = x2 >>> 24 & 0xff;\n\n  o[12] = x3 >>>  0 & 0xff;\n  o[13] = x3 >>>  8 & 0xff;\n  o[14] = x3 >>> 16 & 0xff;\n  o[15] = x3 >>> 24 & 0xff;\n\n  o[16] = x4 >>>  0 & 0xff;\n  o[17] = x4 >>>  8 & 0xff;\n  o[18] = x4 >>> 16 & 0xff;\n  o[19] = x4 >>> 24 & 0xff;\n\n  o[20] = x5 >>>  0 & 0xff;\n  o[21] = x5 >>>  8 & 0xff;\n  o[22] = x5 >>> 16 & 0xff;\n  o[23] = x5 >>> 24 & 0xff;\n\n  o[24] = x6 >>>  0 & 0xff;\n  o[25] = x6 >>>  8 & 0xff;\n  o[26] = x6 >>> 16 & 0xff;\n  o[27] = x6 >>> 24 & 0xff;\n\n  o[28] = x7 >>>  0 & 0xff;\n  o[29] = x7 >>>  8 & 0xff;\n  o[30] = x7 >>> 16 & 0xff;\n  o[31] = x7 >>> 24 & 0xff;\n\n  o[32] = x8 >>>  0 & 0xff;\n  o[33] = x8 >>>  8 & 0xff;\n  o[34] = x8 >>> 16 & 0xff;\n  o[35] = x8 >>> 24 & 0xff;\n\n  o[36] = x9 >>>  0 & 0xff;\n  o[37] = x9 >>>  8 & 0xff;\n  o[38] = x9 >>> 16 & 0xff;\n  o[39] = x9 >>> 24 & 0xff;\n\n  o[40] = x10 >>>  0 & 0xff;\n  o[41] = x10 >>>  8 & 0xff;\n  o[42] = x10 >>> 16 & 0xff;\n  o[43] = x10 >>> 24 & 0xff;\n\n  o[44] = x11 >>>  0 & 0xff;\n  o[45] = x11 >>>  8 & 0xff;\n  o[46] = x11 >>> 16 & 0xff;\n  o[47] = x11 >>> 24 & 0xff;\n\n  o[48] = x12 >>>  0 & 0xff;\n  o[49] = x12 >>>  8 & 0xff;\n  o[50] = x12 >>> 16 & 0xff;\n  o[51] = x12 >>> 24 & 0xff;\n\n  o[52] = x13 >>>  0 & 0xff;\n  o[53] = x13 >>>  8 & 0xff;\n  o[54] = x13 >>> 16 & 0xff;\n  o[55] = x13 >>> 24 & 0xff;\n\n  o[56] = x14 >>>  0 & 0xff;\n  o[57] = x14 >>>  8 & 0xff;\n  o[58] = x14 >>> 16 & 0xff;\n  o[59] = x14 >>> 24 & 0xff;\n\n  o[60] = x15 >>>  0 & 0xff;\n  o[61] = x15 >>>  8 & 0xff;\n  o[62] = x15 >>> 16 & 0xff;\n  o[63] = x15 >>> 24 & 0xff;\n}\n\nfunction core_hsalsa20(o,p,k,c) {\n  var j0  = c[ 0] & 0xff | (c[ 1] & 0xff)<<8 | (c[ 2] & 0xff)<<16 | (c[ 3] & 0xff)<<24,\n      j1  = k[ 0] & 0xff | (k[ 1] & 0xff)<<8 | (k[ 2] & 0xff)<<16 | (k[ 3] & 0xff)<<24,\n      j2  = k[ 4] & 0xff | (k[ 5] & 0xff)<<8 | (k[ 6] & 0xff)<<16 | (k[ 7] & 0xff)<<24,\n      j3  = k[ 8] & 0xff | (k[ 9] & 0xff)<<8 | (k[10] & 0xff)<<16 | (k[11] & 0xff)<<24,\n      j4  = k[12] & 0xff | (k[13] & 0xff)<<8 | (k[14] & 0xff)<<16 | (k[15] & 0xff)<<24,\n      j5  = c[ 4] & 0xff | (c[ 5] & 0xff)<<8 | (c[ 6] & 0xff)<<16 | (c[ 7] & 0xff)<<24,\n      j6  = p[ 0] & 0xff | (p[ 1] & 0xff)<<8 | (p[ 2] & 0xff)<<16 | (p[ 3] & 0xff)<<24,\n      j7  = p[ 4] & 0xff | (p[ 5] & 0xff)<<8 | (p[ 6] & 0xff)<<16 | (p[ 7] & 0xff)<<24,\n      j8  = p[ 8] & 0xff | (p[ 9] & 0xff)<<8 | (p[10] & 0xff)<<16 | (p[11] & 0xff)<<24,\n      j9  = p[12] & 0xff | (p[13] & 0xff)<<8 | (p[14] & 0xff)<<16 | (p[15] & 0xff)<<24,\n      j10 = c[ 8] & 0xff | (c[ 9] & 0xff)<<8 | (c[10] & 0xff)<<16 | (c[11] & 0xff)<<24,\n      j11 = k[16] & 0xff | (k[17] & 0xff)<<8 | (k[18] & 0xff)<<16 | (k[19] & 0xff)<<24,\n      j12 = k[20] & 0xff | (k[21] & 0xff)<<8 | (k[22] & 0xff)<<16 | (k[23] & 0xff)<<24,\n      j13 = k[24] & 0xff | (k[25] & 0xff)<<8 | (k[26] & 0xff)<<16 | (k[27] & 0xff)<<24,\n      j14 = k[28] & 0xff | (k[29] & 0xff)<<8 | (k[30] & 0xff)<<16 | (k[31] & 0xff)<<24,\n      j15 = c[12] & 0xff | (c[13] & 0xff)<<8 | (c[14] & 0xff)<<16 | (c[15] & 0xff)<<24;\n\n  var x0 = j0, x1 = j1, x2 = j2, x3 = j3, x4 = j4, x5 = j5, x6 = j6, x7 = j7,\n      x8 = j8, x9 = j9, x10 = j10, x11 = j11, x12 = j12, x13 = j13, x14 = j14,\n      x15 = j15, u;\n\n  for (var i = 0; i < 20; i += 2) {\n    u = x0 + x12 | 0;\n    x4 ^= u<<7 | u>>>(32-7);\n    u = x4 + x0 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x4 | 0;\n    x12 ^= u<<13 | u>>>(32-13);\n    u = x12 + x8 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x1 | 0;\n    x9 ^= u<<7 | u>>>(32-7);\n    u = x9 + x5 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x9 | 0;\n    x1 ^= u<<13 | u>>>(32-13);\n    u = x1 + x13 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x6 | 0;\n    x14 ^= u<<7 | u>>>(32-7);\n    u = x14 + x10 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x14 | 0;\n    x6 ^= u<<13 | u>>>(32-13);\n    u = x6 + x2 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x11 | 0;\n    x3 ^= u<<7 | u>>>(32-7);\n    u = x3 + x15 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x3 | 0;\n    x11 ^= u<<13 | u>>>(32-13);\n    u = x11 + x7 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n\n    u = x0 + x3 | 0;\n    x1 ^= u<<7 | u>>>(32-7);\n    u = x1 + x0 | 0;\n    x2 ^= u<<9 | u>>>(32-9);\n    u = x2 + x1 | 0;\n    x3 ^= u<<13 | u>>>(32-13);\n    u = x3 + x2 | 0;\n    x0 ^= u<<18 | u>>>(32-18);\n\n    u = x5 + x4 | 0;\n    x6 ^= u<<7 | u>>>(32-7);\n    u = x6 + x5 | 0;\n    x7 ^= u<<9 | u>>>(32-9);\n    u = x7 + x6 | 0;\n    x4 ^= u<<13 | u>>>(32-13);\n    u = x4 + x7 | 0;\n    x5 ^= u<<18 | u>>>(32-18);\n\n    u = x10 + x9 | 0;\n    x11 ^= u<<7 | u>>>(32-7);\n    u = x11 + x10 | 0;\n    x8 ^= u<<9 | u>>>(32-9);\n    u = x8 + x11 | 0;\n    x9 ^= u<<13 | u>>>(32-13);\n    u = x9 + x8 | 0;\n    x10 ^= u<<18 | u>>>(32-18);\n\n    u = x15 + x14 | 0;\n    x12 ^= u<<7 | u>>>(32-7);\n    u = x12 + x15 | 0;\n    x13 ^= u<<9 | u>>>(32-9);\n    u = x13 + x12 | 0;\n    x14 ^= u<<13 | u>>>(32-13);\n    u = x14 + x13 | 0;\n    x15 ^= u<<18 | u>>>(32-18);\n  }\n\n  o[ 0] = x0 >>>  0 & 0xff;\n  o[ 1] = x0 >>>  8 & 0xff;\n  o[ 2] = x0 >>> 16 & 0xff;\n  o[ 3] = x0 >>> 24 & 0xff;\n\n  o[ 4] = x5 >>>  0 & 0xff;\n  o[ 5] = x5 >>>  8 & 0xff;\n  o[ 6] = x5 >>> 16 & 0xff;\n  o[ 7] = x5 >>> 24 & 0xff;\n\n  o[ 8] = x10 >>>  0 & 0xff;\n  o[ 9] = x10 >>>  8 & 0xff;\n  o[10] = x10 >>> 16 & 0xff;\n  o[11] = x10 >>> 24 & 0xff;\n\n  o[12] = x15 >>>  0 & 0xff;\n  o[13] = x15 >>>  8 & 0xff;\n  o[14] = x15 >>> 16 & 0xff;\n  o[15] = x15 >>> 24 & 0xff;\n\n  o[16] = x6 >>>  0 & 0xff;\n  o[17] = x6 >>>  8 & 0xff;\n  o[18] = x6 >>> 16 & 0xff;\n  o[19] = x6 >>> 24 & 0xff;\n\n  o[20] = x7 >>>  0 & 0xff;\n  o[21] = x7 >>>  8 & 0xff;\n  o[22] = x7 >>> 16 & 0xff;\n  o[23] = x7 >>> 24 & 0xff;\n\n  o[24] = x8 >>>  0 & 0xff;\n  o[25] = x8 >>>  8 & 0xff;\n  o[26] = x8 >>> 16 & 0xff;\n  o[27] = x8 >>> 24 & 0xff;\n\n  o[28] = x9 >>>  0 & 0xff;\n  o[29] = x9 >>>  8 & 0xff;\n  o[30] = x9 >>> 16 & 0xff;\n  o[31] = x9 >>> 24 & 0xff;\n}\n\nfunction crypto_core_salsa20(out,inp,k,c) {\n  core_salsa20(out,inp,k,c);\n}\n\nfunction crypto_core_hsalsa20(out,inp,k,c) {\n  core_hsalsa20(out,inp,k,c);\n}\n\nvar sigma = new Uint8Array([101, 120, 112, 97, 110, 100, 32, 51, 50, 45, 98, 121, 116, 101, 32, 107]);\n            // \"expand 32-byte k\"\n\nfunction crypto_stream_salsa20_xor(c,cpos,m,mpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n    mpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = m[mpos+i] ^ x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream_salsa20(c,cpos,b,n,k) {\n  var z = new Uint8Array(16), x = new Uint8Array(64);\n  var u, i;\n  for (i = 0; i < 16; i++) z[i] = 0;\n  for (i = 0; i < 8; i++) z[i] = n[i];\n  while (b >= 64) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < 64; i++) c[cpos+i] = x[i];\n    u = 1;\n    for (i = 8; i < 16; i++) {\n      u = u + (z[i] & 0xff) | 0;\n      z[i] = u & 0xff;\n      u >>>= 8;\n    }\n    b -= 64;\n    cpos += 64;\n  }\n  if (b > 0) {\n    crypto_core_salsa20(x,z,k,sigma);\n    for (i = 0; i < b; i++) c[cpos+i] = x[i];\n  }\n  return 0;\n}\n\nfunction crypto_stream(c,cpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20(c,cpos,d,sn,s);\n}\n\nfunction crypto_stream_xor(c,cpos,m,mpos,d,n,k) {\n  var s = new Uint8Array(32);\n  crypto_core_hsalsa20(s,n,k,sigma);\n  var sn = new Uint8Array(8);\n  for (var i = 0; i < 8; i++) sn[i] = n[i+16];\n  return crypto_stream_salsa20_xor(c,cpos,m,mpos,d,sn,s);\n}\n\n/*\n* Port of Andrew Moon's Poly1305-donna-16. Public domain.\n* https://github.com/floodyberry/poly1305-donna\n*/\n\nvar poly1305 = function(key) {\n  this.buffer = new Uint8Array(16);\n  this.r = new Uint16Array(10);\n  this.h = new Uint16Array(10);\n  this.pad = new Uint16Array(8);\n  this.leftover = 0;\n  this.fin = 0;\n\n  var t0, t1, t2, t3, t4, t5, t6, t7;\n\n  t0 = key[ 0] & 0xff | (key[ 1] & 0xff) << 8; this.r[0] = ( t0                     ) & 0x1fff;\n  t1 = key[ 2] & 0xff | (key[ 3] & 0xff) << 8; this.r[1] = ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n  t2 = key[ 4] & 0xff | (key[ 5] & 0xff) << 8; this.r[2] = ((t1 >>> 10) | (t2 <<  6)) & 0x1f03;\n  t3 = key[ 6] & 0xff | (key[ 7] & 0xff) << 8; this.r[3] = ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n  t4 = key[ 8] & 0xff | (key[ 9] & 0xff) << 8; this.r[4] = ((t3 >>>  4) | (t4 << 12)) & 0x00ff;\n  this.r[5] = ((t4 >>>  1)) & 0x1ffe;\n  t5 = key[10] & 0xff | (key[11] & 0xff) << 8; this.r[6] = ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n  t6 = key[12] & 0xff | (key[13] & 0xff) << 8; this.r[7] = ((t5 >>> 11) | (t6 <<  5)) & 0x1f81;\n  t7 = key[14] & 0xff | (key[15] & 0xff) << 8; this.r[8] = ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n  this.r[9] = ((t7 >>>  5)) & 0x007f;\n\n  this.pad[0] = key[16] & 0xff | (key[17] & 0xff) << 8;\n  this.pad[1] = key[18] & 0xff | (key[19] & 0xff) << 8;\n  this.pad[2] = key[20] & 0xff | (key[21] & 0xff) << 8;\n  this.pad[3] = key[22] & 0xff | (key[23] & 0xff) << 8;\n  this.pad[4] = key[24] & 0xff | (key[25] & 0xff) << 8;\n  this.pad[5] = key[26] & 0xff | (key[27] & 0xff) << 8;\n  this.pad[6] = key[28] & 0xff | (key[29] & 0xff) << 8;\n  this.pad[7] = key[30] & 0xff | (key[31] & 0xff) << 8;\n};\n\npoly1305.prototype.blocks = function(m, mpos, bytes) {\n  var hibit = this.fin ? 0 : (1 << 11);\n  var t0, t1, t2, t3, t4, t5, t6, t7, c;\n  var d0, d1, d2, d3, d4, d5, d6, d7, d8, d9;\n\n  var h0 = this.h[0],\n      h1 = this.h[1],\n      h2 = this.h[2],\n      h3 = this.h[3],\n      h4 = this.h[4],\n      h5 = this.h[5],\n      h6 = this.h[6],\n      h7 = this.h[7],\n      h8 = this.h[8],\n      h9 = this.h[9];\n\n  var r0 = this.r[0],\n      r1 = this.r[1],\n      r2 = this.r[2],\n      r3 = this.r[3],\n      r4 = this.r[4],\n      r5 = this.r[5],\n      r6 = this.r[6],\n      r7 = this.r[7],\n      r8 = this.r[8],\n      r9 = this.r[9];\n\n  while (bytes >= 16) {\n    t0 = m[mpos+ 0] & 0xff | (m[mpos+ 1] & 0xff) << 8; h0 += ( t0                     ) & 0x1fff;\n    t1 = m[mpos+ 2] & 0xff | (m[mpos+ 3] & 0xff) << 8; h1 += ((t0 >>> 13) | (t1 <<  3)) & 0x1fff;\n    t2 = m[mpos+ 4] & 0xff | (m[mpos+ 5] & 0xff) << 8; h2 += ((t1 >>> 10) | (t2 <<  6)) & 0x1fff;\n    t3 = m[mpos+ 6] & 0xff | (m[mpos+ 7] & 0xff) << 8; h3 += ((t2 >>>  7) | (t3 <<  9)) & 0x1fff;\n    t4 = m[mpos+ 8] & 0xff | (m[mpos+ 9] & 0xff) << 8; h4 += ((t3 >>>  4) | (t4 << 12)) & 0x1fff;\n    h5 += ((t4 >>>  1)) & 0x1fff;\n    t5 = m[mpos+10] & 0xff | (m[mpos+11] & 0xff) << 8; h6 += ((t4 >>> 14) | (t5 <<  2)) & 0x1fff;\n    t6 = m[mpos+12] & 0xff | (m[mpos+13] & 0xff) << 8; h7 += ((t5 >>> 11) | (t6 <<  5)) & 0x1fff;\n    t7 = m[mpos+14] & 0xff | (m[mpos+15] & 0xff) << 8; h8 += ((t6 >>>  8) | (t7 <<  8)) & 0x1fff;\n    h9 += ((t7 >>> 5)) | hibit;\n\n    c = 0;\n\n    d0 = c;\n    d0 += h0 * r0;\n    d0 += h1 * (5 * r9);\n    d0 += h2 * (5 * r8);\n    d0 += h3 * (5 * r7);\n    d0 += h4 * (5 * r6);\n    c = (d0 >>> 13); d0 &= 0x1fff;\n    d0 += h5 * (5 * r5);\n    d0 += h6 * (5 * r4);\n    d0 += h7 * (5 * r3);\n    d0 += h8 * (5 * r2);\n    d0 += h9 * (5 * r1);\n    c += (d0 >>> 13); d0 &= 0x1fff;\n\n    d1 = c;\n    d1 += h0 * r1;\n    d1 += h1 * r0;\n    d1 += h2 * (5 * r9);\n    d1 += h3 * (5 * r8);\n    d1 += h4 * (5 * r7);\n    c = (d1 >>> 13); d1 &= 0x1fff;\n    d1 += h5 * (5 * r6);\n    d1 += h6 * (5 * r5);\n    d1 += h7 * (5 * r4);\n    d1 += h8 * (5 * r3);\n    d1 += h9 * (5 * r2);\n    c += (d1 >>> 13); d1 &= 0x1fff;\n\n    d2 = c;\n    d2 += h0 * r2;\n    d2 += h1 * r1;\n    d2 += h2 * r0;\n    d2 += h3 * (5 * r9);\n    d2 += h4 * (5 * r8);\n    c = (d2 >>> 13); d2 &= 0x1fff;\n    d2 += h5 * (5 * r7);\n    d2 += h6 * (5 * r6);\n    d2 += h7 * (5 * r5);\n    d2 += h8 * (5 * r4);\n    d2 += h9 * (5 * r3);\n    c += (d2 >>> 13); d2 &= 0x1fff;\n\n    d3 = c;\n    d3 += h0 * r3;\n    d3 += h1 * r2;\n    d3 += h2 * r1;\n    d3 += h3 * r0;\n    d3 += h4 * (5 * r9);\n    c = (d3 >>> 13); d3 &= 0x1fff;\n    d3 += h5 * (5 * r8);\n    d3 += h6 * (5 * r7);\n    d3 += h7 * (5 * r6);\n    d3 += h8 * (5 * r5);\n    d3 += h9 * (5 * r4);\n    c += (d3 >>> 13); d3 &= 0x1fff;\n\n    d4 = c;\n    d4 += h0 * r4;\n    d4 += h1 * r3;\n    d4 += h2 * r2;\n    d4 += h3 * r1;\n    d4 += h4 * r0;\n    c = (d4 >>> 13); d4 &= 0x1fff;\n    d4 += h5 * (5 * r9);\n    d4 += h6 * (5 * r8);\n    d4 += h7 * (5 * r7);\n    d4 += h8 * (5 * r6);\n    d4 += h9 * (5 * r5);\n    c += (d4 >>> 13); d4 &= 0x1fff;\n\n    d5 = c;\n    d5 += h0 * r5;\n    d5 += h1 * r4;\n    d5 += h2 * r3;\n    d5 += h3 * r2;\n    d5 += h4 * r1;\n    c = (d5 >>> 13); d5 &= 0x1fff;\n    d5 += h5 * r0;\n    d5 += h6 * (5 * r9);\n    d5 += h7 * (5 * r8);\n    d5 += h8 * (5 * r7);\n    d5 += h9 * (5 * r6);\n    c += (d5 >>> 13); d5 &= 0x1fff;\n\n    d6 = c;\n    d6 += h0 * r6;\n    d6 += h1 * r5;\n    d6 += h2 * r4;\n    d6 += h3 * r3;\n    d6 += h4 * r2;\n    c = (d6 >>> 13); d6 &= 0x1fff;\n    d6 += h5 * r1;\n    d6 += h6 * r0;\n    d6 += h7 * (5 * r9);\n    d6 += h8 * (5 * r8);\n    d6 += h9 * (5 * r7);\n    c += (d6 >>> 13); d6 &= 0x1fff;\n\n    d7 = c;\n    d7 += h0 * r7;\n    d7 += h1 * r6;\n    d7 += h2 * r5;\n    d7 += h3 * r4;\n    d7 += h4 * r3;\n    c = (d7 >>> 13); d7 &= 0x1fff;\n    d7 += h5 * r2;\n    d7 += h6 * r1;\n    d7 += h7 * r0;\n    d7 += h8 * (5 * r9);\n    d7 += h9 * (5 * r8);\n    c += (d7 >>> 13); d7 &= 0x1fff;\n\n    d8 = c;\n    d8 += h0 * r8;\n    d8 += h1 * r7;\n    d8 += h2 * r6;\n    d8 += h3 * r5;\n    d8 += h4 * r4;\n    c = (d8 >>> 13); d8 &= 0x1fff;\n    d8 += h5 * r3;\n    d8 += h6 * r2;\n    d8 += h7 * r1;\n    d8 += h8 * r0;\n    d8 += h9 * (5 * r9);\n    c += (d8 >>> 13); d8 &= 0x1fff;\n\n    d9 = c;\n    d9 += h0 * r9;\n    d9 += h1 * r8;\n    d9 += h2 * r7;\n    d9 += h3 * r6;\n    d9 += h4 * r5;\n    c = (d9 >>> 13); d9 &= 0x1fff;\n    d9 += h5 * r4;\n    d9 += h6 * r3;\n    d9 += h7 * r2;\n    d9 += h8 * r1;\n    d9 += h9 * r0;\n    c += (d9 >>> 13); d9 &= 0x1fff;\n\n    c = (((c << 2) + c)) | 0;\n    c = (c + d0) | 0;\n    d0 = c & 0x1fff;\n    c = (c >>> 13);\n    d1 += c;\n\n    h0 = d0;\n    h1 = d1;\n    h2 = d2;\n    h3 = d3;\n    h4 = d4;\n    h5 = d5;\n    h6 = d6;\n    h7 = d7;\n    h8 = d8;\n    h9 = d9;\n\n    mpos += 16;\n    bytes -= 16;\n  }\n  this.h[0] = h0;\n  this.h[1] = h1;\n  this.h[2] = h2;\n  this.h[3] = h3;\n  this.h[4] = h4;\n  this.h[5] = h5;\n  this.h[6] = h6;\n  this.h[7] = h7;\n  this.h[8] = h8;\n  this.h[9] = h9;\n};\n\npoly1305.prototype.finish = function(mac, macpos) {\n  var g = new Uint16Array(10);\n  var c, mask, f, i;\n\n  if (this.leftover) {\n    i = this.leftover;\n    this.buffer[i++] = 1;\n    for (; i < 16; i++) this.buffer[i] = 0;\n    this.fin = 1;\n    this.blocks(this.buffer, 0, 16);\n  }\n\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  for (i = 2; i < 10; i++) {\n    this.h[i] += c;\n    c = this.h[i] >>> 13;\n    this.h[i] &= 0x1fff;\n  }\n  this.h[0] += (c * 5);\n  c = this.h[0] >>> 13;\n  this.h[0] &= 0x1fff;\n  this.h[1] += c;\n  c = this.h[1] >>> 13;\n  this.h[1] &= 0x1fff;\n  this.h[2] += c;\n\n  g[0] = this.h[0] + 5;\n  c = g[0] >>> 13;\n  g[0] &= 0x1fff;\n  for (i = 1; i < 10; i++) {\n    g[i] = this.h[i] + c;\n    c = g[i] >>> 13;\n    g[i] &= 0x1fff;\n  }\n  g[9] -= (1 << 13);\n\n  mask = (c ^ 1) - 1;\n  for (i = 0; i < 10; i++) g[i] &= mask;\n  mask = ~mask;\n  for (i = 0; i < 10; i++) this.h[i] = (this.h[i] & mask) | g[i];\n\n  this.h[0] = ((this.h[0]       ) | (this.h[1] << 13)                    ) & 0xffff;\n  this.h[1] = ((this.h[1] >>>  3) | (this.h[2] << 10)                    ) & 0xffff;\n  this.h[2] = ((this.h[2] >>>  6) | (this.h[3] <<  7)                    ) & 0xffff;\n  this.h[3] = ((this.h[3] >>>  9) | (this.h[4] <<  4)                    ) & 0xffff;\n  this.h[4] = ((this.h[4] >>> 12) | (this.h[5] <<  1) | (this.h[6] << 14)) & 0xffff;\n  this.h[5] = ((this.h[6] >>>  2) | (this.h[7] << 11)                    ) & 0xffff;\n  this.h[6] = ((this.h[7] >>>  5) | (this.h[8] <<  8)                    ) & 0xffff;\n  this.h[7] = ((this.h[8] >>>  8) | (this.h[9] <<  5)                    ) & 0xffff;\n\n  f = this.h[0] + this.pad[0];\n  this.h[0] = f & 0xffff;\n  for (i = 1; i < 8; i++) {\n    f = (((this.h[i] + this.pad[i]) | 0) + (f >>> 16)) | 0;\n    this.h[i] = f & 0xffff;\n  }\n\n  mac[macpos+ 0] = (this.h[0] >>> 0) & 0xff;\n  mac[macpos+ 1] = (this.h[0] >>> 8) & 0xff;\n  mac[macpos+ 2] = (this.h[1] >>> 0) & 0xff;\n  mac[macpos+ 3] = (this.h[1] >>> 8) & 0xff;\n  mac[macpos+ 4] = (this.h[2] >>> 0) & 0xff;\n  mac[macpos+ 5] = (this.h[2] >>> 8) & 0xff;\n  mac[macpos+ 6] = (this.h[3] >>> 0) & 0xff;\n  mac[macpos+ 7] = (this.h[3] >>> 8) & 0xff;\n  mac[macpos+ 8] = (this.h[4] >>> 0) & 0xff;\n  mac[macpos+ 9] = (this.h[4] >>> 8) & 0xff;\n  mac[macpos+10] = (this.h[5] >>> 0) & 0xff;\n  mac[macpos+11] = (this.h[5] >>> 8) & 0xff;\n  mac[macpos+12] = (this.h[6] >>> 0) & 0xff;\n  mac[macpos+13] = (this.h[6] >>> 8) & 0xff;\n  mac[macpos+14] = (this.h[7] >>> 0) & 0xff;\n  mac[macpos+15] = (this.h[7] >>> 8) & 0xff;\n};\n\npoly1305.prototype.update = function(m, mpos, bytes) {\n  var i, want;\n\n  if (this.leftover) {\n    want = (16 - this.leftover);\n    if (want > bytes)\n      want = bytes;\n    for (i = 0; i < want; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    bytes -= want;\n    mpos += want;\n    this.leftover += want;\n    if (this.leftover < 16)\n      return;\n    this.blocks(this.buffer, 0, 16);\n    this.leftover = 0;\n  }\n\n  if (bytes >= 16) {\n    want = bytes - (bytes % 16);\n    this.blocks(m, mpos, want);\n    mpos += want;\n    bytes -= want;\n  }\n\n  if (bytes) {\n    for (i = 0; i < bytes; i++)\n      this.buffer[this.leftover + i] = m[mpos+i];\n    this.leftover += bytes;\n  }\n};\n\nfunction crypto_onetimeauth(out, outpos, m, mpos, n, k) {\n  var s = new poly1305(k);\n  s.update(m, mpos, n);\n  s.finish(out, outpos);\n  return 0;\n}\n\nfunction crypto_onetimeauth_verify(h, hpos, m, mpos, n, k) {\n  var x = new Uint8Array(16);\n  crypto_onetimeauth(x,0,m,mpos,n,k);\n  return crypto_verify_16(h,hpos,x,0);\n}\n\nfunction crypto_secretbox(c,m,d,n,k) {\n  var i;\n  if (d < 32) return -1;\n  crypto_stream_xor(c,0,m,0,d,n,k);\n  crypto_onetimeauth(c, 16, c, 32, d - 32, c);\n  for (i = 0; i < 16; i++) c[i] = 0;\n  return 0;\n}\n\nfunction crypto_secretbox_open(m,c,d,n,k) {\n  var i;\n  var x = new Uint8Array(32);\n  if (d < 32) return -1;\n  crypto_stream(x,0,32,n,k);\n  if (crypto_onetimeauth_verify(c, 16,c, 32,d - 32,x) !== 0) return -1;\n  crypto_stream_xor(m,0,c,0,d,n,k);\n  for (i = 0; i < 32; i++) m[i] = 0;\n  return 0;\n}\n\nfunction set25519(r, a) {\n  var i;\n  for (i = 0; i < 16; i++) r[i] = a[i]|0;\n}\n\nfunction car25519(o) {\n  var i, v, c = 1;\n  for (i = 0; i < 16; i++) {\n    v = o[i] + c + 65535;\n    c = Math.floor(v / 65536);\n    o[i] = v - c * 65536;\n  }\n  o[0] += c-1 + 37 * (c-1);\n}\n\nfunction sel25519(p, q, b) {\n  var t, c = ~(b-1);\n  for (var i = 0; i < 16; i++) {\n    t = c & (p[i] ^ q[i]);\n    p[i] ^= t;\n    q[i] ^= t;\n  }\n}\n\nfunction pack25519(o, n) {\n  var i, j, b;\n  var m = gf(), t = gf();\n  for (i = 0; i < 16; i++) t[i] = n[i];\n  car25519(t);\n  car25519(t);\n  car25519(t);\n  for (j = 0; j < 2; j++) {\n    m[0] = t[0] - 0xffed;\n    for (i = 1; i < 15; i++) {\n      m[i] = t[i] - 0xffff - ((m[i-1]>>16) & 1);\n      m[i-1] &= 0xffff;\n    }\n    m[15] = t[15] - 0x7fff - ((m[14]>>16) & 1);\n    b = (m[15]>>16) & 1;\n    m[14] &= 0xffff;\n    sel25519(t, m, 1-b);\n  }\n  for (i = 0; i < 16; i++) {\n    o[2*i] = t[i] & 0xff;\n    o[2*i+1] = t[i]>>8;\n  }\n}\n\nfunction neq25519(a, b) {\n  var c = new Uint8Array(32), d = new Uint8Array(32);\n  pack25519(c, a);\n  pack25519(d, b);\n  return crypto_verify_32(c, 0, d, 0);\n}\n\nfunction par25519(a) {\n  var d = new Uint8Array(32);\n  pack25519(d, a);\n  return d[0] & 1;\n}\n\nfunction unpack25519(o, n) {\n  var i;\n  for (i = 0; i < 16; i++) o[i] = n[2*i] + (n[2*i+1] << 8);\n  o[15] &= 0x7fff;\n}\n\nfunction A(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] + b[i];\n}\n\nfunction Z(o, a, b) {\n  for (var i = 0; i < 16; i++) o[i] = a[i] - b[i];\n}\n\nfunction M(o, a, b) {\n  var v, c,\n     t0 = 0,  t1 = 0,  t2 = 0,  t3 = 0,  t4 = 0,  t5 = 0,  t6 = 0,  t7 = 0,\n     t8 = 0,  t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0,\n    t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0,\n    t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0,\n    b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3],\n    b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7],\n    b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11],\n    b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n\n  v = a[0];\n  t0 += v * b0;\n  t1 += v * b1;\n  t2 += v * b2;\n  t3 += v * b3;\n  t4 += v * b4;\n  t5 += v * b5;\n  t6 += v * b6;\n  t7 += v * b7;\n  t8 += v * b8;\n  t9 += v * b9;\n  t10 += v * b10;\n  t11 += v * b11;\n  t12 += v * b12;\n  t13 += v * b13;\n  t14 += v * b14;\n  t15 += v * b15;\n  v = a[1];\n  t1 += v * b0;\n  t2 += v * b1;\n  t3 += v * b2;\n  t4 += v * b3;\n  t5 += v * b4;\n  t6 += v * b5;\n  t7 += v * b6;\n  t8 += v * b7;\n  t9 += v * b8;\n  t10 += v * b9;\n  t11 += v * b10;\n  t12 += v * b11;\n  t13 += v * b12;\n  t14 += v * b13;\n  t15 += v * b14;\n  t16 += v * b15;\n  v = a[2];\n  t2 += v * b0;\n  t3 += v * b1;\n  t4 += v * b2;\n  t5 += v * b3;\n  t6 += v * b4;\n  t7 += v * b5;\n  t8 += v * b6;\n  t9 += v * b7;\n  t10 += v * b8;\n  t11 += v * b9;\n  t12 += v * b10;\n  t13 += v * b11;\n  t14 += v * b12;\n  t15 += v * b13;\n  t16 += v * b14;\n  t17 += v * b15;\n  v = a[3];\n  t3 += v * b0;\n  t4 += v * b1;\n  t5 += v * b2;\n  t6 += v * b3;\n  t7 += v * b4;\n  t8 += v * b5;\n  t9 += v * b6;\n  t10 += v * b7;\n  t11 += v * b8;\n  t12 += v * b9;\n  t13 += v * b10;\n  t14 += v * b11;\n  t15 += v * b12;\n  t16 += v * b13;\n  t17 += v * b14;\n  t18 += v * b15;\n  v = a[4];\n  t4 += v * b0;\n  t5 += v * b1;\n  t6 += v * b2;\n  t7 += v * b3;\n  t8 += v * b4;\n  t9 += v * b5;\n  t10 += v * b6;\n  t11 += v * b7;\n  t12 += v * b8;\n  t13 += v * b9;\n  t14 += v * b10;\n  t15 += v * b11;\n  t16 += v * b12;\n  t17 += v * b13;\n  t18 += v * b14;\n  t19 += v * b15;\n  v = a[5];\n  t5 += v * b0;\n  t6 += v * b1;\n  t7 += v * b2;\n  t8 += v * b3;\n  t9 += v * b4;\n  t10 += v * b5;\n  t11 += v * b6;\n  t12 += v * b7;\n  t13 += v * b8;\n  t14 += v * b9;\n  t15 += v * b10;\n  t16 += v * b11;\n  t17 += v * b12;\n  t18 += v * b13;\n  t19 += v * b14;\n  t20 += v * b15;\n  v = a[6];\n  t6 += v * b0;\n  t7 += v * b1;\n  t8 += v * b2;\n  t9 += v * b3;\n  t10 += v * b4;\n  t11 += v * b5;\n  t12 += v * b6;\n  t13 += v * b7;\n  t14 += v * b8;\n  t15 += v * b9;\n  t16 += v * b10;\n  t17 += v * b11;\n  t18 += v * b12;\n  t19 += v * b13;\n  t20 += v * b14;\n  t21 += v * b15;\n  v = a[7];\n  t7 += v * b0;\n  t8 += v * b1;\n  t9 += v * b2;\n  t10 += v * b3;\n  t11 += v * b4;\n  t12 += v * b5;\n  t13 += v * b6;\n  t14 += v * b7;\n  t15 += v * b8;\n  t16 += v * b9;\n  t17 += v * b10;\n  t18 += v * b11;\n  t19 += v * b12;\n  t20 += v * b13;\n  t21 += v * b14;\n  t22 += v * b15;\n  v = a[8];\n  t8 += v * b0;\n  t9 += v * b1;\n  t10 += v * b2;\n  t11 += v * b3;\n  t12 += v * b4;\n  t13 += v * b5;\n  t14 += v * b6;\n  t15 += v * b7;\n  t16 += v * b8;\n  t17 += v * b9;\n  t18 += v * b10;\n  t19 += v * b11;\n  t20 += v * b12;\n  t21 += v * b13;\n  t22 += v * b14;\n  t23 += v * b15;\n  v = a[9];\n  t9 += v * b0;\n  t10 += v * b1;\n  t11 += v * b2;\n  t12 += v * b3;\n  t13 += v * b4;\n  t14 += v * b5;\n  t15 += v * b6;\n  t16 += v * b7;\n  t17 += v * b8;\n  t18 += v * b9;\n  t19 += v * b10;\n  t20 += v * b11;\n  t21 += v * b12;\n  t22 += v * b13;\n  t23 += v * b14;\n  t24 += v * b15;\n  v = a[10];\n  t10 += v * b0;\n  t11 += v * b1;\n  t12 += v * b2;\n  t13 += v * b3;\n  t14 += v * b4;\n  t15 += v * b5;\n  t16 += v * b6;\n  t17 += v * b7;\n  t18 += v * b8;\n  t19 += v * b9;\n  t20 += v * b10;\n  t21 += v * b11;\n  t22 += v * b12;\n  t23 += v * b13;\n  t24 += v * b14;\n  t25 += v * b15;\n  v = a[11];\n  t11 += v * b0;\n  t12 += v * b1;\n  t13 += v * b2;\n  t14 += v * b3;\n  t15 += v * b4;\n  t16 += v * b5;\n  t17 += v * b6;\n  t18 += v * b7;\n  t19 += v * b8;\n  t20 += v * b9;\n  t21 += v * b10;\n  t22 += v * b11;\n  t23 += v * b12;\n  t24 += v * b13;\n  t25 += v * b14;\n  t26 += v * b15;\n  v = a[12];\n  t12 += v * b0;\n  t13 += v * b1;\n  t14 += v * b2;\n  t15 += v * b3;\n  t16 += v * b4;\n  t17 += v * b5;\n  t18 += v * b6;\n  t19 += v * b7;\n  t20 += v * b8;\n  t21 += v * b9;\n  t22 += v * b10;\n  t23 += v * b11;\n  t24 += v * b12;\n  t25 += v * b13;\n  t26 += v * b14;\n  t27 += v * b15;\n  v = a[13];\n  t13 += v * b0;\n  t14 += v * b1;\n  t15 += v * b2;\n  t16 += v * b3;\n  t17 += v * b4;\n  t18 += v * b5;\n  t19 += v * b6;\n  t20 += v * b7;\n  t21 += v * b8;\n  t22 += v * b9;\n  t23 += v * b10;\n  t24 += v * b11;\n  t25 += v * b12;\n  t26 += v * b13;\n  t27 += v * b14;\n  t28 += v * b15;\n  v = a[14];\n  t14 += v * b0;\n  t15 += v * b1;\n  t16 += v * b2;\n  t17 += v * b3;\n  t18 += v * b4;\n  t19 += v * b5;\n  t20 += v * b6;\n  t21 += v * b7;\n  t22 += v * b8;\n  t23 += v * b9;\n  t24 += v * b10;\n  t25 += v * b11;\n  t26 += v * b12;\n  t27 += v * b13;\n  t28 += v * b14;\n  t29 += v * b15;\n  v = a[15];\n  t15 += v * b0;\n  t16 += v * b1;\n  t17 += v * b2;\n  t18 += v * b3;\n  t19 += v * b4;\n  t20 += v * b5;\n  t21 += v * b6;\n  t22 += v * b7;\n  t23 += v * b8;\n  t24 += v * b9;\n  t25 += v * b10;\n  t26 += v * b11;\n  t27 += v * b12;\n  t28 += v * b13;\n  t29 += v * b14;\n  t30 += v * b15;\n\n  t0  += 38 * t16;\n  t1  += 38 * t17;\n  t2  += 38 * t18;\n  t3  += 38 * t19;\n  t4  += 38 * t20;\n  t5  += 38 * t21;\n  t6  += 38 * t22;\n  t7  += 38 * t23;\n  t8  += 38 * t24;\n  t9  += 38 * t25;\n  t10 += 38 * t26;\n  t11 += 38 * t27;\n  t12 += 38 * t28;\n  t13 += 38 * t29;\n  t14 += 38 * t30;\n  // t15 left as is\n\n  // first car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  // second car\n  c = 1;\n  v =  t0 + c + 65535; c = Math.floor(v / 65536);  t0 = v - c * 65536;\n  v =  t1 + c + 65535; c = Math.floor(v / 65536);  t1 = v - c * 65536;\n  v =  t2 + c + 65535; c = Math.floor(v / 65536);  t2 = v - c * 65536;\n  v =  t3 + c + 65535; c = Math.floor(v / 65536);  t3 = v - c * 65536;\n  v =  t4 + c + 65535; c = Math.floor(v / 65536);  t4 = v - c * 65536;\n  v =  t5 + c + 65535; c = Math.floor(v / 65536);  t5 = v - c * 65536;\n  v =  t6 + c + 65535; c = Math.floor(v / 65536);  t6 = v - c * 65536;\n  v =  t7 + c + 65535; c = Math.floor(v / 65536);  t7 = v - c * 65536;\n  v =  t8 + c + 65535; c = Math.floor(v / 65536);  t8 = v - c * 65536;\n  v =  t9 + c + 65535; c = Math.floor(v / 65536);  t9 = v - c * 65536;\n  v = t10 + c + 65535; c = Math.floor(v / 65536); t10 = v - c * 65536;\n  v = t11 + c + 65535; c = Math.floor(v / 65536); t11 = v - c * 65536;\n  v = t12 + c + 65535; c = Math.floor(v / 65536); t12 = v - c * 65536;\n  v = t13 + c + 65535; c = Math.floor(v / 65536); t13 = v - c * 65536;\n  v = t14 + c + 65535; c = Math.floor(v / 65536); t14 = v - c * 65536;\n  v = t15 + c + 65535; c = Math.floor(v / 65536); t15 = v - c * 65536;\n  t0 += c-1 + 37 * (c-1);\n\n  o[ 0] = t0;\n  o[ 1] = t1;\n  o[ 2] = t2;\n  o[ 3] = t3;\n  o[ 4] = t4;\n  o[ 5] = t5;\n  o[ 6] = t6;\n  o[ 7] = t7;\n  o[ 8] = t8;\n  o[ 9] = t9;\n  o[10] = t10;\n  o[11] = t11;\n  o[12] = t12;\n  o[13] = t13;\n  o[14] = t14;\n  o[15] = t15;\n}\n\nfunction S(o, a) {\n  M(o, a, a);\n}\n\nfunction inv25519(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 253; a >= 0; a--) {\n    S(c, c);\n    if(a !== 2 && a !== 4) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction pow2523(o, i) {\n  var c = gf();\n  var a;\n  for (a = 0; a < 16; a++) c[a] = i[a];\n  for (a = 250; a >= 0; a--) {\n      S(c, c);\n      if(a !== 1) M(c, c, i);\n  }\n  for (a = 0; a < 16; a++) o[a] = c[a];\n}\n\nfunction crypto_scalarmult(q, n, p) {\n  var z = new Uint8Array(32);\n  var x = new Float64Array(80), r, i;\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf();\n  for (i = 0; i < 31; i++) z[i] = n[i];\n  z[31]=(n[31]&127)|64;\n  z[0]&=248;\n  unpack25519(x,p);\n  for (i = 0; i < 16; i++) {\n    b[i]=x[i];\n    d[i]=a[i]=c[i]=0;\n  }\n  a[0]=d[0]=1;\n  for (i=254; i>=0; --i) {\n    r=(z[i>>>3]>>>(i&7))&1;\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n    A(e,a,c);\n    Z(a,a,c);\n    A(c,b,d);\n    Z(b,b,d);\n    S(d,e);\n    S(f,a);\n    M(a,c,a);\n    M(c,b,e);\n    A(e,a,c);\n    Z(a,a,c);\n    S(b,a);\n    Z(c,d,f);\n    M(a,c,_121665);\n    A(a,a,d);\n    M(c,c,a);\n    M(a,d,f);\n    M(d,b,x);\n    S(b,e);\n    sel25519(a,b,r);\n    sel25519(c,d,r);\n  }\n  for (i = 0; i < 16; i++) {\n    x[i+16]=a[i];\n    x[i+32]=c[i];\n    x[i+48]=b[i];\n    x[i+64]=d[i];\n  }\n  var x32 = x.subarray(32);\n  var x16 = x.subarray(16);\n  inv25519(x32,x32);\n  M(x16,x16,x32);\n  pack25519(q,x16);\n  return 0;\n}\n\nfunction crypto_scalarmult_base(q, n) {\n  return crypto_scalarmult(q, n, _9);\n}\n\nfunction crypto_box_keypair(y, x) {\n  randombytes(x, 32);\n  return crypto_scalarmult_base(y, x);\n}\n\nfunction crypto_box_beforenm(k, y, x) {\n  var s = new Uint8Array(32);\n  crypto_scalarmult(s, x, y);\n  return crypto_core_hsalsa20(k, _0, s, sigma);\n}\n\nvar crypto_box_afternm = crypto_secretbox;\nvar crypto_box_open_afternm = crypto_secretbox_open;\n\nfunction crypto_box(c, m, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_afternm(c, m, d, n, k);\n}\n\nfunction crypto_box_open(m, c, d, n, y, x) {\n  var k = new Uint8Array(32);\n  crypto_box_beforenm(k, y, x);\n  return crypto_box_open_afternm(m, c, d, n, k);\n}\n\nvar K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction crypto_hashblocks_hl(hh, hl, m, n) {\n  var wh = new Int32Array(16), wl = new Int32Array(16),\n      bh0, bh1, bh2, bh3, bh4, bh5, bh6, bh7,\n      bl0, bl1, bl2, bl3, bl4, bl5, bl6, bl7,\n      th, tl, i, j, h, l, a, b, c, d;\n\n  var ah0 = hh[0],\n      ah1 = hh[1],\n      ah2 = hh[2],\n      ah3 = hh[3],\n      ah4 = hh[4],\n      ah5 = hh[5],\n      ah6 = hh[6],\n      ah7 = hh[7],\n\n      al0 = hl[0],\n      al1 = hl[1],\n      al2 = hl[2],\n      al3 = hl[3],\n      al4 = hl[4],\n      al5 = hl[5],\n      al6 = hl[6],\n      al7 = hl[7];\n\n  var pos = 0;\n  while (n >= 128) {\n    for (i = 0; i < 16; i++) {\n      j = 8 * i + pos;\n      wh[i] = (m[j+0] << 24) | (m[j+1] << 16) | (m[j+2] << 8) | m[j+3];\n      wl[i] = (m[j+4] << 24) | (m[j+5] << 16) | (m[j+6] << 8) | m[j+7];\n    }\n    for (i = 0; i < 80; i++) {\n      bh0 = ah0;\n      bh1 = ah1;\n      bh2 = ah2;\n      bh3 = ah3;\n      bh4 = ah4;\n      bh5 = ah5;\n      bh6 = ah6;\n      bh7 = ah7;\n\n      bl0 = al0;\n      bl1 = al1;\n      bl2 = al2;\n      bl3 = al3;\n      bl4 = al4;\n      bl5 = al5;\n      bl6 = al6;\n      bl7 = al7;\n\n      // add\n      h = ah7;\n      l = al7;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma1\n      h = ((ah4 >>> 14) | (al4 << (32-14))) ^ ((ah4 >>> 18) | (al4 << (32-18))) ^ ((al4 >>> (41-32)) | (ah4 << (32-(41-32))));\n      l = ((al4 >>> 14) | (ah4 << (32-14))) ^ ((al4 >>> 18) | (ah4 << (32-18))) ^ ((ah4 >>> (41-32)) | (al4 << (32-(41-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Ch\n      h = (ah4 & ah5) ^ (~ah4 & ah6);\n      l = (al4 & al5) ^ (~al4 & al6);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // K\n      h = K[i*2];\n      l = K[i*2+1];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // w\n      h = wh[i%16];\n      l = wl[i%16];\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      th = c & 0xffff | d << 16;\n      tl = a & 0xffff | b << 16;\n\n      // add\n      h = th;\n      l = tl;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      // Sigma0\n      h = ((ah0 >>> 28) | (al0 << (32-28))) ^ ((al0 >>> (34-32)) | (ah0 << (32-(34-32)))) ^ ((al0 >>> (39-32)) | (ah0 << (32-(39-32))));\n      l = ((al0 >>> 28) | (ah0 << (32-28))) ^ ((ah0 >>> (34-32)) | (al0 << (32-(34-32)))) ^ ((ah0 >>> (39-32)) | (al0 << (32-(39-32))));\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      // Maj\n      h = (ah0 & ah1) ^ (ah0 & ah2) ^ (ah1 & ah2);\n      l = (al0 & al1) ^ (al0 & al2) ^ (al1 & al2);\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh7 = (c & 0xffff) | (d << 16);\n      bl7 = (a & 0xffff) | (b << 16);\n\n      // add\n      h = bh3;\n      l = bl3;\n\n      a = l & 0xffff; b = l >>> 16;\n      c = h & 0xffff; d = h >>> 16;\n\n      h = th;\n      l = tl;\n\n      a += l & 0xffff; b += l >>> 16;\n      c += h & 0xffff; d += h >>> 16;\n\n      b += a >>> 16;\n      c += b >>> 16;\n      d += c >>> 16;\n\n      bh3 = (c & 0xffff) | (d << 16);\n      bl3 = (a & 0xffff) | (b << 16);\n\n      ah1 = bh0;\n      ah2 = bh1;\n      ah3 = bh2;\n      ah4 = bh3;\n      ah5 = bh4;\n      ah6 = bh5;\n      ah7 = bh6;\n      ah0 = bh7;\n\n      al1 = bl0;\n      al2 = bl1;\n      al3 = bl2;\n      al4 = bl3;\n      al5 = bl4;\n      al6 = bl5;\n      al7 = bl6;\n      al0 = bl7;\n\n      if (i%16 === 15) {\n        for (j = 0; j < 16; j++) {\n          // add\n          h = wh[j];\n          l = wl[j];\n\n          a = l & 0xffff; b = l >>> 16;\n          c = h & 0xffff; d = h >>> 16;\n\n          h = wh[(j+9)%16];\n          l = wl[(j+9)%16];\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma0\n          th = wh[(j+1)%16];\n          tl = wl[(j+1)%16];\n          h = ((th >>> 1) | (tl << (32-1))) ^ ((th >>> 8) | (tl << (32-8))) ^ (th >>> 7);\n          l = ((tl >>> 1) | (th << (32-1))) ^ ((tl >>> 8) | (th << (32-8))) ^ ((tl >>> 7) | (th << (32-7)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          // sigma1\n          th = wh[(j+14)%16];\n          tl = wl[(j+14)%16];\n          h = ((th >>> 19) | (tl << (32-19))) ^ ((tl >>> (61-32)) | (th << (32-(61-32)))) ^ (th >>> 6);\n          l = ((tl >>> 19) | (th << (32-19))) ^ ((th >>> (61-32)) | (tl << (32-(61-32)))) ^ ((tl >>> 6) | (th << (32-6)));\n\n          a += l & 0xffff; b += l >>> 16;\n          c += h & 0xffff; d += h >>> 16;\n\n          b += a >>> 16;\n          c += b >>> 16;\n          d += c >>> 16;\n\n          wh[j] = (c & 0xffff) | (d << 16);\n          wl[j] = (a & 0xffff) | (b << 16);\n        }\n      }\n    }\n\n    // add\n    h = ah0;\n    l = al0;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[0];\n    l = hl[0];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[0] = ah0 = (c & 0xffff) | (d << 16);\n    hl[0] = al0 = (a & 0xffff) | (b << 16);\n\n    h = ah1;\n    l = al1;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[1];\n    l = hl[1];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[1] = ah1 = (c & 0xffff) | (d << 16);\n    hl[1] = al1 = (a & 0xffff) | (b << 16);\n\n    h = ah2;\n    l = al2;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[2];\n    l = hl[2];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[2] = ah2 = (c & 0xffff) | (d << 16);\n    hl[2] = al2 = (a & 0xffff) | (b << 16);\n\n    h = ah3;\n    l = al3;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[3];\n    l = hl[3];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[3] = ah3 = (c & 0xffff) | (d << 16);\n    hl[3] = al3 = (a & 0xffff) | (b << 16);\n\n    h = ah4;\n    l = al4;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[4];\n    l = hl[4];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[4] = ah4 = (c & 0xffff) | (d << 16);\n    hl[4] = al4 = (a & 0xffff) | (b << 16);\n\n    h = ah5;\n    l = al5;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[5];\n    l = hl[5];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[5] = ah5 = (c & 0xffff) | (d << 16);\n    hl[5] = al5 = (a & 0xffff) | (b << 16);\n\n    h = ah6;\n    l = al6;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[6];\n    l = hl[6];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[6] = ah6 = (c & 0xffff) | (d << 16);\n    hl[6] = al6 = (a & 0xffff) | (b << 16);\n\n    h = ah7;\n    l = al7;\n\n    a = l & 0xffff; b = l >>> 16;\n    c = h & 0xffff; d = h >>> 16;\n\n    h = hh[7];\n    l = hl[7];\n\n    a += l & 0xffff; b += l >>> 16;\n    c += h & 0xffff; d += h >>> 16;\n\n    b += a >>> 16;\n    c += b >>> 16;\n    d += c >>> 16;\n\n    hh[7] = ah7 = (c & 0xffff) | (d << 16);\n    hl[7] = al7 = (a & 0xffff) | (b << 16);\n\n    pos += 128;\n    n -= 128;\n  }\n\n  return n;\n}\n\nfunction crypto_hash(out, m, n) {\n  var hh = new Int32Array(8),\n      hl = new Int32Array(8),\n      x = new Uint8Array(256),\n      i, b = n;\n\n  hh[0] = 0x6a09e667;\n  hh[1] = 0xbb67ae85;\n  hh[2] = 0x3c6ef372;\n  hh[3] = 0xa54ff53a;\n  hh[4] = 0x510e527f;\n  hh[5] = 0x9b05688c;\n  hh[6] = 0x1f83d9ab;\n  hh[7] = 0x5be0cd19;\n\n  hl[0] = 0xf3bcc908;\n  hl[1] = 0x84caa73b;\n  hl[2] = 0xfe94f82b;\n  hl[3] = 0x5f1d36f1;\n  hl[4] = 0xade682d1;\n  hl[5] = 0x2b3e6c1f;\n  hl[6] = 0xfb41bd6b;\n  hl[7] = 0x137e2179;\n\n  crypto_hashblocks_hl(hh, hl, m, n);\n  n %= 128;\n\n  for (i = 0; i < n; i++) x[i] = m[b-n+i];\n  x[n] = 128;\n\n  n = 256-128*(n<112?1:0);\n  x[n-9] = 0;\n  ts64(x, n-8,  (b / 0x20000000) | 0, b << 3);\n  crypto_hashblocks_hl(hh, hl, x, n);\n\n  for (i = 0; i < 8; i++) ts64(out, 8*i, hh[i], hl[i]);\n\n  return 0;\n}\n\nfunction add(p, q) {\n  var a = gf(), b = gf(), c = gf(),\n      d = gf(), e = gf(), f = gf(),\n      g = gf(), h = gf(), t = gf();\n\n  Z(a, p[1], p[0]);\n  Z(t, q[1], q[0]);\n  M(a, a, t);\n  A(b, p[0], p[1]);\n  A(t, q[0], q[1]);\n  M(b, b, t);\n  M(c, p[3], q[3]);\n  M(c, c, D2);\n  M(d, p[2], q[2]);\n  A(d, d, d);\n  Z(e, b, a);\n  Z(f, d, c);\n  A(g, d, c);\n  A(h, b, a);\n\n  M(p[0], e, f);\n  M(p[1], h, g);\n  M(p[2], g, f);\n  M(p[3], e, h);\n}\n\nfunction cswap(p, q, b) {\n  var i;\n  for (i = 0; i < 4; i++) {\n    sel25519(p[i], q[i], b);\n  }\n}\n\nfunction pack(r, p) {\n  var tx = gf(), ty = gf(), zi = gf();\n  inv25519(zi, p[2]);\n  M(tx, p[0], zi);\n  M(ty, p[1], zi);\n  pack25519(r, ty);\n  r[31] ^= par25519(tx) << 7;\n}\n\nfunction scalarmult(p, q, s) {\n  var b, i;\n  set25519(p[0], gf0);\n  set25519(p[1], gf1);\n  set25519(p[2], gf1);\n  set25519(p[3], gf0);\n  for (i = 255; i >= 0; --i) {\n    b = (s[(i/8)|0] >> (i&7)) & 1;\n    cswap(p, q, b);\n    add(q, p);\n    add(p, p);\n    cswap(p, q, b);\n  }\n}\n\nfunction scalarbase(p, s) {\n  var q = [gf(), gf(), gf(), gf()];\n  set25519(q[0], X);\n  set25519(q[1], Y);\n  set25519(q[2], gf1);\n  M(q[3], X, Y);\n  scalarmult(p, q, s);\n}\n\nfunction crypto_sign_keypair(pk, sk, seeded) {\n  var d = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n  var i;\n\n  if (!seeded) randombytes(sk, 32);\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  scalarbase(p, d);\n  pack(pk, p);\n\n  for (i = 0; i < 32; i++) sk[i+32] = pk[i];\n  return 0;\n}\n\nvar L = new Float64Array([0xed, 0xd3, 0xf5, 0x5c, 0x1a, 0x63, 0x12, 0x58, 0xd6, 0x9c, 0xf7, 0xa2, 0xde, 0xf9, 0xde, 0x14, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0x10]);\n\nfunction modL(r, x) {\n  var carry, i, j, k;\n  for (i = 63; i >= 32; --i) {\n    carry = 0;\n    for (j = i - 32, k = i - 12; j < k; ++j) {\n      x[j] += carry - 16 * x[i] * L[j - (i - 32)];\n      carry = Math.floor((x[j] + 128) / 256);\n      x[j] -= carry * 256;\n    }\n    x[j] += carry;\n    x[i] = 0;\n  }\n  carry = 0;\n  for (j = 0; j < 32; j++) {\n    x[j] += carry - (x[31] >> 4) * L[j];\n    carry = x[j] >> 8;\n    x[j] &= 255;\n  }\n  for (j = 0; j < 32; j++) x[j] -= carry * L[j];\n  for (i = 0; i < 32; i++) {\n    x[i+1] += x[i] >> 8;\n    r[i] = x[i] & 255;\n  }\n}\n\nfunction reduce(r) {\n  var x = new Float64Array(64), i;\n  for (i = 0; i < 64; i++) x[i] = r[i];\n  for (i = 0; i < 64; i++) r[i] = 0;\n  modL(r, x);\n}\n\n// Note: difference from C - smlen returned, not passed as argument.\nfunction crypto_sign(sm, m, n, sk) {\n  var d = new Uint8Array(64), h = new Uint8Array(64), r = new Uint8Array(64);\n  var i, j, x = new Float64Array(64);\n  var p = [gf(), gf(), gf(), gf()];\n\n  crypto_hash(d, sk, 32);\n  d[0] &= 248;\n  d[31] &= 127;\n  d[31] |= 64;\n\n  var smlen = n + 64;\n  for (i = 0; i < n; i++) sm[64 + i] = m[i];\n  for (i = 0; i < 32; i++) sm[32 + i] = d[32 + i];\n\n  crypto_hash(r, sm.subarray(32), n+32);\n  reduce(r);\n  scalarbase(p, r);\n  pack(sm, p);\n\n  for (i = 32; i < 64; i++) sm[i] = sk[i];\n  crypto_hash(h, sm, n + 64);\n  reduce(h);\n\n  for (i = 0; i < 64; i++) x[i] = 0;\n  for (i = 0; i < 32; i++) x[i] = r[i];\n  for (i = 0; i < 32; i++) {\n    for (j = 0; j < 32; j++) {\n      x[i+j] += h[i] * d[j];\n    }\n  }\n\n  modL(sm.subarray(32), x);\n  return smlen;\n}\n\nfunction unpackneg(r, p) {\n  var t = gf(), chk = gf(), num = gf(),\n      den = gf(), den2 = gf(), den4 = gf(),\n      den6 = gf();\n\n  set25519(r[2], gf1);\n  unpack25519(r[1], p);\n  S(num, r[1]);\n  M(den, num, D);\n  Z(num, num, r[2]);\n  A(den, r[2], den);\n\n  S(den2, den);\n  S(den4, den2);\n  M(den6, den4, den2);\n  M(t, den6, num);\n  M(t, t, den);\n\n  pow2523(t, t);\n  M(t, t, num);\n  M(t, t, den);\n  M(t, t, den);\n  M(r[0], t, den);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) M(r[0], r[0], I);\n\n  S(chk, r[0]);\n  M(chk, chk, den);\n  if (neq25519(chk, num)) return -1;\n\n  if (par25519(r[0]) === (p[31]>>7)) Z(r[0], gf0, r[0]);\n\n  M(r[3], r[0], r[1]);\n  return 0;\n}\n\nfunction crypto_sign_open(m, sm, n, pk) {\n  var i;\n  var t = new Uint8Array(32), h = new Uint8Array(64);\n  var p = [gf(), gf(), gf(), gf()],\n      q = [gf(), gf(), gf(), gf()];\n\n  if (n < 64) return -1;\n\n  if (unpackneg(q, pk)) return -1;\n\n  for (i = 0; i < n; i++) m[i] = sm[i];\n  for (i = 0; i < 32; i++) m[i+32] = pk[i];\n  crypto_hash(h, m, n);\n  reduce(h);\n  scalarmult(p, q, h);\n\n  scalarbase(q, sm.subarray(32));\n  add(p, q);\n  pack(t, p);\n\n  n -= 64;\n  if (crypto_verify_32(sm, 0, t, 0)) {\n    for (i = 0; i < n; i++) m[i] = 0;\n    return -1;\n  }\n\n  for (i = 0; i < n; i++) m[i] = sm[i + 64];\n  return n;\n}\n\nvar crypto_secretbox_KEYBYTES = 32,\n    crypto_secretbox_NONCEBYTES = 24,\n    crypto_secretbox_ZEROBYTES = 32,\n    crypto_secretbox_BOXZEROBYTES = 16,\n    crypto_scalarmult_BYTES = 32,\n    crypto_scalarmult_SCALARBYTES = 32,\n    crypto_box_PUBLICKEYBYTES = 32,\n    crypto_box_SECRETKEYBYTES = 32,\n    crypto_box_BEFORENMBYTES = 32,\n    crypto_box_NONCEBYTES = crypto_secretbox_NONCEBYTES,\n    crypto_box_ZEROBYTES = crypto_secretbox_ZEROBYTES,\n    crypto_box_BOXZEROBYTES = crypto_secretbox_BOXZEROBYTES,\n    crypto_sign_BYTES = 64,\n    crypto_sign_PUBLICKEYBYTES = 32,\n    crypto_sign_SECRETKEYBYTES = 64,\n    crypto_sign_SEEDBYTES = 32,\n    crypto_hash_BYTES = 64;\n\nnacl.lowlevel = {\n  crypto_core_hsalsa20: crypto_core_hsalsa20,\n  crypto_stream_xor: crypto_stream_xor,\n  crypto_stream: crypto_stream,\n  crypto_stream_salsa20_xor: crypto_stream_salsa20_xor,\n  crypto_stream_salsa20: crypto_stream_salsa20,\n  crypto_onetimeauth: crypto_onetimeauth,\n  crypto_onetimeauth_verify: crypto_onetimeauth_verify,\n  crypto_verify_16: crypto_verify_16,\n  crypto_verify_32: crypto_verify_32,\n  crypto_secretbox: crypto_secretbox,\n  crypto_secretbox_open: crypto_secretbox_open,\n  crypto_scalarmult: crypto_scalarmult,\n  crypto_scalarmult_base: crypto_scalarmult_base,\n  crypto_box_beforenm: crypto_box_beforenm,\n  crypto_box_afternm: crypto_box_afternm,\n  crypto_box: crypto_box,\n  crypto_box_open: crypto_box_open,\n  crypto_box_keypair: crypto_box_keypair,\n  crypto_hash: crypto_hash,\n  crypto_sign: crypto_sign,\n  crypto_sign_keypair: crypto_sign_keypair,\n  crypto_sign_open: crypto_sign_open,\n\n  crypto_secretbox_KEYBYTES: crypto_secretbox_KEYBYTES,\n  crypto_secretbox_NONCEBYTES: crypto_secretbox_NONCEBYTES,\n  crypto_secretbox_ZEROBYTES: crypto_secretbox_ZEROBYTES,\n  crypto_secretbox_BOXZEROBYTES: crypto_secretbox_BOXZEROBYTES,\n  crypto_scalarmult_BYTES: crypto_scalarmult_BYTES,\n  crypto_scalarmult_SCALARBYTES: crypto_scalarmult_SCALARBYTES,\n  crypto_box_PUBLICKEYBYTES: crypto_box_PUBLICKEYBYTES,\n  crypto_box_SECRETKEYBYTES: crypto_box_SECRETKEYBYTES,\n  crypto_box_BEFORENMBYTES: crypto_box_BEFORENMBYTES,\n  crypto_box_NONCEBYTES: crypto_box_NONCEBYTES,\n  crypto_box_ZEROBYTES: crypto_box_ZEROBYTES,\n  crypto_box_BOXZEROBYTES: crypto_box_BOXZEROBYTES,\n  crypto_sign_BYTES: crypto_sign_BYTES,\n  crypto_sign_PUBLICKEYBYTES: crypto_sign_PUBLICKEYBYTES,\n  crypto_sign_SECRETKEYBYTES: crypto_sign_SECRETKEYBYTES,\n  crypto_sign_SEEDBYTES: crypto_sign_SEEDBYTES,\n  crypto_hash_BYTES: crypto_hash_BYTES,\n\n  gf: gf,\n  D: D,\n  L: L,\n  pack25519: pack25519,\n  unpack25519: unpack25519,\n  M: M,\n  A: A,\n  S: S,\n  Z: Z,\n  pow2523: pow2523,\n  add: add,\n  set25519: set25519,\n  modL: modL,\n  scalarmult: scalarmult,\n  scalarbase: scalarbase,\n};\n\n/* High-level API */\n\nfunction checkLengths(k, n) {\n  if (k.length !== crypto_secretbox_KEYBYTES) throw new Error('bad key size');\n  if (n.length !== crypto_secretbox_NONCEBYTES) throw new Error('bad nonce size');\n}\n\nfunction checkBoxLengths(pk, sk) {\n  if (pk.length !== crypto_box_PUBLICKEYBYTES) throw new Error('bad public key size');\n  if (sk.length !== crypto_box_SECRETKEYBYTES) throw new Error('bad secret key size');\n}\n\nfunction checkArrayTypes() {\n  for (var i = 0; i < arguments.length; i++) {\n    if (!(arguments[i] instanceof Uint8Array))\n      throw new TypeError('unexpected type, use Uint8Array');\n  }\n}\n\nfunction cleanup(arr) {\n  for (var i = 0; i < arr.length; i++) arr[i] = 0;\n}\n\nnacl.randomBytes = function(n) {\n  var b = new Uint8Array(n);\n  randombytes(b, n);\n  return b;\n};\n\nnacl.secretbox = function(msg, nonce, key) {\n  checkArrayTypes(msg, nonce, key);\n  checkLengths(key, nonce);\n  var m = new Uint8Array(crypto_secretbox_ZEROBYTES + msg.length);\n  var c = new Uint8Array(m.length);\n  for (var i = 0; i < msg.length; i++) m[i+crypto_secretbox_ZEROBYTES] = msg[i];\n  crypto_secretbox(c, m, m.length, nonce, key);\n  return c.subarray(crypto_secretbox_BOXZEROBYTES);\n};\n\nnacl.secretbox.open = function(box, nonce, key) {\n  checkArrayTypes(box, nonce, key);\n  checkLengths(key, nonce);\n  var c = new Uint8Array(crypto_secretbox_BOXZEROBYTES + box.length);\n  var m = new Uint8Array(c.length);\n  for (var i = 0; i < box.length; i++) c[i+crypto_secretbox_BOXZEROBYTES] = box[i];\n  if (c.length < 32) return null;\n  if (crypto_secretbox_open(m, c, c.length, nonce, key) !== 0) return null;\n  return m.subarray(crypto_secretbox_ZEROBYTES);\n};\n\nnacl.secretbox.keyLength = crypto_secretbox_KEYBYTES;\nnacl.secretbox.nonceLength = crypto_secretbox_NONCEBYTES;\nnacl.secretbox.overheadLength = crypto_secretbox_BOXZEROBYTES;\n\nnacl.scalarMult = function(n, p) {\n  checkArrayTypes(n, p);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  if (p.length !== crypto_scalarmult_BYTES) throw new Error('bad p size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult(q, n, p);\n  return q;\n};\n\nnacl.scalarMult.base = function(n) {\n  checkArrayTypes(n);\n  if (n.length !== crypto_scalarmult_SCALARBYTES) throw new Error('bad n size');\n  var q = new Uint8Array(crypto_scalarmult_BYTES);\n  crypto_scalarmult_base(q, n);\n  return q;\n};\n\nnacl.scalarMult.scalarLength = crypto_scalarmult_SCALARBYTES;\nnacl.scalarMult.groupElementLength = crypto_scalarmult_BYTES;\n\nnacl.box = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox(msg, nonce, k);\n};\n\nnacl.box.before = function(publicKey, secretKey) {\n  checkArrayTypes(publicKey, secretKey);\n  checkBoxLengths(publicKey, secretKey);\n  var k = new Uint8Array(crypto_box_BEFORENMBYTES);\n  crypto_box_beforenm(k, publicKey, secretKey);\n  return k;\n};\n\nnacl.box.after = nacl.secretbox;\n\nnacl.box.open = function(msg, nonce, publicKey, secretKey) {\n  var k = nacl.box.before(publicKey, secretKey);\n  return nacl.secretbox.open(msg, nonce, k);\n};\n\nnacl.box.open.after = nacl.secretbox.open;\n\nnacl.box.keyPair = function() {\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_box_SECRETKEYBYTES);\n  crypto_box_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.box.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_box_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_box_PUBLICKEYBYTES);\n  crypto_scalarmult_base(pk, secretKey);\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.box.publicKeyLength = crypto_box_PUBLICKEYBYTES;\nnacl.box.secretKeyLength = crypto_box_SECRETKEYBYTES;\nnacl.box.sharedKeyLength = crypto_box_BEFORENMBYTES;\nnacl.box.nonceLength = crypto_box_NONCEBYTES;\nnacl.box.overheadLength = nacl.secretbox.overheadLength;\n\nnacl.sign = function(msg, secretKey) {\n  checkArrayTypes(msg, secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var signedMsg = new Uint8Array(crypto_sign_BYTES+msg.length);\n  crypto_sign(signedMsg, msg, msg.length, secretKey);\n  return signedMsg;\n};\n\nnacl.sign.open = function(signedMsg, publicKey) {\n  checkArrayTypes(signedMsg, publicKey);\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var tmp = new Uint8Array(signedMsg.length);\n  var mlen = crypto_sign_open(tmp, signedMsg, signedMsg.length, publicKey);\n  if (mlen < 0) return null;\n  var m = new Uint8Array(mlen);\n  for (var i = 0; i < m.length; i++) m[i] = tmp[i];\n  return m;\n};\n\nnacl.sign.detached = function(msg, secretKey) {\n  var signedMsg = nacl.sign(msg, secretKey);\n  var sig = new Uint8Array(crypto_sign_BYTES);\n  for (var i = 0; i < sig.length; i++) sig[i] = signedMsg[i];\n  return sig;\n};\n\nnacl.sign.detached.verify = function(msg, sig, publicKey) {\n  checkArrayTypes(msg, sig, publicKey);\n  if (sig.length !== crypto_sign_BYTES)\n    throw new Error('bad signature size');\n  if (publicKey.length !== crypto_sign_PUBLICKEYBYTES)\n    throw new Error('bad public key size');\n  var sm = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var m = new Uint8Array(crypto_sign_BYTES + msg.length);\n  var i;\n  for (i = 0; i < crypto_sign_BYTES; i++) sm[i] = sig[i];\n  for (i = 0; i < msg.length; i++) sm[i+crypto_sign_BYTES] = msg[i];\n  return (crypto_sign_open(m, sm, sm.length, publicKey) >= 0);\n};\n\nnacl.sign.keyPair = function() {\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  crypto_sign_keypair(pk, sk);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.keyPair.fromSecretKey = function(secretKey) {\n  checkArrayTypes(secretKey);\n  if (secretKey.length !== crypto_sign_SECRETKEYBYTES)\n    throw new Error('bad secret key size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  for (var i = 0; i < pk.length; i++) pk[i] = secretKey[32+i];\n  return {publicKey: pk, secretKey: new Uint8Array(secretKey)};\n};\n\nnacl.sign.keyPair.fromSeed = function(seed) {\n  checkArrayTypes(seed);\n  if (seed.length !== crypto_sign_SEEDBYTES)\n    throw new Error('bad seed size');\n  var pk = new Uint8Array(crypto_sign_PUBLICKEYBYTES);\n  var sk = new Uint8Array(crypto_sign_SECRETKEYBYTES);\n  for (var i = 0; i < 32; i++) sk[i] = seed[i];\n  crypto_sign_keypair(pk, sk, true);\n  return {publicKey: pk, secretKey: sk};\n};\n\nnacl.sign.publicKeyLength = crypto_sign_PUBLICKEYBYTES;\nnacl.sign.secretKeyLength = crypto_sign_SECRETKEYBYTES;\nnacl.sign.seedLength = crypto_sign_SEEDBYTES;\nnacl.sign.signatureLength = crypto_sign_BYTES;\n\nnacl.hash = function(msg) {\n  checkArrayTypes(msg);\n  var h = new Uint8Array(crypto_hash_BYTES);\n  crypto_hash(h, msg, msg.length);\n  return h;\n};\n\nnacl.hash.hashLength = crypto_hash_BYTES;\n\nnacl.verify = function(x, y) {\n  checkArrayTypes(x, y);\n  // Zero length arguments are considered not equal.\n  if (x.length === 0 || y.length === 0) return false;\n  if (x.length !== y.length) return false;\n  return (vn(x, 0, y, 0, x.length) === 0) ? true : false;\n};\n\nnacl.setPRNG = function(fn) {\n  randombytes = fn;\n};\n\n(function() {\n  // Initialize PRNG if environment provides CSPRNG.\n  // If not, methods calling randombytes will throw.\n  var crypto = typeof self !== 'undefined' ? (self.crypto || self.msCrypto) : null;\n  if (crypto && crypto.getRandomValues) {\n    // Browsers.\n    var QUOTA = 65536;\n    nacl.setPRNG(function(x, n) {\n      var i, v = new Uint8Array(n);\n      for (i = 0; i < n; i += QUOTA) {\n        crypto.getRandomValues(v.subarray(i, i + Math.min(n - i, QUOTA)));\n      }\n      for (i = 0; i < n; i++) x[i] = v[i];\n      cleanup(v);\n    });\n  } else if (typeof require !== 'undefined') {\n    // Node.js.\n    crypto = require('crypto');\n    if (crypto && crypto.randomBytes) {\n      nacl.setPRNG(function(x, n) {\n        var i, v = crypto.randomBytes(n);\n        for (i = 0; i < n; i++) x[i] = v[i];\n        cleanup(v);\n      });\n    }\n  }\n})();\n\n})(typeof module !== 'undefined' && module.exports ? module.exports : (self.nacl = self.nacl || {}));\n","import nacl from 'tweetnacl-util';\nimport nacl$1 from 'tweetnacl';\n\nvar CONNECT_EVENT_ERROR_CODES;\n(function (CONNECT_EVENT_ERROR_CODES) {\n    CONNECT_EVENT_ERROR_CODES[CONNECT_EVENT_ERROR_CODES[\"UNKNOWN_ERROR\"] = 0] = \"UNKNOWN_ERROR\";\n    CONNECT_EVENT_ERROR_CODES[CONNECT_EVENT_ERROR_CODES[\"BAD_REQUEST_ERROR\"] = 1] = \"BAD_REQUEST_ERROR\";\n    CONNECT_EVENT_ERROR_CODES[CONNECT_EVENT_ERROR_CODES[\"MANIFEST_NOT_FOUND_ERROR\"] = 2] = \"MANIFEST_NOT_FOUND_ERROR\";\n    CONNECT_EVENT_ERROR_CODES[CONNECT_EVENT_ERROR_CODES[\"MANIFEST_CONTENT_ERROR\"] = 3] = \"MANIFEST_CONTENT_ERROR\";\n    CONNECT_EVENT_ERROR_CODES[CONNECT_EVENT_ERROR_CODES[\"UNKNOWN_APP_ERROR\"] = 100] = \"UNKNOWN_APP_ERROR\";\n    CONNECT_EVENT_ERROR_CODES[CONNECT_EVENT_ERROR_CODES[\"USER_REJECTS_ERROR\"] = 300] = \"USER_REJECTS_ERROR\";\n    CONNECT_EVENT_ERROR_CODES[CONNECT_EVENT_ERROR_CODES[\"METHOD_NOT_SUPPORTED\"] = 400] = \"METHOD_NOT_SUPPORTED\";\n})(CONNECT_EVENT_ERROR_CODES || (CONNECT_EVENT_ERROR_CODES = {}));\nvar CONNECT_ITEM_ERROR_CODES;\n(function (CONNECT_ITEM_ERROR_CODES) {\n    CONNECT_ITEM_ERROR_CODES[CONNECT_ITEM_ERROR_CODES[\"UNKNOWN_ERROR\"] = 0] = \"UNKNOWN_ERROR\";\n    CONNECT_ITEM_ERROR_CODES[CONNECT_ITEM_ERROR_CODES[\"METHOD_NOT_SUPPORTED\"] = 400] = \"METHOD_NOT_SUPPORTED\";\n})(CONNECT_ITEM_ERROR_CODES || (CONNECT_ITEM_ERROR_CODES = {}));\n\nvar SEND_TRANSACTION_ERROR_CODES;\n(function (SEND_TRANSACTION_ERROR_CODES) {\n    SEND_TRANSACTION_ERROR_CODES[SEND_TRANSACTION_ERROR_CODES[\"UNKNOWN_ERROR\"] = 0] = \"UNKNOWN_ERROR\";\n    SEND_TRANSACTION_ERROR_CODES[SEND_TRANSACTION_ERROR_CODES[\"BAD_REQUEST_ERROR\"] = 1] = \"BAD_REQUEST_ERROR\";\n    SEND_TRANSACTION_ERROR_CODES[SEND_TRANSACTION_ERROR_CODES[\"UNKNOWN_APP_ERROR\"] = 100] = \"UNKNOWN_APP_ERROR\";\n    SEND_TRANSACTION_ERROR_CODES[SEND_TRANSACTION_ERROR_CODES[\"USER_REJECTS_ERROR\"] = 300] = \"USER_REJECTS_ERROR\";\n    SEND_TRANSACTION_ERROR_CODES[SEND_TRANSACTION_ERROR_CODES[\"METHOD_NOT_SUPPORTED\"] = 400] = \"METHOD_NOT_SUPPORTED\";\n})(SEND_TRANSACTION_ERROR_CODES || (SEND_TRANSACTION_ERROR_CODES = {}));\n\nvar SIGN_DATA_ERROR_CODES;\n(function (SIGN_DATA_ERROR_CODES) {\n    SIGN_DATA_ERROR_CODES[SIGN_DATA_ERROR_CODES[\"UNKNOWN_ERROR\"] = 0] = \"UNKNOWN_ERROR\";\n    SIGN_DATA_ERROR_CODES[SIGN_DATA_ERROR_CODES[\"BAD_REQUEST_ERROR\"] = 1] = \"BAD_REQUEST_ERROR\";\n    SIGN_DATA_ERROR_CODES[SIGN_DATA_ERROR_CODES[\"UNKNOWN_APP_ERROR\"] = 100] = \"UNKNOWN_APP_ERROR\";\n    SIGN_DATA_ERROR_CODES[SIGN_DATA_ERROR_CODES[\"USER_REJECTS_ERROR\"] = 300] = \"USER_REJECTS_ERROR\";\n    SIGN_DATA_ERROR_CODES[SIGN_DATA_ERROR_CODES[\"METHOD_NOT_SUPPORTED\"] = 400] = \"METHOD_NOT_SUPPORTED\";\n})(SIGN_DATA_ERROR_CODES || (SIGN_DATA_ERROR_CODES = {}));\n\nvar DISCONNECT_ERROR_CODES;\n(function (DISCONNECT_ERROR_CODES) {\n    DISCONNECT_ERROR_CODES[DISCONNECT_ERROR_CODES[\"UNKNOWN_ERROR\"] = 0] = \"UNKNOWN_ERROR\";\n    DISCONNECT_ERROR_CODES[DISCONNECT_ERROR_CODES[\"BAD_REQUEST_ERROR\"] = 1] = \"BAD_REQUEST_ERROR\";\n    DISCONNECT_ERROR_CODES[DISCONNECT_ERROR_CODES[\"UNKNOWN_APP_ERROR\"] = 100] = \"UNKNOWN_APP_ERROR\";\n    DISCONNECT_ERROR_CODES[DISCONNECT_ERROR_CODES[\"METHOD_NOT_SUPPORTED\"] = 400] = \"METHOD_NOT_SUPPORTED\";\n})(DISCONNECT_ERROR_CODES || (DISCONNECT_ERROR_CODES = {}));\n\nvar CHAIN;\n(function (CHAIN) {\n    CHAIN[\"MAINNET\"] = \"-239\";\n    CHAIN[\"TESTNET\"] = \"-3\";\n})(CHAIN || (CHAIN = {}));\n\nfunction encodeUint8Array(value, urlSafe) {\n    const encoded = nacl.encodeBase64(value);\n    if (!urlSafe) {\n        return encoded;\n    }\n    return encodeURIComponent(encoded);\n}\nfunction decodeToUint8Array(value, urlSafe) {\n    if (urlSafe) {\n        value = decodeURIComponent(value);\n    }\n    return nacl.decodeBase64(value);\n}\nfunction encode(value, urlSafe = false) {\n    let uint8Array;\n    if (value instanceof Uint8Array) {\n        uint8Array = value;\n    }\n    else {\n        if (typeof value !== 'string') {\n            value = JSON.stringify(value);\n        }\n        uint8Array = nacl.decodeUTF8(value);\n    }\n    return encodeUint8Array(uint8Array, urlSafe);\n}\nfunction decode(value, urlSafe = false) {\n    const decodedUint8Array = decodeToUint8Array(value, urlSafe);\n    return {\n        toString() {\n            return nacl.encodeUTF8(decodedUint8Array);\n        },\n        toObject() {\n            try {\n                return JSON.parse(nacl.encodeUTF8(decodedUint8Array));\n            }\n            catch (e) {\n                return null;\n            }\n        },\n        toUint8Array() {\n            return decodedUint8Array;\n        }\n    };\n}\nconst Base64 = {\n    encode,\n    decode\n};\n\nfunction concatUint8Arrays(buffer1, buffer2) {\n    const mergedArray = new Uint8Array(buffer1.length + buffer2.length);\n    mergedArray.set(buffer1);\n    mergedArray.set(buffer2, buffer1.length);\n    return mergedArray;\n}\nfunction splitToUint8Arrays(array, index) {\n    if (index >= array.length) {\n        throw new Error('Index is out of buffer');\n    }\n    const subArray1 = array.slice(0, index);\n    const subArray2 = array.slice(index);\n    return [subArray1, subArray2];\n}\nfunction toHexString(byteArray) {\n    let hexString = '';\n    byteArray.forEach(byte => {\n        hexString += ('0' + (byte & 0xff).toString(16)).slice(-2);\n    });\n    return hexString;\n}\nfunction hexToByteArray(hexString) {\n    if (hexString.length % 2 !== 0) {\n        throw new Error(`Cannot convert ${hexString} to bytesArray`);\n    }\n    const result = new Uint8Array(hexString.length / 2);\n    for (let i = 0; i < hexString.length; i += 2) {\n        result[i / 2] = parseInt(hexString.slice(i, i + 2), 16);\n    }\n    return result;\n}\n\nfunction isNode() {\n    return (typeof process !== 'undefined' && process.versions != null && process.versions.node != null);\n}\n\nclass SessionCrypto {\n    constructor(keyPair) {\n        this.nonceLength = 24;\n        this.keyPair = keyPair ? this.createKeypairFromString(keyPair) : this.createKeypair();\n        this.sessionId = toHexString(this.keyPair.publicKey);\n    }\n    createKeypair() {\n        return nacl$1.box.keyPair();\n    }\n    createKeypairFromString(keyPair) {\n        return {\n            publicKey: hexToByteArray(keyPair.publicKey),\n            secretKey: hexToByteArray(keyPair.secretKey)\n        };\n    }\n    createNonce() {\n        return nacl$1.randomBytes(this.nonceLength);\n    }\n    encrypt(message, receiverPublicKey) {\n        const encodedMessage = new TextEncoder().encode(message);\n        const nonce = this.createNonce();\n        const encrypted = nacl$1.box(encodedMessage, nonce, receiverPublicKey, this.keyPair.secretKey);\n        return concatUint8Arrays(nonce, encrypted);\n    }\n    decrypt(message, senderPublicKey) {\n        const [nonce, internalMessage] = splitToUint8Arrays(message, this.nonceLength);\n        const decrypted = nacl$1.box.open(internalMessage, nonce, senderPublicKey, this.keyPair.secretKey);\n        if (!decrypted) {\n            throw new Error(`Decryption error: \\n message: ${message.toString()} \\n sender pubkey: ${senderPublicKey.toString()} \\n keypair pubkey: ${this.keyPair.publicKey.toString()} \\n keypair secretkey: ${this.keyPair.secretKey.toString()}`);\n        }\n        return new TextDecoder().decode(decrypted);\n    }\n    stringifyKeypair() {\n        return {\n            publicKey: toHexString(this.keyPair.publicKey),\n            secretKey: toHexString(this.keyPair.secretKey)\n        };\n    }\n}\n\nexport { Base64, CHAIN, CONNECT_EVENT_ERROR_CODES, CONNECT_ITEM_ERROR_CODES, DISCONNECT_ERROR_CODES, SEND_TRANSACTION_ERROR_CODES, SIGN_DATA_ERROR_CODES, SessionCrypto, concatUint8Arrays, hexToByteArray, isNode, splitToUint8Arrays, toHexString };\n//# sourceMappingURL=index.mjs.map\n","import { CONNECT_EVENT_ERROR_CODES, SEND_TRANSACTION_ERROR_CODES, Base64, SessionCrypto, hexToByteArray } from '@tonconnect/protocol';\nexport { CHAIN, CONNECT_ITEM_ERROR_CODES } from '@tonconnect/protocol';\nimport '@tonconnect/isomorphic-eventsource';\nimport '@tonconnect/isomorphic-fetch';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nfunction __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\n\n/**\n * Base class for TonConnect errors. You can check if the error was triggered by the @tonconnect/sdk using `err instanceof TonConnectError`.\n */\nclass TonConnectError extends Error {\n    constructor(message, options) {\n        super(message, options);\n        this.message = `${TonConnectError.prefix} ${this.constructor.name}${this.info ? ': ' + this.info : ''}${message ? '\\n' + message : ''}`;\n        Object.setPrototypeOf(this, TonConnectError.prototype);\n    }\n    get info() {\n        return '';\n    }\n}\nTonConnectError.prefix = '[TON_CONNECT_SDK_ERROR]';\n\n/**\n * Thrown when passed DappMetadata is in incorrect format.\n */\nclass DappMetadataError extends TonConnectError {\n    get info() {\n        return 'Passed DappMetadata is in incorrect format.';\n    }\n    constructor(...args) {\n        super(...args);\n        Object.setPrototypeOf(this, DappMetadataError.prototype);\n    }\n}\n\n/**\n * Thrown when passed manifest contains errors.\n */\nclass ManifestContentErrorError extends TonConnectError {\n    get info() {\n        return 'Passed `tonconnect-manifest.json` contains errors. Check format of your manifest. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest';\n    }\n    constructor(...args) {\n        super(...args);\n        Object.setPrototypeOf(this, ManifestContentErrorError.prototype);\n    }\n}\n\n/**\n * Thrown when wallet can't get manifest by passed manifestUrl.\n */\nclass ManifestNotFoundError extends TonConnectError {\n    get info() {\n        return 'Manifest not found. Make sure you added `tonconnect-manifest.json` to the root of your app or passed correct manifestUrl. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest';\n    }\n    constructor(...args) {\n        super(...args);\n        Object.setPrototypeOf(this, ManifestNotFoundError.prototype);\n    }\n}\n\n/**\n * Thrown when wallet connection called but wallet already connected. To avoid the error, disconnect the wallet before doing a new connection.\n */\nclass WalletAlreadyConnectedError extends TonConnectError {\n    get info() {\n        return 'Wallet connection called but wallet already connected. To avoid the error, disconnect the wallet before doing a new connection.';\n    }\n    constructor(...args) {\n        super(...args);\n        Object.setPrototypeOf(this, WalletAlreadyConnectedError.prototype);\n    }\n}\n\n/**\n * Thrown when send transaction or other protocol methods called while wallet is not connected.\n */\nclass WalletNotConnectedError extends TonConnectError {\n    get info() {\n        return 'Send transaction or other protocol methods called while wallet is not connected.';\n    }\n    constructor(...args) {\n        super(...args);\n        Object.setPrototypeOf(this, WalletNotConnectedError.prototype);\n    }\n}\n\nfunction isWalletConnectionSourceJS(value) {\n    return 'jsBridgeKey' in value;\n}\n\n/**\n * Thrown when user rejects the action in the wallet.\n */\nclass UserRejectsError extends TonConnectError {\n    get info() {\n        return 'User rejects the action in the wallet.';\n    }\n    constructor(...args) {\n        super(...args);\n        Object.setPrototypeOf(this, UserRejectsError.prototype);\n    }\n}\n\n/**\n * Thrown when request to the wallet contains errors.\n */\nclass BadRequestError extends TonConnectError {\n    get info() {\n        return 'Request to the wallet contains errors.';\n    }\n    constructor(...args) {\n        super(...args);\n        Object.setPrototypeOf(this, BadRequestError.prototype);\n    }\n}\n\n/**\n * Thrown when app tries to send rpc request to the injected wallet while not connected.\n */\nclass UnknownAppError extends TonConnectError {\n    get info() {\n        return 'App tries to send rpc request to the injected wallet while not connected.';\n    }\n    constructor(...args) {\n        super(...args);\n        Object.setPrototypeOf(this, UnknownAppError.prototype);\n    }\n}\n\n/**\n * Thrown when there is an attempt to connect to the injected wallet while it is not exists in the webpage.\n */\nclass WalletNotInjectedError extends TonConnectError {\n    get info() {\n        return 'There is an attempt to connect to the injected wallet while it is not exists in the webpage.';\n    }\n    constructor(...args) {\n        super(...args);\n        Object.setPrototypeOf(this, WalletNotInjectedError.prototype);\n    }\n}\n\n/**\n * Thrown when `Storage` was not specified in the `DappMetadata` and default `localStorage` was not detected in the environment.\n */\nclass LocalstorageNotFoundError extends TonConnectError {\n    get info() {\n        return 'Storage was not specified in the `DappMetadata` and default `localStorage` was not detected in the environment.';\n    }\n    constructor(...args) {\n        super(...args);\n        Object.setPrototypeOf(this, LocalstorageNotFoundError.prototype);\n    }\n}\n\n/**\n * Thrown when an error occurred while fetching the wallets list.\n */\nclass FetchWalletsError extends TonConnectError {\n    get info() {\n        return 'An error occurred while fetching the wallets list.';\n    }\n    constructor(...args) {\n        super(...args);\n        Object.setPrototypeOf(this, FetchWalletsError.prototype);\n    }\n}\n\n/**\n * Thrown when passed address is in incorrect format.\n */\nclass WrongAddressError extends TonConnectError {\n    get info() {\n        return 'Passed address is in incorrect format.';\n    }\n    constructor(...args) {\n        super(...args);\n        Object.setPrototypeOf(this, WrongAddressError.prototype);\n    }\n}\n\n/**\n * Thrown when passed hex is in incorrect format.\n */\nclass ParseHexError extends TonConnectError {\n    get info() {\n        return 'Passed hex is in incorrect format.';\n    }\n    constructor(...args) {\n        super(...args);\n        Object.setPrototypeOf(this, ParseHexError.prototype);\n    }\n}\n\n/**\n * Unhanded unknown error.\n */\nclass UnknownError extends TonConnectError {\n    constructor(...args) {\n        super(...args);\n        Object.setPrototypeOf(this, UnknownError.prototype);\n    }\n}\n\nconst connectEventErrorsCodes = {\n    [CONNECT_EVENT_ERROR_CODES.UNKNOWN_ERROR]: UnknownError,\n    [CONNECT_EVENT_ERROR_CODES.USER_REJECTS_ERROR]: UserRejectsError,\n    [CONNECT_EVENT_ERROR_CODES.BAD_REQUEST_ERROR]: BadRequestError,\n    [CONNECT_EVENT_ERROR_CODES.UNKNOWN_APP_ERROR]: UnknownAppError,\n    [CONNECT_EVENT_ERROR_CODES.MANIFEST_NOT_FOUND_ERROR]: ManifestNotFoundError,\n    [CONNECT_EVENT_ERROR_CODES.MANIFEST_CONTENT_ERROR]: ManifestContentErrorError\n};\nclass ConnectErrorsParser {\n    parseError(error) {\n        let ErrorConstructor = UnknownError;\n        if (error.code in connectEventErrorsCodes) {\n            ErrorConstructor = connectEventErrorsCodes[error.code] || UnknownError;\n        }\n        return new ErrorConstructor(error.message);\n    }\n}\nconst connectErrorsParser = new ConnectErrorsParser();\n\nclass RpcParser {\n    isError(response) {\n        return 'error' in response;\n    }\n}\n\nconst sendTransactionErrors = {\n    [SEND_TRANSACTION_ERROR_CODES.UNKNOWN_ERROR]: UnknownError,\n    [SEND_TRANSACTION_ERROR_CODES.USER_REJECTS_ERROR]: UserRejectsError,\n    [SEND_TRANSACTION_ERROR_CODES.BAD_REQUEST_ERROR]: BadRequestError,\n    [SEND_TRANSACTION_ERROR_CODES.UNKNOWN_APP_ERROR]: UnknownAppError\n};\nclass SendTransactionParser extends RpcParser {\n    convertToRpcRequest(request) {\n        return {\n            method: 'sendTransaction',\n            params: [JSON.stringify(request)]\n        };\n    }\n    parseAndThrowError(response) {\n        let ErrorConstructor = UnknownError;\n        if (response.error.code in sendTransactionErrors) {\n            ErrorConstructor = sendTransactionErrors[response.error.code] || UnknownError;\n        }\n        throw new ErrorConstructor(response.error.message);\n    }\n    convertFromRpcResponse(rpcResponse) {\n        return {\n            boc: rpcResponse.result\n        };\n    }\n}\nconst sendTransactionParser = new SendTransactionParser();\n\nclass HttpBridgeGatewayStorage {\n    constructor(storage, bridgeUrl) {\n        this.storage = storage;\n        this.storeKey = 'ton-connect-storage_http-bridge-gateway::' + bridgeUrl;\n    }\n    storeLastEventId(lastEventId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.storage.setItem(this.storeKey, lastEventId);\n        });\n    }\n    removeLastEventId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.storage.removeItem(this.storeKey);\n        });\n    }\n    getLastEventId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const stored = yield this.storage.getItem(this.storeKey);\n            if (!stored) {\n                return null;\n            }\n            return stored;\n        });\n    }\n}\n\nfunction removeUrlLastSlash(url) {\n    if (url.slice(-1) === '/') {\n        return url.slice(0, -1);\n    }\n    return url;\n}\nfunction addPathToUrl(url, path) {\n    return removeUrlLastSlash(url) + '/' + path;\n}\nfunction isTelegramUrl(link) {\n    const url = new URL(link);\n    return url.protocol === 'tg:' || url.hostname === 't.me';\n}\n\nclass BridgeGateway {\n    constructor(storage, bridgeUrl, sessionId, listener, errorsListener) {\n        this.bridgeUrl = bridgeUrl;\n        this.sessionId = sessionId;\n        this.listener = listener;\n        this.errorsListener = errorsListener;\n        this.ssePath = 'events';\n        this.postPath = 'message';\n        this.heartbeatMessage = 'heartbeat';\n        this.defaultTtl = 300;\n        this.isClosed = false;\n        this.bridgeGatewayStorage = new HttpBridgeGatewayStorage(storage, bridgeUrl);\n    }\n    registerSession() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = new URL(addPathToUrl(this.bridgeUrl, this.ssePath));\n            url.searchParams.append('client_id', this.sessionId);\n            const lastEventId = yield this.bridgeGatewayStorage.getLastEventId();\n            if (this.isClosed) {\n                return;\n            }\n            if (lastEventId) {\n                url.searchParams.append('last_event_id', lastEventId);\n            }\n            this.eventSource = new EventSource(url.toString());\n            return new Promise((resolve, reject) => {\n                this.eventSource.onerror = reject;\n                this.eventSource.onopen = () => {\n                    this.eventSource.onerror = this.errorsHandler.bind(this);\n                    this.eventSource.onmessage = this.messagesHandler.bind(this);\n                    resolve();\n                };\n            });\n        });\n    }\n    send(message, receiver, topic, ttl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const url = new URL(addPathToUrl(this.bridgeUrl, this.postPath));\n            url.searchParams.append('client_id', this.sessionId);\n            url.searchParams.append('to', receiver);\n            url.searchParams.append('ttl', (ttl || this.defaultTtl).toString());\n            url.searchParams.append('topic', topic);\n            yield fetch(url, {\n                method: 'post',\n                body: Base64.encode(message)\n            });\n        });\n    }\n    pause() {\n        var _a;\n        (_a = this.eventSource) === null || _a === void 0 ? void 0 : _a.close();\n    }\n    unPause() {\n        return this.registerSession();\n    }\n    close() {\n        var _a;\n        this.isClosed = true;\n        (_a = this.eventSource) === null || _a === void 0 ? void 0 : _a.close();\n    }\n    setListener(listener) {\n        this.listener = listener;\n    }\n    setErrorsListener(errorsListener) {\n        this.errorsListener = errorsListener;\n    }\n    errorsHandler(e) {\n        var _a, _b;\n        if (!this.isClosed) {\n            if (((_a = this.eventSource) === null || _a === void 0 ? void 0 : _a.readyState) === EventSource.CLOSED) {\n                this.eventSource.close();\n                this.registerSession();\n                return;\n            }\n            if (((_b = this.eventSource) === null || _b === void 0 ? void 0 : _b.readyState) === EventSource.CONNECTING) {\n                console.debug('[TON_CONNET_SDK_ERROR]: Bridge error', JSON.stringify(e));\n                return;\n            }\n            this.errorsListener(e);\n        }\n    }\n    messagesHandler(e) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (e.data === this.heartbeatMessage) {\n                return;\n            }\n            yield this.bridgeGatewayStorage.storeLastEventId(e.lastEventId);\n            if (!this.isClosed) {\n                let bridgeIncomingMessage;\n                try {\n                    bridgeIncomingMessage = JSON.parse(e.data);\n                }\n                catch (e) {\n                    throw new TonConnectError(`Bridge message parse failed, message ${e.data}`);\n                }\n                this.listener(bridgeIncomingMessage);\n            }\n        });\n    }\n}\n\nclass BridgeConnectionStorage {\n    constructor(storage) {\n        this.storage = storage;\n        this.storeKey = 'ton-connect-storage_bridge-connection';\n    }\n    storeConnection(connection) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (connection.type === 'injected') {\n                return this.storage.setItem(this.storeKey, JSON.stringify(connection));\n            }\n            const rawSession = {\n                sessionKeyPair: connection.session.sessionCrypto.stringifyKeypair(),\n                walletPublicKey: connection.session.walletPublicKey,\n                bridgeUrl: connection.session.bridgeUrl\n            };\n            const rawConnection = {\n                type: 'http',\n                connectEvent: connection.connectEvent,\n                session: rawSession,\n                lastWalletEventId: connection.lastWalletEventId,\n                nextRpcRequestId: connection.nextRpcRequestId\n            };\n            return this.storage.setItem(this.storeKey, JSON.stringify(rawConnection));\n        });\n    }\n    removeConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.storage.removeItem(this.storeKey);\n        });\n    }\n    getConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const stored = yield this.storage.getItem(this.storeKey);\n            if (!stored) {\n                return null;\n            }\n            const connection = JSON.parse(stored);\n            if (connection.type === 'injected') {\n                return connection;\n            }\n            const sessionCrypto = new SessionCrypto(connection.session.sessionKeyPair);\n            return {\n                type: 'http',\n                connectEvent: connection.connectEvent,\n                lastWalletEventId: connection.lastWalletEventId,\n                nextRpcRequestId: connection.nextRpcRequestId,\n                session: {\n                    sessionCrypto,\n                    bridgeUrl: connection.session.bridgeUrl,\n                    walletPublicKey: connection.session.walletPublicKey\n                }\n            };\n        });\n    }\n    getHttpConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const connection = yield this.getConnection();\n            if (!connection) {\n                throw new TonConnectError('Trying to read HTTP connection source while nothing is stored');\n            }\n            if (connection.type === 'injected') {\n                throw new TonConnectError('Trying to read HTTP connection source while injected connection is stored');\n            }\n            return connection;\n        });\n    }\n    getInjectedConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const connection = yield this.getConnection();\n            if (!connection) {\n                throw new TonConnectError('Trying to read Injected bridge connection source while nothing is stored');\n            }\n            if ((connection === null || connection === void 0 ? void 0 : connection.type) === 'http') {\n                throw new TonConnectError('Trying to read Injected bridge connection source while HTTP connection is stored');\n            }\n            return connection;\n        });\n    }\n    storedConnectionType() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const stored = yield this.storage.getItem(this.storeKey);\n            if (!stored) {\n                return null;\n            }\n            const connection = JSON.parse(stored);\n            return connection.type;\n        });\n    }\n    storeLastWalletEventId(id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const connection = yield this.getConnection();\n            if (connection && connection.type === 'http') {\n                connection.lastWalletEventId = id;\n                return this.storeConnection(connection);\n            }\n        });\n    }\n    getLastWalletEventId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const connection = yield this.getConnection();\n            if (connection && 'lastWalletEventId' in connection) {\n                return connection.lastWalletEventId;\n            }\n            return undefined;\n        });\n    }\n    increaseNextRpcRequestId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const connection = yield this.getConnection();\n            if (connection) {\n                const lastId = connection.nextRpcRequestId || 0;\n                connection.nextRpcRequestId = lastId + 1;\n                return this.storeConnection(connection);\n            }\n        });\n    }\n    getNextRpcRequestId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const connection = yield this.getConnection();\n            if (connection) {\n                return connection.nextRpcRequestId || 0;\n            }\n            return 0;\n        });\n    }\n}\n\nconst PROTOCOL_VERSION = 2;\n\nfunction logDebug(...args) {\n    {\n        try {\n            console.debug('[TON_CONNECT_SDK]', ...args);\n        }\n        catch (_a) { }\n    }\n}\nfunction logError(...args) {\n    {\n        try {\n            console.error('[TON_CONNECT_SDK]', ...args);\n        }\n        catch (_a) { }\n    }\n}\nfunction logWarning(...args) {\n    {\n        try {\n            console.warn('[TON_CONNECT_SDK]', ...args);\n        }\n        catch (_a) { }\n    }\n}\n\nclass BridgeProvider {\n    constructor(storage, walletConnectionSource) {\n        this.storage = storage;\n        this.walletConnectionSource = walletConnectionSource;\n        this.type = 'http';\n        this.standardUniversalLink = 'tc://';\n        this.pendingRequests = new Map();\n        this.session = null;\n        this.gateway = null;\n        this.pendingGateways = [];\n        this.listeners = [];\n        this.connectionStorage = new BridgeConnectionStorage(storage);\n    }\n    static fromStorage(storage) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const bridgeConnectionStorage = new BridgeConnectionStorage(storage);\n            const connection = yield bridgeConnectionStorage.getHttpConnection();\n            return new BridgeProvider(storage, { bridgeUrl: connection.session.bridgeUrl });\n        });\n    }\n    connect(message) {\n        this.closeGateways();\n        const sessionCrypto = new SessionCrypto();\n        let bridgeUrl = '';\n        let universalLink = this.standardUniversalLink;\n        if (Array.isArray(this.walletConnectionSource)) {\n            this.pendingGateways = this.walletConnectionSource.map(source => {\n                const gateway = new BridgeGateway(this.storage, source.bridgeUrl, sessionCrypto.sessionId, () => { }, e => {\n                    console.error(e);\n                });\n                gateway.setListener(message => this.pendingGatewaysListener(gateway, source.bridgeUrl, message));\n                return gateway;\n            });\n            this.pendingGateways.forEach(bridge => bridge.registerSession());\n        }\n        else {\n            bridgeUrl = this.walletConnectionSource.bridgeUrl;\n            if (this.walletConnectionSource.universalLink) {\n                universalLink = this.walletConnectionSource.universalLink;\n            }\n            this.gateway = new BridgeGateway(this.storage, this.walletConnectionSource.bridgeUrl, sessionCrypto.sessionId, this.gatewayListener.bind(this), this.gatewayErrorsListener.bind(this));\n            this.gateway.registerSession();\n        }\n        this.session = {\n            sessionCrypto,\n            bridgeUrl\n        };\n        return this.generateUniversalLink(universalLink, message);\n    }\n    restoreConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (Array.isArray(this.walletConnectionSource)) {\n                throw new TonConnectError('Internal error. Connection source is array while WalletConnectionSourceHTTP was expected.');\n            }\n            this.closeGateways();\n            const storedConnection = yield this.connectionStorage.getHttpConnection();\n            if (!storedConnection) {\n                return;\n            }\n            this.session = storedConnection.session;\n            this.gateway = new BridgeGateway(this.storage, this.walletConnectionSource.bridgeUrl, storedConnection.session.sessionCrypto.sessionId, this.gatewayListener.bind(this), this.gatewayErrorsListener.bind(this));\n            yield this.gateway.registerSession();\n            this.listeners.forEach(listener => listener(storedConnection.connectEvent));\n        });\n    }\n    sendRequest(request, onRequestSent) {\n        return new Promise((resolve, reject) => __awaiter(this, void 0, void 0, function* () {\n            if (!this.gateway || !this.session || !('walletPublicKey' in this.session)) {\n                throw new TonConnectError('Trying to send bridge request without session');\n            }\n            const id = (yield this.connectionStorage.getNextRpcRequestId()).toString();\n            yield this.connectionStorage.increaseNextRpcRequestId();\n            logDebug('Send http-bridge request:', Object.assign(Object.assign({}, request), { id }));\n            const encodedRequest = this.session.sessionCrypto.encrypt(JSON.stringify(Object.assign(Object.assign({}, request), { id })), hexToByteArray(this.session.walletPublicKey));\n            this.gateway\n                .send(encodedRequest, this.session.walletPublicKey, request.method)\n                .catch(reject);\n            this.pendingRequests.set(id.toString(), resolve);\n            onRequestSent === null || onRequestSent === void 0 ? void 0 : onRequestSent();\n        }));\n    }\n    closeConnection() {\n        this.closeGateways();\n        this.listeners = [];\n        this.session = null;\n        this.gateway = null;\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve) => __awaiter(this, void 0, void 0, function* () {\n                let called = false;\n                const onRequestSent = () => {\n                    called = true;\n                    this.removeBridgeAndSession().then(resolve);\n                };\n                try {\n                    yield this.sendRequest({ method: 'disconnect', params: [] }, onRequestSent);\n                }\n                catch (e) {\n                    console.debug(e);\n                    if (!called) {\n                        this.removeBridgeAndSession().then(resolve);\n                    }\n                }\n            }));\n        });\n    }\n    listen(callback) {\n        this.listeners.push(callback);\n        return () => (this.listeners = this.listeners.filter(listener => listener !== callback));\n    }\n    pause() {\n        var _a;\n        (_a = this.gateway) === null || _a === void 0 ? void 0 : _a.pause();\n        this.pendingGateways.forEach(bridge => bridge.pause());\n    }\n    unPause() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const promises = this.pendingGateways.map(bridge => bridge.unPause());\n            if (this.gateway) {\n                promises.push(this.gateway.unPause());\n            }\n            yield Promise.all(promises);\n        });\n    }\n    pendingGatewaysListener(gateway, bridgeUrl, bridgeIncomingMessage) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.pendingGateways.includes(gateway)) {\n                gateway.close();\n                return;\n            }\n            this.closeGateways({ except: gateway });\n            this.session.bridgeUrl = bridgeUrl;\n            this.gateway = gateway;\n            this.gateway.setErrorsListener(this.gatewayErrorsListener.bind(this));\n            this.gateway.setListener(this.gatewayListener.bind(this));\n            return this.gatewayListener(bridgeIncomingMessage);\n        });\n    }\n    gatewayListener(bridgeIncomingMessage) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const walletMessage = JSON.parse(this.session.sessionCrypto.decrypt(Base64.decode(bridgeIncomingMessage.message).toUint8Array(), hexToByteArray(bridgeIncomingMessage.from)));\n            logDebug('Wallet message received:', walletMessage);\n            if (!('event' in walletMessage)) {\n                const id = walletMessage.id.toString();\n                const resolve = this.pendingRequests.get(id);\n                if (!resolve) {\n                    logDebug(`Response id ${id} doesn't match any request's id`);\n                    return;\n                }\n                resolve(walletMessage);\n                this.pendingRequests.delete(id);\n                return;\n            }\n            if (walletMessage.id !== undefined) {\n                const lastId = yield this.connectionStorage.getLastWalletEventId();\n                if (lastId !== undefined && walletMessage.id <= lastId) {\n                    logError(`Received event id (=${walletMessage.id}) must be greater than stored last wallet event id (=${lastId}) `);\n                    return;\n                }\n                if (walletMessage.event !== 'connect') {\n                    yield this.connectionStorage.storeLastWalletEventId(walletMessage.id);\n                }\n            }\n            // `this.listeners` might be modified in the event handler\n            const listeners = this.listeners;\n            if (walletMessage.event === 'connect') {\n                yield this.updateSession(walletMessage, bridgeIncomingMessage.from);\n            }\n            if (walletMessage.event === 'disconnect') {\n                yield this.removeBridgeAndSession();\n            }\n            listeners.forEach(listener => listener(walletMessage));\n        });\n    }\n    gatewayErrorsListener(e) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw new TonConnectError(`Bridge error ${JSON.stringify(e)}`);\n        });\n    }\n    updateSession(connectEvent, walletPublicKey) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.session = Object.assign(Object.assign({}, this.session), { walletPublicKey });\n            const tonAddrItem = connectEvent.payload.items.find(item => item.name === 'ton_addr');\n            const connectEventToSave = Object.assign(Object.assign({}, connectEvent), { payload: Object.assign(Object.assign({}, connectEvent.payload), { items: [tonAddrItem] }) });\n            yield this.connectionStorage.storeConnection({\n                type: 'http',\n                session: this.session,\n                lastWalletEventId: connectEvent.id,\n                connectEvent: connectEventToSave,\n                nextRpcRequestId: 0\n            });\n        });\n    }\n    removeBridgeAndSession() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.closeConnection();\n            yield this.connectionStorage.removeConnection();\n        });\n    }\n    generateUniversalLink(universalLink, message) {\n        if (isTelegramUrl(universalLink)) {\n            return this.generateTGUniversalLink(universalLink, message);\n        }\n        return this.generateRegularUniversalLink(universalLink, message);\n    }\n    generateRegularUniversalLink(universalLink, message) {\n        const url = new URL(universalLink);\n        url.searchParams.append('v', PROTOCOL_VERSION.toString());\n        url.searchParams.append('id', this.session.sessionCrypto.sessionId);\n        url.searchParams.append('r', JSON.stringify(message));\n        return url.toString();\n    }\n    generateTGUniversalLink(universalLink, message) {\n        const urlToWrap = this.generateRegularUniversalLink('about:blank', message);\n        const linkParams = urlToWrap.split('?')[1];\n        const startattach = 'tonconnect-' +\n            linkParams\n                .replaceAll('.', '%2E')\n                .replaceAll('-', '%2D')\n                .replaceAll('_', '%5F')\n                .replaceAll('&', '-')\n                .replaceAll('=', '__')\n                .replaceAll('%', '--');\n        const url = new URL(universalLink);\n        url.searchParams.append('startattach', startattach);\n        return url.toString();\n    }\n    closeGateways(options) {\n        var _a;\n        (_a = this.gateway) === null || _a === void 0 ? void 0 : _a.close();\n        this.pendingGateways\n            .filter(item => item !== (options === null || options === void 0 ? void 0 : options.except))\n            .forEach(bridge => bridge.close());\n        this.pendingGateways = [];\n    }\n}\n\nfunction hasProperty(value, propertyKey) {\n    return hasProperties(value, [propertyKey]);\n}\nfunction hasProperties(value, propertyKeys) {\n    if (!value || typeof value !== 'object') {\n        return false;\n    }\n    return propertyKeys.every(propertyKey => propertyKey in value);\n}\n\nfunction isJSBridgeWithMetadata(value) {\n    try {\n        if (!hasProperty(value, 'tonconnect') || !hasProperty(value.tonconnect, 'walletInfo')) {\n            return false;\n        }\n        return hasProperties(value.tonconnect.walletInfo, [\n            'name',\n            'app_name',\n            'image',\n            'about_url',\n            'platforms'\n        ]);\n    }\n    catch (_a) {\n        return false;\n    }\n}\n\nfunction getWindow() {\n    if (typeof window === 'undefined') {\n        return undefined;\n    }\n    return window;\n}\nfunction getDocument() {\n    if (typeof document === 'undefined') {\n        return undefined;\n    }\n    return document;\n}\nfunction getWebPageManifest() {\n    var _a;\n    const origin = (_a = getWindow()) === null || _a === void 0 ? void 0 : _a.location.origin;\n    if (origin) {\n        return origin + '/tonconnect-manifest.json';\n    }\n    return '';\n}\n\nclass InjectedProvider {\n    constructor(storage, injectedWalletKey) {\n        this.injectedWalletKey = injectedWalletKey;\n        this.type = 'injected';\n        this.unsubscribeCallback = null;\n        this.listenSubscriptions = false;\n        this.listeners = [];\n        const window = InjectedProvider.window;\n        if (!InjectedProvider.isWindowContainsWallet(window, injectedWalletKey)) {\n            throw new WalletNotInjectedError();\n        }\n        this.connectionStorage = new BridgeConnectionStorage(storage);\n        this.injectedWallet = window[injectedWalletKey].tonconnect;\n    }\n    static fromStorage(storage) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const bridgeConnectionStorage = new BridgeConnectionStorage(storage);\n            const connection = yield bridgeConnectionStorage.getInjectedConnection();\n            return new InjectedProvider(storage, connection.jsBridgeKey);\n        });\n    }\n    static isWalletInjected(injectedWalletKey) {\n        return InjectedProvider.isWindowContainsWallet(this.window, injectedWalletKey);\n    }\n    static isInsideWalletBrowser(injectedWalletKey) {\n        if (InjectedProvider.isWindowContainsWallet(this.window, injectedWalletKey)) {\n            return this.window[injectedWalletKey].tonconnect.isWalletBrowser;\n        }\n        return false;\n    }\n    static getCurrentlyInjectedWallets() {\n        if (!this.window) {\n            return [];\n        }\n        const wallets = Object.entries(this.window).filter(([_, value]) => isJSBridgeWithMetadata(value));\n        return wallets.map(([jsBridgeKey, wallet]) => ({\n            name: wallet.tonconnect.walletInfo.name,\n            appName: wallet.tonconnect.walletInfo.app_name,\n            aboutUrl: wallet.tonconnect.walletInfo.about_url,\n            imageUrl: wallet.tonconnect.walletInfo.image,\n            tondns: wallet.tonconnect.walletInfo.tondns,\n            jsBridgeKey,\n            injected: true,\n            embedded: wallet.tonconnect.isWalletBrowser,\n            platforms: wallet.tonconnect.walletInfo.platforms\n        }));\n    }\n    static isWindowContainsWallet(window, injectedWalletKey) {\n        return (!!window &&\n            injectedWalletKey in window &&\n            typeof window[injectedWalletKey] === 'object' &&\n            'tonconnect' in window[injectedWalletKey]);\n    }\n    connect(message) {\n        this._connect(PROTOCOL_VERSION, message);\n    }\n    restoreConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                logDebug(`Injected Provider restoring connection...`);\n                const connectEvent = yield this.injectedWallet.restoreConnection();\n                logDebug('Injected Provider restoring connection response', connectEvent);\n                if (connectEvent.event === 'connect') {\n                    this.makeSubscriptions();\n                    this.listeners.forEach(listener => listener(connectEvent));\n                }\n                else {\n                    yield this.connectionStorage.removeConnection();\n                }\n            }\n            catch (e) {\n                yield this.connectionStorage.removeConnection();\n                console.error(e);\n            }\n        });\n    }\n    closeConnection() {\n        if (this.listenSubscriptions) {\n            this.injectedWallet.disconnect();\n        }\n        this.closeAllListeners();\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise(resolve => {\n                const onRequestSent = () => {\n                    this.closeAllListeners();\n                    this.connectionStorage.removeConnection().then(resolve);\n                };\n                try {\n                    this.injectedWallet.disconnect();\n                    onRequestSent();\n                }\n                catch (e) {\n                    logDebug(e);\n                    this.sendRequest({\n                        method: 'disconnect',\n                        params: []\n                    }, onRequestSent);\n                }\n            });\n        });\n    }\n    closeAllListeners() {\n        var _a;\n        this.listenSubscriptions = false;\n        this.listeners = [];\n        (_a = this.unsubscribeCallback) === null || _a === void 0 ? void 0 : _a.call(this);\n    }\n    listen(eventsCallback) {\n        this.listeners.push(eventsCallback);\n        return () => (this.listeners = this.listeners.filter(listener => listener !== eventsCallback));\n    }\n    sendRequest(request, onRequestSent) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const id = (yield this.connectionStorage.getNextRpcRequestId()).toString();\n            yield this.connectionStorage.increaseNextRpcRequestId();\n            logDebug('Send injected-bridge request:', Object.assign(Object.assign({}, request), { id }));\n            const result = this.injectedWallet.send(Object.assign(Object.assign({}, request), { id }));\n            result.then(response => logDebug('Wallet message received:', response));\n            onRequestSent === null || onRequestSent === void 0 ? void 0 : onRequestSent();\n            return result;\n        });\n    }\n    _connect(protocolVersion, message) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                logDebug(`Injected Provider connect request: protocolVersion: ${protocolVersion}, message:`, message);\n                const connectEvent = yield this.injectedWallet.connect(protocolVersion, message);\n                logDebug('Injected Provider connect response:', connectEvent);\n                if (connectEvent.event === 'connect') {\n                    yield this.updateSession();\n                    this.makeSubscriptions();\n                }\n                this.listeners.forEach(listener => listener(connectEvent));\n            }\n            catch (e) {\n                logDebug(e);\n                const connectEventError = {\n                    event: 'connect_error',\n                    payload: {\n                        code: 0,\n                        message: e === null || e === void 0 ? void 0 : e.toString()\n                    }\n                };\n                this.listeners.forEach(listener => listener(connectEventError));\n            }\n        });\n    }\n    makeSubscriptions() {\n        this.listenSubscriptions = true;\n        this.unsubscribeCallback = this.injectedWallet.listen(e => {\n            logDebug('Wallet message received:', e);\n            if (this.listenSubscriptions) {\n                this.listeners.forEach(listener => listener(e));\n            }\n            if (e.event === 'disconnect') {\n                this.disconnect();\n            }\n        });\n    }\n    updateSession() {\n        return this.connectionStorage.storeConnection({\n            type: 'injected',\n            jsBridgeKey: this.injectedWalletKey,\n            nextRpcRequestId: 0\n        });\n    }\n}\nInjectedProvider.window = getWindow();\n\nclass DefaultStorage {\n    constructor() {\n        const window = getWindow();\n        if (!(window === null || window === void 0 ? void 0 : window.localStorage)) {\n            throw new LocalstorageNotFoundError();\n        }\n        this.window = window;\n    }\n    getItem(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return Promise.resolve(this.window.localStorage.getItem(key));\n        });\n    }\n    removeItem(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.window.localStorage.removeItem(key);\n            return Promise.resolve();\n        });\n    }\n    setItem(key, value) {\n        this.window.localStorage.setItem(key, value);\n        return Promise.resolve();\n    }\n}\n\n/**\n * Checks if `WalletInfo` is `WalletInfoInjectable` and `WalletInfo` is injected to the current webpage (`walletInfo.injected === true`).\n * @param value WalletInfo to check.\n */\nfunction isWalletInfoCurrentlyInjected(value) {\n    return isWalletInfoInjectable(value) && value.injected;\n}\n/**\n * Checks if `WalletInfo` is `WalletInfoInjectable` and dApp is opened inside this wallet's browser.\n * @param value WalletInfo to check.\n */\nfunction isWalletInfoCurrentlyEmbedded(value) {\n    return isWalletInfoCurrentlyInjected(value) && value.embedded;\n}\n/**\n * Checks if `WalletInfo` is `WalletInfoInjected`, but doesn't check if it is injected to the page or not.\n * @param value WalletInfo to check.\n */\nfunction isWalletInfoInjectable(value) {\n    return 'jsBridgeKey' in value;\n}\n/**\n * Checks if `WalletInfo` is `WalletInfoRemote`.\n * @param value WalletInfo to check.\n */\nfunction isWalletInfoRemote(value) {\n    return 'bridgeUrl' in value;\n}\n/**\n * @deprecated use `isWalletInfoInjectable` or `isWalletInfoCurrentlyInjected` instead.\n * @param value WalletInfo to check.\n */\nfunction isWalletInfoInjected(value) {\n    return 'jsBridgeKey' in value;\n}\n\nconst FALLBACK_WALLETS_LIST = [\n    {\n        app_name: 'tonkeeper',\n        name: 'Tonkeeper',\n        image: 'https://tonkeeper.com/assets/tonconnect-icon.png',\n        tondns: 'tonkeeper.ton',\n        about_url: 'https://tonkeeper.com',\n        universal_url: 'https://app.tonkeeper.com/ton-connect',\n        bridge: [\n            {\n                type: 'sse',\n                url: 'https://bridge.tonapi.io/bridge'\n            },\n            {\n                type: 'js',\n                key: 'tonkeeper'\n            }\n        ],\n        platforms: ['ios', 'android', 'chrome', 'firefox']\n    },\n    {\n        app_name: 'openmask',\n        name: 'OpenMask',\n        image: 'https://raw.githubusercontent.com/OpenProduct/openmask-extension/main/public/openmask-logo-288.png',\n        about_url: 'https://www.openmask.app/',\n        bridge: [\n            {\n                type: 'js',\n                key: 'openmask'\n            }\n        ],\n        platforms: ['chrome']\n    },\n    {\n        app_name: 'mytonwallet',\n        name: 'MyTonWallet',\n        image: 'https://mytonwallet.io/icon-256.png',\n        about_url: 'https://mytonwallet.io',\n        universal_url: 'https://connect.mytonwallet.org',\n        bridge: [\n            {\n                type: 'js',\n                key: 'mytonwallet'\n            },\n            {\n                type: 'sse',\n                url: 'https://tonconnectbridge.mytonwallet.org/bridge/'\n            }\n        ],\n        platforms: ['chrome', 'windows', 'macos', 'linux']\n    },\n    {\n        app_name: 'tonhub',\n        name: 'Tonhub',\n        image: 'https://tonhub.com/tonconnect_logo.png',\n        about_url: 'https://tonhub.com',\n        universal_url: 'https://tonhub.com/ton-connect',\n        bridge: [\n            {\n                type: 'js',\n                key: 'tonhub'\n            },\n            {\n                type: 'sse',\n                url: 'https://connect.tonhubapi.com/tonconnect'\n            }\n        ],\n        platforms: ['ios', 'android']\n    },\n    {\n        app_name: 'tonflow',\n        name: 'TonFlow',\n        image: 'https://tonflow.net/assets/images/tonflow_ico_192.png',\n        about_url: 'https://tonflow.net',\n        bridge: [\n            {\n                type: 'js',\n                key: 'tonflow'\n            }\n        ],\n        platforms: ['chrome']\n    },\n    {\n        app_name: 'dewallet',\n        name: 'DeWallet',\n        image: 'https://app.delabwallet.com/logo_black.png',\n        about_url: 'https://delabwallet.com',\n        bridge: [\n            {\n                type: 'js',\n                key: 'dewallet'\n            }\n        ],\n        platforms: ['chrome']\n    },\n    {\n        app_name: 'xtonwallet',\n        name: 'XTONWallet',\n        image: 'https://xtonwallet.com/assets/img/icon-256-back.png',\n        about_url: 'https://xtonwallet.com',\n        bridge: [\n            {\n                type: 'js',\n                key: 'xtonwallet'\n            }\n        ],\n        platforms: ['chrome', 'firefox']\n    },\n    {\n        app_name: 'tonwallet',\n        name: 'TON Wallet',\n        image: 'https://wallet.ton.org/assets/ui/qr-logo.png',\n        about_url: 'https://chrome.google.com/webstore/detail/ton-wallet/nphplpgoakhhjchkkhmiggakijnkhfnd',\n        bridge: [\n            {\n                type: 'js',\n                key: 'tonwallet'\n            }\n        ],\n        platforms: ['chrome']\n    }\n];\n\nclass WalletsListManager {\n    constructor(options) {\n        this.walletsListCache = null;\n        this.walletsListCacheCreationTimestamp = null;\n        this.walletsListSource = 'https://raw.githubusercontent.com/ton-blockchain/wallets-list/main/wallets.json';\n        if (options === null || options === void 0 ? void 0 : options.walletsListSource) {\n            this.walletsListSource = options.walletsListSource;\n        }\n        if (options === null || options === void 0 ? void 0 : options.cacheTTLMs) {\n            this.cacheTTLMs = options.cacheTTLMs;\n        }\n    }\n    getWallets() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.cacheTTLMs &&\n                this.walletsListCacheCreationTimestamp &&\n                Date.now() > this.walletsListCacheCreationTimestamp + this.cacheTTLMs) {\n                this.walletsListCache = null;\n            }\n            if (!this.walletsListCache) {\n                this.walletsListCache = this.fetchWalletsList();\n                this.walletsListCache\n                    .then(() => {\n                    this.walletsListCacheCreationTimestamp = Date.now();\n                })\n                    .catch(() => {\n                    this.walletsListCache = null;\n                    this.walletsListCacheCreationTimestamp = null;\n                });\n            }\n            return this.walletsListCache;\n        });\n    }\n    getEmbeddedWallet() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const walletsList = yield this.getWallets();\n            const embeddedWallets = walletsList.filter(isWalletInfoCurrentlyEmbedded);\n            if (embeddedWallets.length !== 1) {\n                return null;\n            }\n            return embeddedWallets[0];\n        });\n    }\n    fetchWalletsList() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let walletsList = [];\n            try {\n                const walletsResponse = yield fetch(this.walletsListSource);\n                walletsList = yield walletsResponse.json();\n                if (!Array.isArray(walletsList)) {\n                    throw new FetchWalletsError('Wrong wallets list format, wallets list must be an array.');\n                }\n                const wrongFormatWallets = walletsList.filter(wallet => !this.isCorrectWalletConfigDTO(wallet));\n                if (wrongFormatWallets.length) {\n                    logError(`Wallet(s) ${wrongFormatWallets\n                        .map(wallet => wallet.name)\n                        .join(', ')} config format is wrong. They were removed from the wallets list.`);\n                    walletsList = walletsList.filter(wallet => this.isCorrectWalletConfigDTO(wallet));\n                }\n            }\n            catch (e) {\n                logError(e);\n                walletsList = FALLBACK_WALLETS_LIST;\n            }\n            let currentlyInjectedWallets = [];\n            try {\n                currentlyInjectedWallets = InjectedProvider.getCurrentlyInjectedWallets();\n            }\n            catch (e) {\n                logError(e);\n            }\n            return this.mergeWalletsLists(this.walletConfigDTOListToWalletConfigList(walletsList), currentlyInjectedWallets);\n        });\n    }\n    walletConfigDTOListToWalletConfigList(walletConfigDTO) {\n        return walletConfigDTO.map(walletConfigDTO => {\n            const walletConfigBase = {\n                name: walletConfigDTO.name,\n                appName: walletConfigDTO.app_name,\n                imageUrl: walletConfigDTO.image,\n                aboutUrl: walletConfigDTO.about_url,\n                tondns: walletConfigDTO.tondns,\n                platforms: walletConfigDTO.platforms\n            };\n            const walletConfig = walletConfigBase;\n            walletConfigDTO.bridge.forEach(bridge => {\n                if (bridge.type === 'sse') {\n                    walletConfig.bridgeUrl = bridge.url;\n                    walletConfig.universalLink =\n                        walletConfigDTO.universal_url;\n                    walletConfig.deepLink = walletConfigDTO.deepLink;\n                }\n                if (bridge.type === 'js') {\n                    const jsBridgeKey = bridge.key;\n                    walletConfig.jsBridgeKey = jsBridgeKey;\n                    walletConfig.injected =\n                        InjectedProvider.isWalletInjected(jsBridgeKey);\n                    walletConfig.embedded =\n                        InjectedProvider.isInsideWalletBrowser(jsBridgeKey);\n                }\n            });\n            return walletConfig;\n        });\n    }\n    mergeWalletsLists(list1, list2) {\n        const names = new Set(list1.concat(list2).map(item => item.name));\n        return [...names.values()].map(name => {\n            const list1Item = list1.find(item => item.name === name);\n            const list2Item = list2.find(item => item.name === name);\n            return Object.assign(Object.assign({}, (list1Item && Object.assign({}, list1Item))), (list2Item && Object.assign({}, list2Item)));\n        });\n    }\n    // eslint-disable-next-line complexity\n    isCorrectWalletConfigDTO(value) {\n        if (!value || !(typeof value === 'object')) {\n            return false;\n        }\n        const containsName = 'name' in value;\n        const containsAppName = 'app_name' in value;\n        const containsImage = 'image' in value;\n        const containsAbout = 'about_url' in value;\n        const containsPlatforms = 'platforms' in value;\n        if (!containsName ||\n            !containsImage ||\n            !containsAbout ||\n            !containsPlatforms ||\n            !containsAppName) {\n            return false;\n        }\n        if (!value.platforms ||\n            !Array.isArray(value.platforms) ||\n            !value.platforms.length) {\n            return false;\n        }\n        if (!('bridge' in value) ||\n            !Array.isArray(value.bridge) ||\n            !value.bridge.length) {\n            return false;\n        }\n        const bridge = value.bridge;\n        if (bridge.some(item => !item || typeof item !== 'object' || !('type' in item))) {\n            return false;\n        }\n        const sseBridge = bridge.find(item => item.type === 'sse');\n        if (sseBridge) {\n            if (!('url' in sseBridge) ||\n                !sseBridge.url ||\n                !value.universal_url) {\n                return false;\n            }\n        }\n        const jsBridge = bridge.find(item => item.type === 'js');\n        if (jsBridge) {\n            if (!('key' in jsBridge) || !jsBridge.key) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\n\n/**\n * Thrown when wallet doesn't support requested feature method.\n */\nclass WalletNotSupportFeatureError extends TonConnectError {\n    get info() {\n        return \"Wallet doesn't support requested feature method.\";\n    }\n    constructor(...args) {\n        super(...args);\n        Object.setPrototypeOf(this, WalletNotSupportFeatureError.prototype);\n    }\n}\n\nfunction checkSendTransactionSupport(features, options) {\n    const supportsDeprecatedSendTransactionFeature = features.includes('SendTransaction');\n    const sendTransactionFeature = features.find(feature => feature && typeof feature === 'object' && feature.name === 'SendTransaction');\n    if (!supportsDeprecatedSendTransactionFeature && !sendTransactionFeature) {\n        throw new WalletNotSupportFeatureError(\"Wallet doesn't support SendTransaction feature.\");\n    }\n    if (sendTransactionFeature && sendTransactionFeature.maxMessages !== undefined) {\n        if (sendTransactionFeature.maxMessages < options.requiredMessagesNumber) {\n            throw new WalletNotSupportFeatureError(`Wallet is not able to handle such SendTransaction request. Max support messages number is ${sendTransactionFeature.maxMessages}, but ${options.requiredMessagesNumber} is required.`);\n        }\n        return;\n    }\n    logWarning(\"Connected wallet didn't provide information about max allowed messages in the SendTransaction request. Request may be rejected by the wallet.\");\n}\n\nclass TonConnect {\n    constructor(options) {\n        this.walletsList = new WalletsListManager();\n        this._wallet = null;\n        this.provider = null;\n        this.statusChangeSubscriptions = [];\n        this.statusChangeErrorSubscriptions = [];\n        this.dappSettings = {\n            manifestUrl: (options === null || options === void 0 ? void 0 : options.manifestUrl) || getWebPageManifest(),\n            storage: (options === null || options === void 0 ? void 0 : options.storage) || new DefaultStorage()\n        };\n        this.walletsList = new WalletsListManager({\n            walletsListSource: options === null || options === void 0 ? void 0 : options.walletsListSource,\n            cacheTTLMs: options === null || options === void 0 ? void 0 : options.walletsListCacheTTLMs\n        });\n        if (!this.dappSettings.manifestUrl) {\n            throw new DappMetadataError('Dapp tonconnect-manifest.json must be specified if window.location.origin is undefined. See more https://github.com/ton-connect/docs/blob/main/requests-responses.md#app-manifest');\n        }\n        this.bridgeConnectionStorage = new BridgeConnectionStorage(this.dappSettings.storage);\n        if (!(options === null || options === void 0 ? void 0 : options.disableAutoPauseConnection)) {\n            this.addWindowFocusAndBlurSubscriptions();\n        }\n    }\n    /**\n     * Returns available wallets list.\n     */\n    static getWallets() {\n        return this.walletsList.getWallets();\n    }\n    /**\n     * Shows if the wallet is connected right now.\n     */\n    get connected() {\n        return this._wallet !== null;\n    }\n    /**\n     * Current connected account or null if no account is connected.\n     */\n    get account() {\n        var _a;\n        return ((_a = this._wallet) === null || _a === void 0 ? void 0 : _a.account) || null;\n    }\n    /**\n     * Current connected wallet or null if no account is connected.\n     */\n    get wallet() {\n        return this._wallet;\n    }\n    set wallet(value) {\n        this._wallet = value;\n        this.statusChangeSubscriptions.forEach(callback => callback(this._wallet));\n    }\n    /**\n     * Returns available wallets list.\n     */\n    getWallets() {\n        return this.walletsList.getWallets();\n    }\n    /**\n     * Allows to subscribe to connection status changes and handle connection errors.\n     * @param callback will be called after connections status changes with actual wallet or null.\n     * @param errorsHandler (optional) will be called with some instance of TonConnectError when connect error is received.\n     * @returns unsubscribe callback.\n     */\n    onStatusChange(callback, errorsHandler) {\n        this.statusChangeSubscriptions.push(callback);\n        if (errorsHandler) {\n            this.statusChangeErrorSubscriptions.push(errorsHandler);\n        }\n        return () => {\n            this.statusChangeSubscriptions = this.statusChangeSubscriptions.filter(item => item !== callback);\n            if (errorsHandler) {\n                this.statusChangeErrorSubscriptions = this.statusChangeErrorSubscriptions.filter(item => item !== errorsHandler);\n            }\n        };\n    }\n    connect(wallet, request) {\n        var _a;\n        if (this.connected) {\n            throw new WalletAlreadyConnectedError();\n        }\n        (_a = this.provider) === null || _a === void 0 ? void 0 : _a.closeConnection();\n        this.provider = this.createProvider(wallet);\n        return this.provider.connect(this.createConnectRequest(request));\n    }\n    /**\n     * Try to restore existing session and reconnect to the corresponding wallet. Call it immediately when your app is loaded.\n     */\n    restoreConnection() {\n        return __awaiter(this, void 0, void 0, function* () {\n            const [bridgeConnectionType, embeddedWallet] = yield Promise.all([\n                this.bridgeConnectionStorage.storedConnectionType(),\n                this.walletsList.getEmbeddedWallet()\n            ]);\n            try {\n                switch (bridgeConnectionType) {\n                    case 'http':\n                        this.provider = yield BridgeProvider.fromStorage(this.dappSettings.storage);\n                        break;\n                    case 'injected':\n                        this.provider = yield InjectedProvider.fromStorage(this.dappSettings.storage);\n                        break;\n                    default:\n                        if (embeddedWallet) {\n                            this.provider = yield this.createProvider(embeddedWallet);\n                        }\n                        else {\n                            return;\n                        }\n                }\n            }\n            catch (_a) {\n                yield this.bridgeConnectionStorage.removeConnection();\n                this.provider = null;\n                return;\n            }\n            this.provider.listen(this.walletEventsListener.bind(this));\n            return this.provider.restoreConnection();\n        });\n    }\n    /**\n     * Asks connected wallet to sign and send the transaction.\n     * @param transaction transaction to send.\n     * @returns signed transaction boc that allows you to find the transaction in the blockchain.\n     * If user rejects transaction, method will throw the corresponding error.\n     */\n    sendTransaction(transaction) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.checkConnection();\n            checkSendTransactionSupport(this.wallet.device.features, {\n                requiredMessagesNumber: transaction.messages.length\n            });\n            const { validUntil } = transaction, tx = __rest(transaction, [\"validUntil\"]);\n            const from = transaction.from || this.account.address;\n            const network = transaction.network || this.account.chain;\n            const response = yield this.provider.sendRequest(sendTransactionParser.convertToRpcRequest(Object.assign(Object.assign({}, tx), { valid_until: validUntil, from,\n                network })));\n            if (sendTransactionParser.isError(response)) {\n                return sendTransactionParser.parseAndThrowError(response);\n            }\n            return sendTransactionParser.convertFromRpcResponse(response);\n        });\n    }\n    /**\n     * Disconnect form thw connected wallet and drop current session.\n     */\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.connected) {\n                throw new WalletNotConnectedError();\n            }\n            yield this.provider.disconnect();\n            this.onWalletDisconnected();\n        });\n    }\n    /**\n     * Pause bridge HTTP connection. Might be helpful, if you want to pause connections while browser tab is unfocused,\n     * or if you use SDK with NodeJS and want to save server resources.\n     */\n    pauseConnection() {\n        var _a;\n        if (((_a = this.provider) === null || _a === void 0 ? void 0 : _a.type) !== 'http') {\n            return;\n        }\n        this.provider.pause();\n    }\n    /**\n     * Unpause bridge HTTP connection if it is paused.\n     */\n    unPauseConnection() {\n        var _a;\n        if (((_a = this.provider) === null || _a === void 0 ? void 0 : _a.type) !== 'http') {\n            return Promise.resolve();\n        }\n        return this.provider.unPause();\n    }\n    addWindowFocusAndBlurSubscriptions() {\n        const document = getDocument();\n        if (!document) {\n            return;\n        }\n        try {\n            document.addEventListener('visibilitychange', () => {\n                if (document.hidden) {\n                    this.pauseConnection();\n                }\n                else {\n                    this.unPauseConnection();\n                }\n            });\n        }\n        catch (e) {\n            console.error('Cannot subscribe to the document.visibilitychange: ', e);\n        }\n    }\n    createProvider(wallet) {\n        let provider;\n        if (!Array.isArray(wallet) && isWalletConnectionSourceJS(wallet)) {\n            provider = new InjectedProvider(this.dappSettings.storage, wallet.jsBridgeKey);\n        }\n        else {\n            provider = new BridgeProvider(this.dappSettings.storage, wallet);\n        }\n        provider.listen(this.walletEventsListener.bind(this));\n        return provider;\n    }\n    walletEventsListener(e) {\n        switch (e.event) {\n            case 'connect':\n                this.onWalletConnected(e.payload);\n                break;\n            case 'connect_error':\n                this.onWalletConnectError(e.payload);\n                break;\n            case 'disconnect':\n                this.onWalletDisconnected();\n        }\n    }\n    onWalletConnected(connectEvent) {\n        const tonAccountItem = connectEvent.items.find(item => item.name === 'ton_addr');\n        const tonProofItem = connectEvent.items.find(item => item.name === 'ton_proof');\n        if (!tonAccountItem) {\n            throw new TonConnectError('ton_addr connection item was not found');\n        }\n        const wallet = {\n            device: connectEvent.device,\n            provider: this.provider.type,\n            account: {\n                address: tonAccountItem.address,\n                chain: tonAccountItem.network,\n                walletStateInit: tonAccountItem.walletStateInit,\n                publicKey: tonAccountItem.publicKey\n            }\n        };\n        if (tonProofItem) {\n            wallet.connectItems = {\n                tonProof: tonProofItem\n            };\n        }\n        this.wallet = wallet;\n    }\n    onWalletConnectError(connectEventError) {\n        const error = connectErrorsParser.parseError(connectEventError);\n        this.statusChangeErrorSubscriptions.forEach(errorsHandler => errorsHandler(error));\n        console.debug(error);\n        if (error instanceof ManifestNotFoundError || error instanceof ManifestContentErrorError) {\n            console.error(error);\n            throw error;\n        }\n    }\n    onWalletDisconnected() {\n        this.wallet = null;\n    }\n    checkConnection() {\n        if (!this.connected) {\n            throw new WalletNotConnectedError();\n        }\n    }\n    createConnectRequest(request) {\n        const items = [\n            {\n                name: 'ton_addr'\n            }\n        ];\n        if (request === null || request === void 0 ? void 0 : request.tonProof) {\n            items.push({\n                name: 'ton_proof',\n                payload: request.tonProof\n            });\n        }\n        return {\n            manifestUrl: this.dappSettings.manifestUrl,\n            items\n        };\n    }\n}\nTonConnect.walletsList = new WalletsListManager();\n/**\n * Check if specified wallet is injected and available to use with the app.\n * @param walletJSKey target wallet's js bridge key.\n */\nTonConnect.isWalletInjected = (walletJSKey) => InjectedProvider.isWalletInjected(walletJSKey);\n/**\n * Check if the app is opened inside specified wallet's browser.\n * @param walletJSKey target wallet's js bridge key.\n */\nTonConnect.isInsideWalletBrowser = (walletJSKey) => InjectedProvider.isInsideWalletBrowser(walletJSKey);\n\nconst bounceableTag = 0x11;\nconst testOnlyTag = 0x80;\n/**\n * Converts raw TON address to bounceable user-friendly format. [See details]{@link https://ton.org/docs/learn/overviews/addresses#user-friendly-address}\n * @param hexAddress raw TON address formatted as \"0:<hex string without 0x>\".\n * @param [testOnly=false] convert address to test-only form. [See details]{@link https://ton.org/docs/learn/overviews/addresses#user-friendly-address}\n */\nfunction toUserFriendlyAddress(hexAddress, testOnly = false) {\n    const { wc, hex } = parseHexAddress(hexAddress);\n    let tag = bounceableTag;\n    if (testOnly) {\n        tag |= testOnlyTag;\n    }\n    const addr = new Int8Array(34);\n    addr[0] = tag;\n    addr[1] = wc;\n    addr.set(hex, 2);\n    const addressWithChecksum = new Uint8Array(36);\n    addressWithChecksum.set(addr);\n    addressWithChecksum.set(crc16(addr), 34);\n    let addressBase64 = Base64.encode(addressWithChecksum);\n    return addressBase64.replace(/\\+/g, '-').replace(/\\//g, '_');\n}\nfunction parseHexAddress(hexAddress) {\n    if (!hexAddress.includes(':')) {\n        throw new WrongAddressError(`Wrong address ${hexAddress}. Address must include \":\".`);\n    }\n    const parts = hexAddress.split(':');\n    if (parts.length !== 2) {\n        throw new WrongAddressError(`Wrong address ${hexAddress}. Address must include \":\" only once.`);\n    }\n    const wc = parseInt(parts[0]);\n    if (wc !== 0 && wc !== -1) {\n        throw new WrongAddressError(`Wrong address ${hexAddress}. WC must be eq 0 or -1, but ${wc} received.`);\n    }\n    const hex = parts[1];\n    if ((hex === null || hex === void 0 ? void 0 : hex.length) !== 64) {\n        throw new WrongAddressError(`Wrong address ${hexAddress}. Hex part must be 64bytes length, but ${hex === null || hex === void 0 ? void 0 : hex.length} received.`);\n    }\n    return {\n        wc,\n        hex: hexToBytes(hex)\n    };\n}\nfunction crc16(data) {\n    const poly = 0x1021;\n    let reg = 0;\n    const message = new Uint8Array(data.length + 2);\n    message.set(data);\n    for (let byte of message) {\n        let mask = 0x80;\n        while (mask > 0) {\n            reg <<= 1;\n            if (byte & mask) {\n                reg += 1;\n            }\n            mask >>= 1;\n            if (reg > 0xffff) {\n                reg &= 0xffff;\n                reg ^= poly;\n            }\n        }\n    }\n    return new Uint8Array([Math.floor(reg / 256), reg % 256]);\n}\nconst toByteMap = {};\nfor (let ord = 0; ord <= 0xff; ord++) {\n    let s = ord.toString(16);\n    if (s.length < 2) {\n        s = '0' + s;\n    }\n    toByteMap[s] = ord;\n}\nfunction hexToBytes(hex) {\n    hex = hex.toLowerCase();\n    const length2 = hex.length;\n    if (length2 % 2 !== 0) {\n        throw new ParseHexError('Hex string must have length a multiple of 2: ' + hex);\n    }\n    const length = length2 / 2;\n    const result = new Uint8Array(length);\n    for (let i = 0; i < length; i++) {\n        const doubled = i * 2;\n        const hexSubstring = hex.substring(doubled, doubled + 2);\n        if (!toByteMap.hasOwnProperty(hexSubstring)) {\n            throw new ParseHexError('Invalid hex character: ' + hexSubstring);\n        }\n        result[i] = toByteMap[hexSubstring];\n    }\n    return result;\n}\n\nexport { BadRequestError, FetchWalletsError, LocalstorageNotFoundError, ParseHexError, TonConnect, TonConnectError, UnknownAppError, UnknownError, UserRejectsError, WalletAlreadyConnectedError, WalletNotConnectedError, WalletNotInjectedError, WalletsListManager, WrongAddressError, TonConnect as default, isTelegramUrl, isWalletInfoCurrentlyEmbedded, isWalletInfoCurrentlyInjected, isWalletInfoInjectable, isWalletInfoInjected, isWalletInfoRemote, toUserFriendlyAddress };\n//# sourceMappingURL=index.mjs.map\n","let taskIdCounter = 1,\n  isCallbackScheduled = false,\n  isPerformingWork = false,\n  taskQueue = [],\n  currentTask = null,\n  shouldYieldToHost = null,\n  yieldInterval = 5,\n  deadline = 0,\n  maxYieldInterval = 300,\n  scheduleCallback = null,\n  scheduledCallback = null;\nconst maxSigned31BitInt = 1073741823;\nfunction setupScheduler() {\n  const channel = new MessageChannel(),\n    port = channel.port2;\n  scheduleCallback = () => port.postMessage(null);\n  channel.port1.onmessage = () => {\n    if (scheduledCallback !== null) {\n      const currentTime = performance.now();\n      deadline = currentTime + yieldInterval;\n      const hasTimeRemaining = true;\n      try {\n        const hasMoreWork = scheduledCallback(hasTimeRemaining, currentTime);\n        if (!hasMoreWork) {\n          scheduledCallback = null;\n        } else port.postMessage(null);\n      } catch (error) {\n        port.postMessage(null);\n        throw error;\n      }\n    }\n  };\n  if (navigator && navigator.scheduling && navigator.scheduling.isInputPending) {\n    const scheduling = navigator.scheduling;\n    shouldYieldToHost = () => {\n      const currentTime = performance.now();\n      if (currentTime >= deadline) {\n        if (scheduling.isInputPending()) {\n          return true;\n        }\n        return currentTime >= maxYieldInterval;\n      } else {\n        return false;\n      }\n    };\n  } else {\n    shouldYieldToHost = () => performance.now() >= deadline;\n  }\n}\nfunction enqueue(taskQueue, task) {\n  function findIndex() {\n    let m = 0;\n    let n = taskQueue.length - 1;\n    while (m <= n) {\n      const k = n + m >> 1;\n      const cmp = task.expirationTime - taskQueue[k].expirationTime;\n      if (cmp > 0) m = k + 1;else if (cmp < 0) n = k - 1;else return k;\n    }\n    return m;\n  }\n  taskQueue.splice(findIndex(), 0, task);\n}\nfunction requestCallback(fn, options) {\n  if (!scheduleCallback) setupScheduler();\n  let startTime = performance.now(),\n    timeout = maxSigned31BitInt;\n  if (options && options.timeout) timeout = options.timeout;\n  const newTask = {\n    id: taskIdCounter++,\n    fn,\n    startTime,\n    expirationTime: startTime + timeout\n  };\n  enqueue(taskQueue, newTask);\n  if (!isCallbackScheduled && !isPerformingWork) {\n    isCallbackScheduled = true;\n    scheduledCallback = flushWork;\n    scheduleCallback();\n  }\n  return newTask;\n}\nfunction cancelCallback(task) {\n  task.fn = null;\n}\nfunction flushWork(hasTimeRemaining, initialTime) {\n  isCallbackScheduled = false;\n  isPerformingWork = true;\n  try {\n    return workLoop(hasTimeRemaining, initialTime);\n  } finally {\n    currentTask = null;\n    isPerformingWork = false;\n  }\n}\nfunction workLoop(hasTimeRemaining, initialTime) {\n  let currentTime = initialTime;\n  currentTask = taskQueue[0] || null;\n  while (currentTask !== null) {\n    if (currentTask.expirationTime > currentTime && (!hasTimeRemaining || shouldYieldToHost())) {\n      break;\n    }\n    const callback = currentTask.fn;\n    if (callback !== null) {\n      currentTask.fn = null;\n      const didUserCallbackTimeout = currentTask.expirationTime <= currentTime;\n      callback(didUserCallbackTimeout);\n      currentTime = performance.now();\n      if (currentTask === taskQueue[0]) {\n        taskQueue.shift();\n      }\n    } else taskQueue.shift();\n    currentTask = taskQueue[0] || null;\n  }\n  return currentTask !== null;\n}\n\nconst sharedConfig = {};\nfunction setHydrateContext(context) {\n  sharedConfig.context = context;\n}\nfunction nextHydrateContext() {\n  return {\n    ...sharedConfig.context,\n    id: `${sharedConfig.context.id}${sharedConfig.context.count++}-`,\n    count: 0\n  };\n}\n\nconst equalFn = (a, b) => a === b;\nconst $PROXY = Symbol(\"solid-proxy\");\nconst $TRACK = Symbol(\"solid-track\");\nconst $DEVCOMP = Symbol(\"solid-dev-component\");\nconst signalOptions = {\n  equals: equalFn\n};\nlet ERROR = null;\nlet runEffects = runQueue;\nconst STALE = 1;\nconst PENDING = 2;\nconst UNOWNED = {\n  owned: null,\n  cleanups: null,\n  context: null,\n  owner: null\n};\nconst NO_INIT = {};\nvar Owner = null;\nlet Transition = null;\nlet Scheduler = null;\nlet ExternalSourceFactory = null;\nlet Listener = null;\nlet Updates = null;\nlet Effects = null;\nlet ExecCount = 0;\nconst [transPending, setTransPending] = /*@__PURE__*/createSignal(false);\nfunction createRoot(fn, detachedOwner) {\n  const listener = Listener,\n    owner = Owner,\n    unowned = fn.length === 0,\n    root = unowned ? UNOWNED : {\n      owned: null,\n      cleanups: null,\n      context: null,\n      owner: detachedOwner === undefined ? owner : detachedOwner\n    },\n    updateFn = unowned ? fn : () => fn(() => untrack(() => cleanNode(root)));\n  Owner = root;\n  Listener = null;\n  try {\n    return runUpdates(updateFn, true);\n  } finally {\n    Listener = listener;\n    Owner = owner;\n  }\n}\nfunction createSignal(value, options) {\n  options = options ? Object.assign({}, signalOptions, options) : signalOptions;\n  const s = {\n    value,\n    observers: null,\n    observerSlots: null,\n    comparator: options.equals || undefined\n  };\n  const setter = value => {\n    if (typeof value === \"function\") {\n      if (Transition && Transition.running && Transition.sources.has(s)) value = value(s.tValue);else value = value(s.value);\n    }\n    return writeSignal(s, value);\n  };\n  return [readSignal.bind(s), setter];\n}\nfunction createComputed(fn, value, options) {\n  const c = createComputation(fn, value, true, STALE);\n  if (Scheduler && Transition && Transition.running) Updates.push(c);else updateComputation(c);\n}\nfunction createRenderEffect(fn, value, options) {\n  const c = createComputation(fn, value, false, STALE);\n  if (Scheduler && Transition && Transition.running) Updates.push(c);else updateComputation(c);\n}\nfunction createEffect(fn, value, options) {\n  runEffects = runUserEffects;\n  const c = createComputation(fn, value, false, STALE),\n    s = SuspenseContext && lookup(Owner, SuspenseContext.id);\n  if (s) c.suspense = s;\n  c.user = true;\n  Effects ? Effects.push(c) : updateComputation(c);\n}\nfunction createReaction(onInvalidate, options) {\n  let fn;\n  const c = createComputation(() => {\n      fn ? fn() : untrack(onInvalidate);\n      fn = undefined;\n    }, undefined, false, 0),\n    s = SuspenseContext && lookup(Owner, SuspenseContext.id);\n  if (s) c.suspense = s;\n  c.user = true;\n  return tracking => {\n    fn = tracking;\n    updateComputation(c);\n  };\n}\nfunction createMemo(fn, value, options) {\n  options = options ? Object.assign({}, signalOptions, options) : signalOptions;\n  const c = createComputation(fn, value, true, 0);\n  c.observers = null;\n  c.observerSlots = null;\n  c.comparator = options.equals || undefined;\n  if (Scheduler && Transition && Transition.running) {\n    c.tState = STALE;\n    Updates.push(c);\n  } else updateComputation(c);\n  return readSignal.bind(c);\n}\nfunction createResource(pSource, pFetcher, pOptions) {\n  let source;\n  let fetcher;\n  let options;\n  if (arguments.length === 2 && typeof pFetcher === \"object\" || arguments.length === 1) {\n    source = true;\n    fetcher = pSource;\n    options = pFetcher || {};\n  } else {\n    source = pSource;\n    fetcher = pFetcher;\n    options = pOptions || {};\n  }\n  let pr = null,\n    initP = NO_INIT,\n    id = null,\n    loadedUnderTransition = false,\n    scheduled = false,\n    resolved = (\"initialValue\" in options),\n    dynamic = typeof source === \"function\" && createMemo(source);\n  const contexts = new Set(),\n    [value, setValue] = (options.storage || createSignal)(options.initialValue),\n    [error, setError] = createSignal(undefined),\n    [track, trigger] = createSignal(undefined, {\n      equals: false\n    }),\n    [state, setState] = createSignal(resolved ? \"ready\" : \"unresolved\");\n  if (sharedConfig.context) {\n    id = `${sharedConfig.context.id}${sharedConfig.context.count++}`;\n    let v;\n    if (options.ssrLoadFrom === \"initial\") initP = options.initialValue;else if (sharedConfig.load && (v = sharedConfig.load(id))) initP = v[0];\n  }\n  function loadEnd(p, v, error, key) {\n    if (pr === p) {\n      pr = null;\n      resolved = true;\n      if ((p === initP || v === initP) && options.onHydrated) queueMicrotask(() => options.onHydrated(key, {\n        value: v\n      }));\n      initP = NO_INIT;\n      if (Transition && p && loadedUnderTransition) {\n        Transition.promises.delete(p);\n        loadedUnderTransition = false;\n        runUpdates(() => {\n          Transition.running = true;\n          completeLoad(v, error);\n        }, false);\n      } else completeLoad(v, error);\n    }\n    return v;\n  }\n  function completeLoad(v, err) {\n    runUpdates(() => {\n      if (err === undefined) setValue(() => v);\n      setState(err !== undefined ? \"errored\" : \"ready\");\n      setError(err);\n      for (const c of contexts.keys()) c.decrement();\n      contexts.clear();\n    }, false);\n  }\n  function read() {\n    const c = SuspenseContext && lookup(Owner, SuspenseContext.id),\n      v = value(),\n      err = error();\n    if (err !== undefined && !pr) throw err;\n    if (Listener && !Listener.user && c) {\n      createComputed(() => {\n        track();\n        if (pr) {\n          if (c.resolved && Transition && loadedUnderTransition) Transition.promises.add(pr);else if (!contexts.has(c)) {\n            c.increment();\n            contexts.add(c);\n          }\n        }\n      });\n    }\n    return v;\n  }\n  function load(refetching = true) {\n    if (refetching !== false && scheduled) return;\n    scheduled = false;\n    const lookup = dynamic ? dynamic() : source;\n    loadedUnderTransition = Transition && Transition.running;\n    if (lookup == null || lookup === false) {\n      loadEnd(pr, untrack(value));\n      return;\n    }\n    if (Transition && pr) Transition.promises.delete(pr);\n    const p = initP !== NO_INIT ? initP : untrack(() => fetcher(lookup, {\n      value: value(),\n      refetching\n    }));\n    if (typeof p !== \"object\" || !(p && \"then\" in p)) {\n      loadEnd(pr, p, undefined, lookup);\n      return p;\n    }\n    pr = p;\n    scheduled = true;\n    queueMicrotask(() => scheduled = false);\n    runUpdates(() => {\n      setState(resolved ? \"refreshing\" : \"pending\");\n      trigger();\n    }, false);\n    return p.then(v => loadEnd(p, v, undefined, lookup), e => loadEnd(p, undefined, castError(e), lookup));\n  }\n  Object.defineProperties(read, {\n    state: {\n      get: () => state()\n    },\n    error: {\n      get: () => error()\n    },\n    loading: {\n      get() {\n        const s = state();\n        return s === \"pending\" || s === \"refreshing\";\n      }\n    },\n    latest: {\n      get() {\n        if (!resolved) return read();\n        const err = error();\n        if (err && !pr) throw err;\n        return value();\n      }\n    }\n  });\n  if (dynamic) createComputed(() => load(false));else load(false);\n  return [read, {\n    refetch: load,\n    mutate: setValue\n  }];\n}\nfunction createDeferred(source, options) {\n  let t,\n    timeout = options ? options.timeoutMs : undefined;\n  const node = createComputation(() => {\n    if (!t || !t.fn) t = requestCallback(() => setDeferred(() => node.value), timeout !== undefined ? {\n      timeout\n    } : undefined);\n    return source();\n  }, undefined, true);\n  const [deferred, setDeferred] = createSignal(node.value, options);\n  updateComputation(node);\n  setDeferred(() => node.value);\n  return deferred;\n}\nfunction createSelector(source, fn = equalFn, options) {\n  const subs = new Map();\n  const node = createComputation(p => {\n    const v = source();\n    for (const [key, val] of subs.entries()) if (fn(key, v) !== fn(key, p)) {\n      for (const c of val.values()) {\n        c.state = STALE;\n        if (c.pure) Updates.push(c);else Effects.push(c);\n      }\n    }\n    return v;\n  }, undefined, true, STALE);\n  updateComputation(node);\n  return key => {\n    const listener = Listener;\n    if (listener) {\n      let l;\n      if (l = subs.get(key)) l.add(listener);else subs.set(key, l = new Set([listener]));\n      onCleanup(() => {\n        l.delete(listener);\n        !l.size && subs.delete(key);\n      });\n    }\n    return fn(key, Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value);\n  };\n}\nfunction batch(fn) {\n  return runUpdates(fn, false);\n}\nfunction untrack(fn) {\n  if (Listener === null) return fn();\n  const listener = Listener;\n  Listener = null;\n  try {\n    return fn();\n  } finally {\n    Listener = listener;\n  }\n}\nfunction on(deps, fn, options) {\n  const isArray = Array.isArray(deps);\n  let prevInput;\n  let defer = options && options.defer;\n  return prevValue => {\n    let input;\n    if (isArray) {\n      input = Array(deps.length);\n      for (let i = 0; i < deps.length; i++) input[i] = deps[i]();\n    } else input = deps();\n    if (defer) {\n      defer = false;\n      return undefined;\n    }\n    const result = untrack(() => fn(input, prevInput, prevValue));\n    prevInput = input;\n    return result;\n  };\n}\nfunction onMount(fn) {\n  createEffect(() => untrack(fn));\n}\nfunction onCleanup(fn) {\n  if (Owner === null) ;else if (Owner.cleanups === null) Owner.cleanups = [fn];else Owner.cleanups.push(fn);\n  return fn;\n}\nfunction onError(fn) {\n  ERROR || (ERROR = Symbol(\"error\"));\n  if (Owner === null) ;else if (Owner.context === null) Owner.context = {\n    [ERROR]: [fn]\n  };else if (!Owner.context[ERROR]) Owner.context[ERROR] = [fn];else Owner.context[ERROR].push(fn);\n}\nfunction getListener() {\n  return Listener;\n}\nfunction getOwner() {\n  return Owner;\n}\nfunction runWithOwner(o, fn) {\n  const prev = Owner;\n  const prevListener = Listener;\n  Owner = o;\n  Listener = null;\n  try {\n    return runUpdates(fn, true);\n  } catch (err) {\n    handleError(err);\n  } finally {\n    Owner = prev;\n    Listener = prevListener;\n  }\n}\nfunction enableScheduling(scheduler = requestCallback) {\n  Scheduler = scheduler;\n}\nfunction startTransition(fn) {\n  if (Transition && Transition.running) {\n    fn();\n    return Transition.done;\n  }\n  const l = Listener;\n  const o = Owner;\n  return Promise.resolve().then(() => {\n    Listener = l;\n    Owner = o;\n    let t;\n    if (Scheduler || SuspenseContext) {\n      t = Transition || (Transition = {\n        sources: new Set(),\n        effects: [],\n        promises: new Set(),\n        disposed: new Set(),\n        queue: new Set(),\n        running: true\n      });\n      t.done || (t.done = new Promise(res => t.resolve = res));\n      t.running = true;\n    }\n    runUpdates(fn, false);\n    Listener = Owner = null;\n    return t ? t.done : undefined;\n  });\n}\nfunction useTransition() {\n  return [transPending, startTransition];\n}\nfunction resumeEffects(e) {\n  Effects.push.apply(Effects, e);\n  e.length = 0;\n}\nfunction createContext(defaultValue, options) {\n  const id = Symbol(\"context\");\n  return {\n    id,\n    Provider: createProvider(id),\n    defaultValue\n  };\n}\nfunction useContext(context) {\n  let ctx;\n  return (ctx = lookup(Owner, context.id)) !== undefined ? ctx : context.defaultValue;\n}\nfunction children(fn) {\n  const children = createMemo(fn);\n  const memo = createMemo(() => resolveChildren(children()));\n  memo.toArray = () => {\n    const c = memo();\n    return Array.isArray(c) ? c : c != null ? [c] : [];\n  };\n  return memo;\n}\nlet SuspenseContext;\nfunction getSuspenseContext() {\n  return SuspenseContext || (SuspenseContext = createContext({}));\n}\nfunction enableExternalSource(factory) {\n  if (ExternalSourceFactory) {\n    const oldFactory = ExternalSourceFactory;\n    ExternalSourceFactory = (fn, trigger) => {\n      const oldSource = oldFactory(fn, trigger);\n      const source = factory(x => oldSource.track(x), trigger);\n      return {\n        track: x => source.track(x),\n        dispose() {\n          source.dispose();\n          oldSource.dispose();\n        }\n      };\n    };\n  } else {\n    ExternalSourceFactory = factory;\n  }\n}\nfunction readSignal() {\n  const runningTransition = Transition && Transition.running;\n  if (this.sources && (!runningTransition && this.state || runningTransition && this.tState)) {\n    if (!runningTransition && this.state === STALE || runningTransition && this.tState === STALE) updateComputation(this);else {\n      const updates = Updates;\n      Updates = null;\n      runUpdates(() => lookUpstream(this), false);\n      Updates = updates;\n    }\n  }\n  if (Listener) {\n    const sSlot = this.observers ? this.observers.length : 0;\n    if (!Listener.sources) {\n      Listener.sources = [this];\n      Listener.sourceSlots = [sSlot];\n    } else {\n      Listener.sources.push(this);\n      Listener.sourceSlots.push(sSlot);\n    }\n    if (!this.observers) {\n      this.observers = [Listener];\n      this.observerSlots = [Listener.sources.length - 1];\n    } else {\n      this.observers.push(Listener);\n      this.observerSlots.push(Listener.sources.length - 1);\n    }\n  }\n  if (runningTransition && Transition.sources.has(this)) return this.tValue;\n  return this.value;\n}\nfunction writeSignal(node, value, isComp) {\n  let current = Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value;\n  if (!node.comparator || !node.comparator(current, value)) {\n    if (Transition) {\n      const TransitionRunning = Transition.running;\n      if (TransitionRunning || !isComp && Transition.sources.has(node)) {\n        Transition.sources.add(node);\n        node.tValue = value;\n      }\n      if (!TransitionRunning) node.value = value;\n    } else node.value = value;\n    if (node.observers && node.observers.length) {\n      runUpdates(() => {\n        for (let i = 0; i < node.observers.length; i += 1) {\n          const o = node.observers[i];\n          const TransitionRunning = Transition && Transition.running;\n          if (TransitionRunning && Transition.disposed.has(o)) continue;\n          if (TransitionRunning && !o.tState || !TransitionRunning && !o.state) {\n            if (o.pure) Updates.push(o);else Effects.push(o);\n            if (o.observers) markDownstream(o);\n          }\n          if (TransitionRunning) o.tState = STALE;else o.state = STALE;\n        }\n        if (Updates.length > 10e5) {\n          Updates = [];\n          if (false) ;\n          throw new Error();\n        }\n      }, false);\n    }\n  }\n  return value;\n}\nfunction updateComputation(node) {\n  if (!node.fn) return;\n  cleanNode(node);\n  const owner = Owner,\n    listener = Listener,\n    time = ExecCount;\n  Listener = Owner = node;\n  runComputation(node, Transition && Transition.running && Transition.sources.has(node) ? node.tValue : node.value, time);\n  if (Transition && !Transition.running && Transition.sources.has(node)) {\n    queueMicrotask(() => {\n      runUpdates(() => {\n        Transition && (Transition.running = true);\n        Listener = Owner = node;\n        runComputation(node, node.tValue, time);\n        Listener = Owner = null;\n      }, false);\n    });\n  }\n  Listener = listener;\n  Owner = owner;\n}\nfunction runComputation(node, value, time) {\n  let nextValue;\n  try {\n    nextValue = node.fn(value);\n  } catch (err) {\n    if (node.pure) {\n      if (Transition && Transition.running) {\n        node.tState = STALE;\n        node.tOwned && node.tOwned.forEach(cleanNode);\n        node.tOwned = undefined;\n      } else {\n        node.state = STALE;\n        node.owned && node.owned.forEach(cleanNode);\n        node.owned = null;\n      }\n    }\n    handleError(err);\n  }\n  if (!node.updatedAt || node.updatedAt <= time) {\n    if (node.updatedAt != null && \"observers\" in node) {\n      writeSignal(node, nextValue, true);\n    } else if (Transition && Transition.running && node.pure) {\n      Transition.sources.add(node);\n      node.tValue = nextValue;\n    } else node.value = nextValue;\n    node.updatedAt = time;\n  }\n}\nfunction createComputation(fn, init, pure, state = STALE, options) {\n  const c = {\n    fn,\n    state: state,\n    updatedAt: null,\n    owned: null,\n    sources: null,\n    sourceSlots: null,\n    cleanups: null,\n    value: init,\n    owner: Owner,\n    context: null,\n    pure\n  };\n  if (Transition && Transition.running) {\n    c.state = 0;\n    c.tState = state;\n  }\n  if (Owner === null) ;else if (Owner !== UNOWNED) {\n    if (Transition && Transition.running && Owner.pure) {\n      if (!Owner.tOwned) Owner.tOwned = [c];else Owner.tOwned.push(c);\n    } else {\n      if (!Owner.owned) Owner.owned = [c];else Owner.owned.push(c);\n    }\n  }\n  if (ExternalSourceFactory) {\n    const [track, trigger] = createSignal(undefined, {\n      equals: false\n    });\n    const ordinary = ExternalSourceFactory(c.fn, trigger);\n    onCleanup(() => ordinary.dispose());\n    const triggerInTransition = () => startTransition(trigger).then(() => inTransition.dispose());\n    const inTransition = ExternalSourceFactory(c.fn, triggerInTransition);\n    c.fn = x => {\n      track();\n      return Transition && Transition.running ? inTransition.track(x) : ordinary.track(x);\n    };\n  }\n  return c;\n}\nfunction runTop(node) {\n  const runningTransition = Transition && Transition.running;\n  if (!runningTransition && node.state === 0 || runningTransition && node.tState === 0) return;\n  if (!runningTransition && node.state === PENDING || runningTransition && node.tState === PENDING) return lookUpstream(node);\n  if (node.suspense && untrack(node.suspense.inFallback)) return node.suspense.effects.push(node);\n  const ancestors = [node];\n  while ((node = node.owner) && (!node.updatedAt || node.updatedAt < ExecCount)) {\n    if (runningTransition && Transition.disposed.has(node)) return;\n    if (!runningTransition && node.state || runningTransition && node.tState) ancestors.push(node);\n  }\n  for (let i = ancestors.length - 1; i >= 0; i--) {\n    node = ancestors[i];\n    if (runningTransition) {\n      let top = node,\n        prev = ancestors[i + 1];\n      while ((top = top.owner) && top !== prev) {\n        if (Transition.disposed.has(top)) return;\n      }\n    }\n    if (!runningTransition && node.state === STALE || runningTransition && node.tState === STALE) {\n      updateComputation(node);\n    } else if (!runningTransition && node.state === PENDING || runningTransition && node.tState === PENDING) {\n      const updates = Updates;\n      Updates = null;\n      runUpdates(() => lookUpstream(node, ancestors[0]), false);\n      Updates = updates;\n    }\n  }\n}\nfunction runUpdates(fn, init) {\n  if (Updates) return fn();\n  let wait = false;\n  if (!init) Updates = [];\n  if (Effects) wait = true;else Effects = [];\n  ExecCount++;\n  try {\n    const res = fn();\n    completeUpdates(wait);\n    return res;\n  } catch (err) {\n    if (!wait) Effects = null;\n    Updates = null;\n    handleError(err);\n  }\n}\nfunction completeUpdates(wait) {\n  if (Updates) {\n    if (Scheduler && Transition && Transition.running) scheduleQueue(Updates);else runQueue(Updates);\n    Updates = null;\n  }\n  if (wait) return;\n  let res;\n  if (Transition) {\n    if (!Transition.promises.size && !Transition.queue.size) {\n      const sources = Transition.sources;\n      const disposed = Transition.disposed;\n      Effects.push.apply(Effects, Transition.effects);\n      res = Transition.resolve;\n      for (const e of Effects) {\n        \"tState\" in e && (e.state = e.tState);\n        delete e.tState;\n      }\n      Transition = null;\n      runUpdates(() => {\n        for (const d of disposed) cleanNode(d);\n        for (const v of sources) {\n          v.value = v.tValue;\n          if (v.owned) {\n            for (let i = 0, len = v.owned.length; i < len; i++) cleanNode(v.owned[i]);\n          }\n          if (v.tOwned) v.owned = v.tOwned;\n          delete v.tValue;\n          delete v.tOwned;\n          v.tState = 0;\n        }\n        setTransPending(false);\n      }, false);\n    } else if (Transition.running) {\n      Transition.running = false;\n      Transition.effects.push.apply(Transition.effects, Effects);\n      Effects = null;\n      setTransPending(true);\n      return;\n    }\n  }\n  const e = Effects;\n  Effects = null;\n  if (e.length) runUpdates(() => runEffects(e), false);\n  if (res) res();\n}\nfunction runQueue(queue) {\n  for (let i = 0; i < queue.length; i++) runTop(queue[i]);\n}\nfunction scheduleQueue(queue) {\n  for (let i = 0; i < queue.length; i++) {\n    const item = queue[i];\n    const tasks = Transition.queue;\n    if (!tasks.has(item)) {\n      tasks.add(item);\n      Scheduler(() => {\n        tasks.delete(item);\n        runUpdates(() => {\n          Transition.running = true;\n          runTop(item);\n        }, false);\n        Transition && (Transition.running = false);\n      });\n    }\n  }\n}\nfunction runUserEffects(queue) {\n  let i,\n    userLength = 0;\n  for (i = 0; i < queue.length; i++) {\n    const e = queue[i];\n    if (!e.user) runTop(e);else queue[userLength++] = e;\n  }\n  if (sharedConfig.context) setHydrateContext();\n  for (i = 0; i < userLength; i++) runTop(queue[i]);\n}\nfunction lookUpstream(node, ignore) {\n  const runningTransition = Transition && Transition.running;\n  if (runningTransition) node.tState = 0;else node.state = 0;\n  for (let i = 0; i < node.sources.length; i += 1) {\n    const source = node.sources[i];\n    if (source.sources) {\n      if (!runningTransition && source.state === STALE || runningTransition && source.tState === STALE) {\n        if (source !== ignore) runTop(source);\n      } else if (!runningTransition && source.state === PENDING || runningTransition && source.tState === PENDING) lookUpstream(source, ignore);\n    }\n  }\n}\nfunction markDownstream(node) {\n  const runningTransition = Transition && Transition.running;\n  for (let i = 0; i < node.observers.length; i += 1) {\n    const o = node.observers[i];\n    if (!runningTransition && !o.state || runningTransition && !o.tState) {\n      if (runningTransition) o.tState = PENDING;else o.state = PENDING;\n      if (o.pure) Updates.push(o);else Effects.push(o);\n      o.observers && markDownstream(o);\n    }\n  }\n}\nfunction cleanNode(node) {\n  let i;\n  if (node.sources) {\n    while (node.sources.length) {\n      const source = node.sources.pop(),\n        index = node.sourceSlots.pop(),\n        obs = source.observers;\n      if (obs && obs.length) {\n        const n = obs.pop(),\n          s = source.observerSlots.pop();\n        if (index < obs.length) {\n          n.sourceSlots[s] = index;\n          obs[index] = n;\n          source.observerSlots[index] = s;\n        }\n      }\n    }\n  }\n  if (Transition && Transition.running && node.pure) {\n    if (node.tOwned) {\n      for (i = 0; i < node.tOwned.length; i++) cleanNode(node.tOwned[i]);\n      delete node.tOwned;\n    }\n    reset(node, true);\n  } else if (node.owned) {\n    for (i = 0; i < node.owned.length; i++) cleanNode(node.owned[i]);\n    node.owned = null;\n  }\n  if (node.cleanups) {\n    for (i = 0; i < node.cleanups.length; i++) node.cleanups[i]();\n    node.cleanups = null;\n  }\n  if (Transition && Transition.running) node.tState = 0;else node.state = 0;\n  node.context = null;\n}\nfunction reset(node, top) {\n  if (!top) {\n    node.tState = 0;\n    Transition.disposed.add(node);\n  }\n  if (node.owned) {\n    for (let i = 0; i < node.owned.length; i++) reset(node.owned[i]);\n  }\n}\nfunction castError(err) {\n  if (err instanceof Error || typeof err === \"string\") return err;\n  return new Error(\"Unknown error\");\n}\nfunction runErrors(fns, err) {\n  for (const f of fns) f(err);\n}\nfunction handleError(err) {\n  err = castError(err);\n  const fns = ERROR && lookup(Owner, ERROR);\n  if (!fns) throw err;\n  if (Effects) Effects.push({\n    fn() {\n      runErrors(fns, err);\n    },\n    state: STALE\n  });else runErrors(fns, err);\n}\nfunction lookup(owner, key) {\n  return owner ? owner.context && owner.context[key] !== undefined ? owner.context[key] : lookup(owner.owner, key) : undefined;\n}\nfunction resolveChildren(children) {\n  if (typeof children === \"function\" && !children.length) return resolveChildren(children());\n  if (Array.isArray(children)) {\n    const results = [];\n    for (let i = 0; i < children.length; i++) {\n      const result = resolveChildren(children[i]);\n      Array.isArray(result) ? results.push.apply(results, result) : results.push(result);\n    }\n    return results;\n  }\n  return children;\n}\nfunction createProvider(id, options) {\n  return function provider(props) {\n    let res;\n    createRenderEffect(() => res = untrack(() => {\n      Owner.context = {\n        [id]: props.value\n      };\n      return children(() => props.children);\n    }), undefined);\n    return res;\n  };\n}\n\nfunction observable(input) {\n  return {\n    subscribe(observer) {\n      if (!(observer instanceof Object) || observer == null) {\n        throw new TypeError(\"Expected the observer to be an object.\");\n      }\n      const handler = typeof observer === \"function\" ? observer : observer.next && observer.next.bind(observer);\n      if (!handler) {\n        return {\n          unsubscribe() {}\n        };\n      }\n      const dispose = createRoot(disposer => {\n        createEffect(() => {\n          const v = input();\n          untrack(() => handler(v));\n        });\n        return disposer;\n      });\n      if (getOwner()) onCleanup(dispose);\n      return {\n        unsubscribe() {\n          dispose();\n        }\n      };\n    },\n    [Symbol.observable || \"@@observable\"]() {\n      return this;\n    }\n  };\n}\nfunction from(producer) {\n  const [s, set] = createSignal(undefined, {\n    equals: false\n  });\n  if (\"subscribe\" in producer) {\n    const unsub = producer.subscribe(v => set(() => v));\n    onCleanup(() => \"unsubscribe\" in unsub ? unsub.unsubscribe() : unsub());\n  } else {\n    const clean = producer(set);\n    onCleanup(clean);\n  }\n  return s;\n}\n\nconst FALLBACK = Symbol(\"fallback\");\nfunction dispose(d) {\n  for (let i = 0; i < d.length; i++) d[i]();\n}\nfunction mapArray(list, mapFn, options = {}) {\n  let items = [],\n    mapped = [],\n    disposers = [],\n    len = 0,\n    indexes = mapFn.length > 1 ? [] : null;\n  onCleanup(() => dispose(disposers));\n  return () => {\n    let newItems = list() || [],\n      i,\n      j;\n    newItems[$TRACK];\n    return untrack(() => {\n      let newLen = newItems.length,\n        newIndices,\n        newIndicesNext,\n        temp,\n        tempdisposers,\n        tempIndexes,\n        start,\n        end,\n        newEnd,\n        item;\n      if (newLen === 0) {\n        if (len !== 0) {\n          dispose(disposers);\n          disposers = [];\n          items = [];\n          mapped = [];\n          len = 0;\n          indexes && (indexes = []);\n        }\n        if (options.fallback) {\n          items = [FALLBACK];\n          mapped[0] = createRoot(disposer => {\n            disposers[0] = disposer;\n            return options.fallback();\n          });\n          len = 1;\n        }\n      }\n      else if (len === 0) {\n        mapped = new Array(newLen);\n        for (j = 0; j < newLen; j++) {\n          items[j] = newItems[j];\n          mapped[j] = createRoot(mapper);\n        }\n        len = newLen;\n      } else {\n        temp = new Array(newLen);\n        tempdisposers = new Array(newLen);\n        indexes && (tempIndexes = new Array(newLen));\n        for (start = 0, end = Math.min(len, newLen); start < end && items[start] === newItems[start]; start++);\n        for (end = len - 1, newEnd = newLen - 1; end >= start && newEnd >= start && items[end] === newItems[newEnd]; end--, newEnd--) {\n          temp[newEnd] = mapped[end];\n          tempdisposers[newEnd] = disposers[end];\n          indexes && (tempIndexes[newEnd] = indexes[end]);\n        }\n        newIndices = new Map();\n        newIndicesNext = new Array(newEnd + 1);\n        for (j = newEnd; j >= start; j--) {\n          item = newItems[j];\n          i = newIndices.get(item);\n          newIndicesNext[j] = i === undefined ? -1 : i;\n          newIndices.set(item, j);\n        }\n        for (i = start; i <= end; i++) {\n          item = items[i];\n          j = newIndices.get(item);\n          if (j !== undefined && j !== -1) {\n            temp[j] = mapped[i];\n            tempdisposers[j] = disposers[i];\n            indexes && (tempIndexes[j] = indexes[i]);\n            j = newIndicesNext[j];\n            newIndices.set(item, j);\n          } else disposers[i]();\n        }\n        for (j = start; j < newLen; j++) {\n          if (j in temp) {\n            mapped[j] = temp[j];\n            disposers[j] = tempdisposers[j];\n            if (indexes) {\n              indexes[j] = tempIndexes[j];\n              indexes[j](j);\n            }\n          } else mapped[j] = createRoot(mapper);\n        }\n        mapped = mapped.slice(0, len = newLen);\n        items = newItems.slice(0);\n      }\n      return mapped;\n    });\n    function mapper(disposer) {\n      disposers[j] = disposer;\n      if (indexes) {\n        const [s, set] = createSignal(j);\n        indexes[j] = set;\n        return mapFn(newItems[j], s);\n      }\n      return mapFn(newItems[j]);\n    }\n  };\n}\nfunction indexArray(list, mapFn, options = {}) {\n  let items = [],\n    mapped = [],\n    disposers = [],\n    signals = [],\n    len = 0,\n    i;\n  onCleanup(() => dispose(disposers));\n  return () => {\n    const newItems = list() || [];\n    newItems[$TRACK];\n    return untrack(() => {\n      if (newItems.length === 0) {\n        if (len !== 0) {\n          dispose(disposers);\n          disposers = [];\n          items = [];\n          mapped = [];\n          len = 0;\n          signals = [];\n        }\n        if (options.fallback) {\n          items = [FALLBACK];\n          mapped[0] = createRoot(disposer => {\n            disposers[0] = disposer;\n            return options.fallback();\n          });\n          len = 1;\n        }\n        return mapped;\n      }\n      if (items[0] === FALLBACK) {\n        disposers[0]();\n        disposers = [];\n        items = [];\n        mapped = [];\n        len = 0;\n      }\n      for (i = 0; i < newItems.length; i++) {\n        if (i < items.length && items[i] !== newItems[i]) {\n          signals[i](() => newItems[i]);\n        } else if (i >= items.length) {\n          mapped[i] = createRoot(mapper);\n        }\n      }\n      for (; i < items.length; i++) {\n        disposers[i]();\n      }\n      len = signals.length = disposers.length = newItems.length;\n      items = newItems.slice(0);\n      return mapped = mapped.slice(0, len);\n    });\n    function mapper(disposer) {\n      disposers[i] = disposer;\n      const [s, set] = createSignal(newItems[i]);\n      signals[i] = set;\n      return mapFn(s, i);\n    }\n  };\n}\n\nlet hydrationEnabled = false;\nfunction enableHydration() {\n  hydrationEnabled = true;\n}\nfunction createComponent(Comp, props) {\n  if (hydrationEnabled) {\n    if (sharedConfig.context) {\n      const c = sharedConfig.context;\n      setHydrateContext(nextHydrateContext());\n      const r = untrack(() => Comp(props || {}));\n      setHydrateContext(c);\n      return r;\n    }\n  }\n  return untrack(() => Comp(props || {}));\n}\nfunction trueFn() {\n  return true;\n}\nconst propTraps = {\n  get(_, property, receiver) {\n    if (property === $PROXY) return receiver;\n    return _.get(property);\n  },\n  has(_, property) {\n    if (property === $PROXY) return true;\n    return _.has(property);\n  },\n  set: trueFn,\n  deleteProperty: trueFn,\n  getOwnPropertyDescriptor(_, property) {\n    return {\n      configurable: true,\n      enumerable: true,\n      get() {\n        return _.get(property);\n      },\n      set: trueFn,\n      deleteProperty: trueFn\n    };\n  },\n  ownKeys(_) {\n    return _.keys();\n  }\n};\nfunction resolveSource(s) {\n  return !(s = typeof s === \"function\" ? s() : s) ? {} : s;\n}\nfunction mergeProps(...sources) {\n  let proxy = false;\n  for (let i = 0; i < sources.length; i++) {\n    const s = sources[i];\n    proxy = proxy || !!s && $PROXY in s;\n    sources[i] = typeof s === \"function\" ? (proxy = true, createMemo(s)) : s;\n  }\n  if (proxy) {\n    return new Proxy({\n      get(property) {\n        for (let i = sources.length - 1; i >= 0; i--) {\n          const v = resolveSource(sources[i])[property];\n          if (v !== undefined) return v;\n        }\n      },\n      has(property) {\n        for (let i = sources.length - 1; i >= 0; i--) {\n          if (property in resolveSource(sources[i])) return true;\n        }\n        return false;\n      },\n      keys() {\n        const keys = [];\n        for (let i = 0; i < sources.length; i++) keys.push(...Object.keys(resolveSource(sources[i])));\n        return [...new Set(keys)];\n      }\n    }, propTraps);\n  }\n  const target = {};\n  for (let i = sources.length - 1; i >= 0; i--) {\n    if (sources[i]) {\n      const descriptors = Object.getOwnPropertyDescriptors(sources[i]);\n      for (const key in descriptors) {\n        if (key in target) continue;\n        Object.defineProperty(target, key, {\n          enumerable: true,\n          get() {\n            for (let i = sources.length - 1; i >= 0; i--) {\n              const v = (sources[i] || {})[key];\n              if (v !== undefined) return v;\n            }\n          }\n        });\n      }\n    }\n  }\n  return target;\n}\nfunction splitProps(props, ...keys) {\n  const blocked = new Set(keys.flat());\n  if ($PROXY in props) {\n    const res = keys.map(k => {\n      return new Proxy({\n        get(property) {\n          return k.includes(property) ? props[property] : undefined;\n        },\n        has(property) {\n          return k.includes(property) && property in props;\n        },\n        keys() {\n          return k.filter(property => property in props);\n        }\n      }, propTraps);\n    });\n    res.push(new Proxy({\n      get(property) {\n        return blocked.has(property) ? undefined : props[property];\n      },\n      has(property) {\n        return blocked.has(property) ? false : property in props;\n      },\n      keys() {\n        return Object.keys(props).filter(k => !blocked.has(k));\n      }\n    }, propTraps));\n    return res;\n  }\n  const descriptors = Object.getOwnPropertyDescriptors(props);\n  keys.push(Object.keys(descriptors).filter(k => !blocked.has(k)));\n  return keys.map(k => {\n    const clone = {};\n    for (let i = 0; i < k.length; i++) {\n      const key = k[i];\n      if (!(key in props)) continue;\n      Object.defineProperty(clone, key, descriptors[key] ? descriptors[key] : {\n        get() {\n          return props[key];\n        },\n        set() {\n          return true;\n        },\n        enumerable: true\n      });\n    }\n    return clone;\n  });\n}\nfunction lazy(fn) {\n  let comp;\n  let p;\n  const wrap = props => {\n    const ctx = sharedConfig.context;\n    if (ctx) {\n      const [s, set] = createSignal();\n      (p || (p = fn())).then(mod => {\n        setHydrateContext(ctx);\n        set(() => mod.default);\n        setHydrateContext();\n      });\n      comp = s;\n    } else if (!comp) {\n      const [s] = createResource(() => (p || (p = fn())).then(mod => mod.default));\n      comp = s;\n    }\n    let Comp;\n    return createMemo(() => (Comp = comp()) && untrack(() => {\n      if (false) ;\n      if (!ctx) return Comp(props);\n      const c = sharedConfig.context;\n      setHydrateContext(ctx);\n      const r = Comp(props);\n      setHydrateContext(c);\n      return r;\n    }));\n  };\n  wrap.preload = () => p || ((p = fn()).then(mod => comp = () => mod.default), p);\n  return wrap;\n}\nlet counter = 0;\nfunction createUniqueId() {\n  const ctx = sharedConfig.context;\n  return ctx ? `${ctx.id}${ctx.count++}` : `cl-${counter++}`;\n}\n\nfunction For(props) {\n  const fallback = \"fallback\" in props && {\n    fallback: () => props.fallback\n  };\n  return createMemo(mapArray(() => props.each, props.children, fallback || undefined));\n}\nfunction Index(props) {\n  const fallback = \"fallback\" in props && {\n    fallback: () => props.fallback\n  };\n  return createMemo(indexArray(() => props.each, props.children, fallback || undefined));\n}\nfunction Show(props) {\n  let strictEqual = false;\n  const keyed = props.keyed;\n  const condition = createMemo(() => props.when, undefined, {\n    equals: (a, b) => strictEqual ? a === b : !a === !b\n  });\n  return createMemo(() => {\n    const c = condition();\n    if (c) {\n      const child = props.children;\n      const fn = typeof child === \"function\" && child.length > 0;\n      strictEqual = keyed || fn;\n      return fn ? untrack(() => child(c)) : child;\n    }\n    return props.fallback;\n  }, undefined, undefined);\n}\nfunction Switch(props) {\n  let strictEqual = false;\n  let keyed = false;\n  const equals = (a, b) => a[0] === b[0] && (strictEqual ? a[1] === b[1] : !a[1] === !b[1]) && a[2] === b[2];\n  const conditions = children(() => props.children),\n    evalConditions = createMemo(() => {\n      let conds = conditions();\n      if (!Array.isArray(conds)) conds = [conds];\n      for (let i = 0; i < conds.length; i++) {\n        const c = conds[i].when;\n        if (c) {\n          keyed = !!conds[i].keyed;\n          return [i, c, conds[i]];\n        }\n      }\n      return [-1];\n    }, undefined, {\n      equals\n    });\n  return createMemo(() => {\n    const [index, when, cond] = evalConditions();\n    if (index < 0) return props.fallback;\n    const c = cond.children;\n    const fn = typeof c === \"function\" && c.length > 0;\n    strictEqual = keyed || fn;\n    return fn ? untrack(() => c(when)) : c;\n  }, undefined, undefined);\n}\nfunction Match(props) {\n  return props;\n}\nlet Errors;\nfunction resetErrorBoundaries() {\n  Errors && [...Errors].forEach(fn => fn());\n}\nfunction ErrorBoundary(props) {\n  let err;\n  let v;\n  if (sharedConfig.context && sharedConfig.load && (v = sharedConfig.load(sharedConfig.context.id + sharedConfig.context.count))) err = v[0];\n  const [errored, setErrored] = createSignal(err, undefined);\n  Errors || (Errors = new Set());\n  Errors.add(setErrored);\n  onCleanup(() => Errors.delete(setErrored));\n  return createMemo(() => {\n    let e;\n    if (e = errored()) {\n      const f = props.fallback;\n      const res = typeof f === \"function\" && f.length ? untrack(() => f(e, () => setErrored())) : f;\n      onError(setErrored);\n      return res;\n    }\n    onError(setErrored);\n    return props.children;\n  }, undefined, undefined);\n}\n\nconst suspenseListEquals = (a, b) => a.showContent === b.showContent && a.showFallback === b.showFallback;\nconst SuspenseListContext = createContext();\nfunction SuspenseList(props) {\n  let [wrapper, setWrapper] = createSignal(() => ({\n      inFallback: false\n    })),\n    show;\n  const listContext = useContext(SuspenseListContext);\n  const [registry, setRegistry] = createSignal([]);\n  if (listContext) {\n    show = listContext.register(createMemo(() => wrapper()().inFallback));\n  }\n  const resolved = createMemo(prev => {\n    const reveal = props.revealOrder,\n      tail = props.tail,\n      {\n        showContent = true,\n        showFallback = true\n      } = show ? show() : {},\n      reg = registry(),\n      reverse = reveal === \"backwards\";\n    if (reveal === \"together\") {\n      const all = reg.every(inFallback => !inFallback());\n      const res = reg.map(() => ({\n        showContent: all && showContent,\n        showFallback\n      }));\n      res.inFallback = !all;\n      return res;\n    }\n    let stop = false;\n    let inFallback = prev.inFallback;\n    const res = [];\n    for (let i = 0, len = reg.length; i < len; i++) {\n      const n = reverse ? len - i - 1 : i,\n        s = reg[n]();\n      if (!stop && !s) {\n        res[n] = {\n          showContent,\n          showFallback\n        };\n      } else {\n        const next = !stop;\n        if (next) inFallback = true;\n        res[n] = {\n          showContent: next,\n          showFallback: !tail || next && tail === \"collapsed\" ? showFallback : false\n        };\n        stop = true;\n      }\n    }\n    if (!stop) inFallback = false;\n    res.inFallback = inFallback;\n    return res;\n  }, {\n    inFallback: false\n  });\n  setWrapper(() => resolved);\n  return createComponent(SuspenseListContext.Provider, {\n    value: {\n      register: inFallback => {\n        let index;\n        setRegistry(registry => {\n          index = registry.length;\n          return [...registry, inFallback];\n        });\n        return createMemo(() => resolved()[index], undefined, {\n          equals: suspenseListEquals\n        });\n      }\n    },\n    get children() {\n      return props.children;\n    }\n  });\n}\nfunction Suspense(props) {\n  let counter = 0,\n    show,\n    ctx,\n    p,\n    flicker,\n    error;\n  const [inFallback, setFallback] = createSignal(false),\n    SuspenseContext = getSuspenseContext(),\n    store = {\n      increment: () => {\n        if (++counter === 1) setFallback(true);\n      },\n      decrement: () => {\n        if (--counter === 0) setFallback(false);\n      },\n      inFallback,\n      effects: [],\n      resolved: false\n    },\n    owner = getOwner();\n  if (sharedConfig.context && sharedConfig.load) {\n    const key = sharedConfig.context.id + sharedConfig.context.count;\n    let ref = sharedConfig.load(key);\n    if (ref && (p = ref[0]) && p !== \"$$f\") {\n      if (typeof p !== \"object\" || !(\"then\" in p)) p = Promise.resolve(p);\n      const [s, set] = createSignal(undefined, {\n        equals: false\n      });\n      flicker = s;\n      p.then(err => {\n        if (err || sharedConfig.done) {\n          err && (error = err);\n          return set();\n        }\n        sharedConfig.gather(key);\n        setHydrateContext(ctx);\n        set();\n        setHydrateContext();\n      });\n    }\n  }\n  const listContext = useContext(SuspenseListContext);\n  if (listContext) show = listContext.register(store.inFallback);\n  let dispose;\n  onCleanup(() => dispose && dispose());\n  return createComponent(SuspenseContext.Provider, {\n    value: store,\n    get children() {\n      return createMemo(() => {\n        if (error) throw error;\n        ctx = sharedConfig.context;\n        if (flicker) {\n          flicker();\n          return flicker = undefined;\n        }\n        if (ctx && p === \"$$f\") setHydrateContext();\n        const rendered = createMemo(() => props.children);\n        return createMemo(prev => {\n          const inFallback = store.inFallback(),\n            {\n              showContent = true,\n              showFallback = true\n            } = show ? show() : {};\n          if ((!inFallback || p && p !== \"$$f\") && showContent) {\n            store.resolved = true;\n            dispose && dispose();\n            dispose = ctx = p = undefined;\n            resumeEffects(store.effects);\n            return rendered();\n          }\n          if (!showFallback) return;\n          if (dispose) return prev;\n          return createRoot(disposer => {\n            dispose = disposer;\n            if (ctx) {\n              setHydrateContext({\n                id: ctx.id + \"f\",\n                count: 0\n              });\n              ctx = undefined;\n            }\n            return props.fallback;\n          }, owner);\n        });\n      });\n    }\n  });\n}\n\nlet DEV;\n\nexport { $DEVCOMP, $PROXY, $TRACK, DEV, ErrorBoundary, For, Index, Match, Show, Suspense, SuspenseList, Switch, batch, cancelCallback, children, createComponent, createComputed, createContext, createDeferred, createEffect, createMemo, createReaction, createRenderEffect, createResource, createRoot, createSelector, createSignal, createUniqueId, enableExternalSource, enableHydration, enableScheduling, equalFn, from, getListener, getOwner, indexArray, lazy, mapArray, mergeProps, observable, on, onCleanup, onError, onMount, requestCallback, resetErrorBoundaries, runWithOwner, sharedConfig, splitProps, startTransition, untrack, useContext, useTransition };\n","import { createRoot, createRenderEffect, sharedConfig, untrack, enableHydration, createSignal, onCleanup, splitProps, createMemo } from 'solid-js';\nexport { ErrorBoundary, For, Index, Match, Show, Suspense, SuspenseList, Switch, createComponent, createRenderEffect as effect, getOwner, createMemo as memo, mergeProps, untrack } from 'solid-js';\n\nconst booleans = [\"allowfullscreen\", \"async\", \"autofocus\", \"autoplay\", \"checked\", \"controls\", \"default\", \"disabled\", \"formnovalidate\", \"hidden\", \"indeterminate\", \"ismap\", \"loop\", \"multiple\", \"muted\", \"nomodule\", \"novalidate\", \"open\", \"playsinline\", \"readonly\", \"required\", \"reversed\", \"seamless\", \"selected\"];\nconst Properties = /*#__PURE__*/new Set([\"className\", \"value\", \"readOnly\", \"formNoValidate\", \"isMap\", \"noModule\", \"playsInline\", ...booleans]);\nconst ChildProperties = /*#__PURE__*/new Set([\"innerHTML\", \"textContent\", \"innerText\", \"children\"]);\nconst Aliases = /*#__PURE__*/Object.assign(Object.create(null), {\n  className: \"class\",\n  htmlFor: \"for\"\n});\nconst PropAliases = /*#__PURE__*/Object.assign(Object.create(null), {\n  class: \"className\",\n  formnovalidate: \"formNoValidate\",\n  ismap: \"isMap\",\n  nomodule: \"noModule\",\n  playsinline: \"playsInline\",\n  readonly: \"readOnly\"\n});\nconst DelegatedEvents = /*#__PURE__*/new Set([\"beforeinput\", \"click\", \"dblclick\", \"contextmenu\", \"focusin\", \"focusout\", \"input\", \"keydown\", \"keyup\", \"mousedown\", \"mousemove\", \"mouseout\", \"mouseover\", \"mouseup\", \"pointerdown\", \"pointermove\", \"pointerout\", \"pointerover\", \"pointerup\", \"touchend\", \"touchmove\", \"touchstart\"]);\nconst SVGElements = /*#__PURE__*/new Set([\n\"altGlyph\", \"altGlyphDef\", \"altGlyphItem\", \"animate\", \"animateColor\", \"animateMotion\", \"animateTransform\", \"circle\", \"clipPath\", \"color-profile\", \"cursor\", \"defs\", \"desc\", \"ellipse\", \"feBlend\", \"feColorMatrix\", \"feComponentTransfer\", \"feComposite\", \"feConvolveMatrix\", \"feDiffuseLighting\", \"feDisplacementMap\", \"feDistantLight\", \"feFlood\", \"feFuncA\", \"feFuncB\", \"feFuncG\", \"feFuncR\", \"feGaussianBlur\", \"feImage\", \"feMerge\", \"feMergeNode\", \"feMorphology\", \"feOffset\", \"fePointLight\", \"feSpecularLighting\", \"feSpotLight\", \"feTile\", \"feTurbulence\", \"filter\", \"font\", \"font-face\", \"font-face-format\", \"font-face-name\", \"font-face-src\", \"font-face-uri\", \"foreignObject\", \"g\", \"glyph\", \"glyphRef\", \"hkern\", \"image\", \"line\", \"linearGradient\", \"marker\", \"mask\", \"metadata\", \"missing-glyph\", \"mpath\", \"path\", \"pattern\", \"polygon\", \"polyline\", \"radialGradient\", \"rect\",\n\"set\", \"stop\",\n\"svg\", \"switch\", \"symbol\", \"text\", \"textPath\",\n\"tref\", \"tspan\", \"use\", \"view\", \"vkern\"]);\nconst SVGNamespace = {\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\"\n};\nconst DOMElements = /*#__PURE__*/new Set([\"html\", \"base\", \"head\", \"link\", \"meta\", \"style\", \"title\", \"body\", \"address\", \"article\", \"aside\", \"footer\", \"header\", \"main\", \"nav\", \"section\", \"body\", \"blockquote\", \"dd\", \"div\", \"dl\", \"dt\", \"figcaption\", \"figure\", \"hr\", \"li\", \"ol\", \"p\", \"pre\", \"ul\", \"a\", \"abbr\", \"b\", \"bdi\", \"bdo\", \"br\", \"cite\", \"code\", \"data\", \"dfn\", \"em\", \"i\", \"kbd\", \"mark\", \"q\", \"rp\", \"rt\", \"ruby\", \"s\", \"samp\", \"small\", \"span\", \"strong\", \"sub\", \"sup\", \"time\", \"u\", \"var\", \"wbr\", \"area\", \"audio\", \"img\", \"map\", \"track\", \"video\", \"embed\", \"iframe\", \"object\", \"param\", \"picture\", \"portal\", \"source\", \"svg\", \"math\", \"canvas\", \"noscript\", \"script\", \"del\", \"ins\", \"caption\", \"col\", \"colgroup\", \"table\", \"tbody\", \"td\", \"tfoot\", \"th\", \"thead\", \"tr\", \"button\", \"datalist\", \"fieldset\", \"form\", \"input\", \"label\", \"legend\", \"meter\", \"optgroup\", \"option\", \"output\", \"progress\", \"select\", \"textarea\", \"details\", \"dialog\", \"menu\", \"summary\", \"details\", \"slot\", \"template\", \"acronym\", \"applet\", \"basefont\", \"bgsound\", \"big\", \"blink\", \"center\", \"content\", \"dir\", \"font\", \"frame\", \"frameset\", \"hgroup\", \"image\", \"keygen\", \"marquee\", \"menuitem\", \"nobr\", \"noembed\", \"noframes\", \"plaintext\", \"rb\", \"rtc\", \"shadow\", \"spacer\", \"strike\", \"tt\", \"xmp\", \"a\", \"abbr\", \"acronym\", \"address\", \"applet\", \"area\", \"article\", \"aside\", \"audio\", \"b\", \"base\", \"basefont\", \"bdi\", \"bdo\", \"bgsound\", \"big\", \"blink\", \"blockquote\", \"body\", \"br\", \"button\", \"canvas\", \"caption\", \"center\", \"cite\", \"code\", \"col\", \"colgroup\", \"content\", \"data\", \"datalist\", \"dd\", \"del\", \"details\", \"dfn\", \"dialog\", \"dir\", \"div\", \"dl\", \"dt\", \"em\", \"embed\", \"fieldset\", \"figcaption\", \"figure\", \"font\", \"footer\", \"form\", \"frame\", \"frameset\", \"head\", \"header\", \"hgroup\", \"hr\", \"html\", \"i\", \"iframe\", \"image\", \"img\", \"input\", \"ins\", \"kbd\", \"keygen\", \"label\", \"legend\", \"li\", \"link\", \"main\", \"map\", \"mark\", \"marquee\", \"menu\", \"menuitem\", \"meta\", \"meter\", \"nav\", \"nobr\", \"noembed\", \"noframes\", \"noscript\", \"object\", \"ol\", \"optgroup\", \"option\", \"output\", \"p\", \"param\", \"picture\", \"plaintext\", \"portal\", \"pre\", \"progress\", \"q\", \"rb\", \"rp\", \"rt\", \"rtc\", \"ruby\", \"s\", \"samp\", \"script\", \"section\", \"select\", \"shadow\", \"slot\", \"small\", \"source\", \"spacer\", \"span\", \"strike\", \"strong\", \"style\", \"sub\", \"summary\", \"sup\", \"table\", \"tbody\", \"td\", \"template\", \"textarea\", \"tfoot\", \"th\", \"thead\", \"time\", \"title\", \"tr\", \"track\", \"tt\", \"u\", \"ul\", \"var\", \"video\", \"wbr\", \"xmp\", \"input\"]);\n\nfunction reconcileArrays(parentNode, a, b) {\n  let bLength = b.length,\n    aEnd = a.length,\n    bEnd = bLength,\n    aStart = 0,\n    bStart = 0,\n    after = a[aEnd - 1].nextSibling,\n    map = null;\n  while (aStart < aEnd || bStart < bEnd) {\n    if (a[aStart] === b[bStart]) {\n      aStart++;\n      bStart++;\n      continue;\n    }\n    while (a[aEnd - 1] === b[bEnd - 1]) {\n      aEnd--;\n      bEnd--;\n    }\n    if (aEnd === aStart) {\n      const node = bEnd < bLength ? bStart ? b[bStart - 1].nextSibling : b[bEnd - bStart] : after;\n      while (bStart < bEnd) parentNode.insertBefore(b[bStart++], node);\n    } else if (bEnd === bStart) {\n      while (aStart < aEnd) {\n        if (!map || !map.has(a[aStart])) a[aStart].remove();\n        aStart++;\n      }\n    } else if (a[aStart] === b[bEnd - 1] && b[bStart] === a[aEnd - 1]) {\n      const node = a[--aEnd].nextSibling;\n      parentNode.insertBefore(b[bStart++], a[aStart++].nextSibling);\n      parentNode.insertBefore(b[--bEnd], node);\n      a[aEnd] = b[bEnd];\n    } else {\n      if (!map) {\n        map = new Map();\n        let i = bStart;\n        while (i < bEnd) map.set(b[i], i++);\n      }\n      const index = map.get(a[aStart]);\n      if (index != null) {\n        if (bStart < index && index < bEnd) {\n          let i = aStart,\n            sequence = 1,\n            t;\n          while (++i < aEnd && i < bEnd) {\n            if ((t = map.get(a[i])) == null || t !== index + sequence) break;\n            sequence++;\n          }\n          if (sequence > index - bStart) {\n            const node = a[aStart];\n            while (bStart < index) parentNode.insertBefore(b[bStart++], node);\n          } else parentNode.replaceChild(b[bStart++], a[aStart++]);\n        } else aStart++;\n      } else a[aStart++].remove();\n    }\n  }\n}\n\nconst $$EVENTS = \"_$DX_DELEGATE\";\nfunction render(code, element, init, options = {}) {\n  let disposer;\n  createRoot(dispose => {\n    disposer = dispose;\n    element === document ? code() : insert(element, code(), element.firstChild ? null : undefined, init);\n  }, options.owner);\n  return () => {\n    disposer();\n    element.textContent = \"\";\n  };\n}\nfunction template(html, check, isSVG) {\n  const t = document.createElement(\"template\");\n  t.innerHTML = html;\n  let node = t.content.firstChild;\n  if (isSVG) node = node.firstChild;\n  return node;\n}\nfunction delegateEvents(eventNames, document = window.document) {\n  const e = document[$$EVENTS] || (document[$$EVENTS] = new Set());\n  for (let i = 0, l = eventNames.length; i < l; i++) {\n    const name = eventNames[i];\n    if (!e.has(name)) {\n      e.add(name);\n      document.addEventListener(name, eventHandler);\n    }\n  }\n}\nfunction clearDelegatedEvents(document = window.document) {\n  if (document[$$EVENTS]) {\n    for (let name of document[$$EVENTS].keys()) document.removeEventListener(name, eventHandler);\n    delete document[$$EVENTS];\n  }\n}\nfunction setAttribute(node, name, value) {\n  if (value == null) node.removeAttribute(name);else node.setAttribute(name, value);\n}\nfunction setAttributeNS(node, namespace, name, value) {\n  if (value == null) node.removeAttributeNS(namespace, name);else node.setAttributeNS(namespace, name, value);\n}\nfunction className(node, value) {\n  if (value == null) node.removeAttribute(\"class\");else node.className = value;\n}\nfunction addEventListener(node, name, handler, delegate) {\n  if (delegate) {\n    if (Array.isArray(handler)) {\n      node[`$$${name}`] = handler[0];\n      node[`$$${name}Data`] = handler[1];\n    } else node[`$$${name}`] = handler;\n  } else if (Array.isArray(handler)) {\n    const handlerFn = handler[0];\n    node.addEventListener(name, handler[0] = e => handlerFn.call(node, handler[1], e));\n  } else node.addEventListener(name, handler);\n}\nfunction classList(node, value, prev = {}) {\n  const classKeys = Object.keys(value || {}),\n    prevKeys = Object.keys(prev);\n  let i, len;\n  for (i = 0, len = prevKeys.length; i < len; i++) {\n    const key = prevKeys[i];\n    if (!key || key === \"undefined\" || value[key]) continue;\n    toggleClassKey(node, key, false);\n    delete prev[key];\n  }\n  for (i = 0, len = classKeys.length; i < len; i++) {\n    const key = classKeys[i],\n      classValue = !!value[key];\n    if (!key || key === \"undefined\" || prev[key] === classValue || !classValue) continue;\n    toggleClassKey(node, key, true);\n    prev[key] = classValue;\n  }\n  return prev;\n}\nfunction style(node, value, prev) {\n  if (!value) return prev ? setAttribute(node, \"style\") : value;\n  const nodeStyle = node.style;\n  if (typeof value === \"string\") return nodeStyle.cssText = value;\n  typeof prev === \"string\" && (nodeStyle.cssText = prev = undefined);\n  prev || (prev = {});\n  value || (value = {});\n  let v, s;\n  for (s in prev) {\n    value[s] == null && nodeStyle.removeProperty(s);\n    delete prev[s];\n  }\n  for (s in value) {\n    v = value[s];\n    if (v !== prev[s]) {\n      nodeStyle.setProperty(s, v);\n      prev[s] = v;\n    }\n  }\n  return prev;\n}\nfunction spread(node, props = {}, isSVG, skipChildren) {\n  const prevProps = {};\n  if (!skipChildren) {\n    createRenderEffect(() => prevProps.children = insertExpression(node, props.children, prevProps.children));\n  }\n  createRenderEffect(() => props.ref && props.ref(node));\n  createRenderEffect(() => assign(node, props, isSVG, true, prevProps, true));\n  return prevProps;\n}\nfunction dynamicProperty(props, key) {\n  const src = props[key];\n  Object.defineProperty(props, key, {\n    get() {\n      return src();\n    },\n    enumerable: true\n  });\n  return props;\n}\nfunction innerHTML(parent, content) {\n  !sharedConfig.context && (parent.innerHTML = content);\n}\nfunction use(fn, element, arg) {\n  return untrack(() => fn(element, arg));\n}\nfunction insert(parent, accessor, marker, initial) {\n  if (marker !== undefined && !initial) initial = [];\n  if (typeof accessor !== \"function\") return insertExpression(parent, accessor, initial, marker);\n  createRenderEffect(current => insertExpression(parent, accessor(), current, marker), initial);\n}\nfunction assign(node, props, isSVG, skipChildren, prevProps = {}, skipRef = false) {\n  props || (props = {});\n  for (const prop in prevProps) {\n    if (!(prop in props)) {\n      if (prop === \"children\") continue;\n      prevProps[prop] = assignProp(node, prop, null, prevProps[prop], isSVG, skipRef);\n    }\n  }\n  for (const prop in props) {\n    if (prop === \"children\") {\n      if (!skipChildren) insertExpression(node, props.children);\n      continue;\n    }\n    const value = props[prop];\n    prevProps[prop] = assignProp(node, prop, value, prevProps[prop], isSVG, skipRef);\n  }\n}\nfunction hydrate$1(code, element, options = {}) {\n  sharedConfig.completed = globalThis._$HY.completed;\n  sharedConfig.events = globalThis._$HY.events;\n  sharedConfig.load = globalThis._$HY.load;\n  sharedConfig.gather = root => gatherHydratable(element, root);\n  sharedConfig.registry = new Map();\n  sharedConfig.context = {\n    id: options.renderId || \"\",\n    count: 0\n  };\n  gatherHydratable(element, options.renderId);\n  const dispose = render(code, element, [...element.childNodes], options);\n  sharedConfig.context = null;\n  return dispose;\n}\nfunction getNextElement(template) {\n  let node, key;\n  if (!sharedConfig.context || !(node = sharedConfig.registry.get(key = getHydrationKey()))) {\n    return template.cloneNode(true);\n  }\n  if (sharedConfig.completed) sharedConfig.completed.add(node);\n  sharedConfig.registry.delete(key);\n  return node;\n}\nfunction getNextMatch(el, nodeName) {\n  while (el && el.localName !== nodeName) el = el.nextSibling;\n  return el;\n}\nfunction getNextMarker(start) {\n  let end = start,\n    count = 0,\n    current = [];\n  if (sharedConfig.context) {\n    while (end) {\n      if (end.nodeType === 8) {\n        const v = end.nodeValue;\n        if (v === \"#\") count++;else if (v === \"/\") {\n          if (count === 0) return [end, current];\n          count--;\n        }\n      }\n      current.push(end);\n      end = end.nextSibling;\n    }\n  }\n  return [end, current];\n}\nfunction runHydrationEvents() {\n  if (sharedConfig.events && !sharedConfig.events.queued) {\n    queueMicrotask(() => {\n      const {\n        completed,\n        events\n      } = sharedConfig;\n      events.queued = false;\n      while (events.length) {\n        const [el, e] = events[0];\n        if (!completed.has(el)) return;\n        eventHandler(e);\n        events.shift();\n      }\n    });\n    sharedConfig.events.queued = true;\n  }\n}\nfunction toPropertyName(name) {\n  return name.toLowerCase().replace(/-([a-z])/g, (_, w) => w.toUpperCase());\n}\nfunction toggleClassKey(node, key, value) {\n  const classNames = key.trim().split(/\\s+/);\n  for (let i = 0, nameLen = classNames.length; i < nameLen; i++) node.classList.toggle(classNames[i], value);\n}\nfunction assignProp(node, prop, value, prev, isSVG, skipRef) {\n  let isCE, isProp, isChildProp;\n  if (prop === \"style\") return style(node, value, prev);\n  if (prop === \"classList\") return classList(node, value, prev);\n  if (value === prev) return prev;\n  if (prop === \"ref\") {\n    if (!skipRef) value(node);\n  } else if (prop.slice(0, 3) === \"on:\") {\n    const e = prop.slice(3);\n    prev && node.removeEventListener(e, prev);\n    value && node.addEventListener(e, value);\n  } else if (prop.slice(0, 10) === \"oncapture:\") {\n    const e = prop.slice(10);\n    prev && node.removeEventListener(e, prev, true);\n    value && node.addEventListener(e, value, true);\n  } else if (prop.slice(0, 2) === \"on\") {\n    const name = prop.slice(2).toLowerCase();\n    const delegate = DelegatedEvents.has(name);\n    if (!delegate && prev) {\n      const h = Array.isArray(prev) ? prev[0] : prev;\n      node.removeEventListener(name, h);\n    }\n    if (delegate || value) {\n      addEventListener(node, name, value, delegate);\n      delegate && delegateEvents([name]);\n    }\n  } else if ((isChildProp = ChildProperties.has(prop)) || !isSVG && (PropAliases[prop] || (isProp = Properties.has(prop))) || (isCE = node.nodeName.includes(\"-\"))) {\n    if (prop === \"class\" || prop === \"className\") className(node, value);else if (isCE && !isProp && !isChildProp) node[toPropertyName(prop)] = value;else node[PropAliases[prop] || prop] = value;\n  } else {\n    const ns = isSVG && prop.indexOf(\":\") > -1 && SVGNamespace[prop.split(\":\")[0]];\n    if (ns) setAttributeNS(node, ns, prop, value);else setAttribute(node, Aliases[prop] || prop, value);\n  }\n  return value;\n}\nfunction eventHandler(e) {\n  const key = `$$${e.type}`;\n  let node = e.composedPath && e.composedPath()[0] || e.target;\n  if (e.target !== node) {\n    Object.defineProperty(e, \"target\", {\n      configurable: true,\n      value: node\n    });\n  }\n  Object.defineProperty(e, \"currentTarget\", {\n    configurable: true,\n    get() {\n      return node || document;\n    }\n  });\n  if (sharedConfig.registry && !sharedConfig.done) {\n    sharedConfig.done = true;\n    document.querySelectorAll(\"[id^=pl-]\").forEach(elem => {\n      while (elem && elem.nodeType !== 8 && elem.nodeValue !== \"pl-\" + e) {\n        let x = elem.nextSibling;\n        elem.remove();\n        elem = x;\n      }\n      elem && elem.remove();\n    });\n  }\n  while (node) {\n    const handler = node[key];\n    if (handler && !node.disabled) {\n      const data = node[`${key}Data`];\n      data !== undefined ? handler.call(node, data, e) : handler.call(node, e);\n      if (e.cancelBubble) return;\n    }\n    node = node._$host || node.parentNode || node.host;\n  }\n}\nfunction insertExpression(parent, value, current, marker, unwrapArray) {\n  if (sharedConfig.context && !current) current = [...parent.childNodes];\n  while (typeof current === \"function\") current = current();\n  if (value === current) return current;\n  const t = typeof value,\n    multi = marker !== undefined;\n  parent = multi && current[0] && current[0].parentNode || parent;\n  if (t === \"string\" || t === \"number\") {\n    if (sharedConfig.context) return current;\n    if (t === \"number\") value = value.toString();\n    if (multi) {\n      let node = current[0];\n      if (node && node.nodeType === 3) {\n        node.data = value;\n      } else node = document.createTextNode(value);\n      current = cleanChildren(parent, current, marker, node);\n    } else {\n      if (current !== \"\" && typeof current === \"string\") {\n        current = parent.firstChild.data = value;\n      } else current = parent.textContent = value;\n    }\n  } else if (value == null || t === \"boolean\") {\n    if (sharedConfig.context) return current;\n    current = cleanChildren(parent, current, marker);\n  } else if (t === \"function\") {\n    createRenderEffect(() => {\n      let v = value();\n      while (typeof v === \"function\") v = v();\n      current = insertExpression(parent, v, current, marker);\n    });\n    return () => current;\n  } else if (Array.isArray(value)) {\n    const array = [];\n    const currentArray = current && Array.isArray(current);\n    if (normalizeIncomingArray(array, value, current, unwrapArray)) {\n      createRenderEffect(() => current = insertExpression(parent, array, current, marker, true));\n      return () => current;\n    }\n    if (sharedConfig.context) {\n      if (!array.length) return current;\n      for (let i = 0; i < array.length; i++) {\n        if (array[i].parentNode) return current = array;\n      }\n    }\n    if (array.length === 0) {\n      current = cleanChildren(parent, current, marker);\n      if (multi) return current;\n    } else if (currentArray) {\n      if (current.length === 0) {\n        appendNodes(parent, array, marker);\n      } else reconcileArrays(parent, current, array);\n    } else {\n      current && cleanChildren(parent);\n      appendNodes(parent, array);\n    }\n    current = array;\n  } else if (value instanceof Node) {\n    if (sharedConfig.context && value.parentNode) return current = multi ? [value] : value;\n    if (Array.isArray(current)) {\n      if (multi) return current = cleanChildren(parent, current, marker, value);\n      cleanChildren(parent, current, null, value);\n    } else if (current == null || current === \"\" || !parent.firstChild) {\n      parent.appendChild(value);\n    } else parent.replaceChild(value, parent.firstChild);\n    current = value;\n  } else ;\n  return current;\n}\nfunction normalizeIncomingArray(normalized, array, current, unwrap) {\n  let dynamic = false;\n  for (let i = 0, len = array.length; i < len; i++) {\n    let item = array[i],\n      prev = current && current[i];\n    if (item instanceof Node) {\n      normalized.push(item);\n    } else if (item == null || item === true || item === false) ; else if (Array.isArray(item)) {\n      dynamic = normalizeIncomingArray(normalized, item, prev) || dynamic;\n    } else if ((typeof item) === \"function\") {\n      if (unwrap) {\n        while (typeof item === \"function\") item = item();\n        dynamic = normalizeIncomingArray(normalized, Array.isArray(item) ? item : [item], Array.isArray(prev) ? prev : [prev]) || dynamic;\n      } else {\n        normalized.push(item);\n        dynamic = true;\n      }\n    } else {\n      const value = String(item);\n      if (prev && prev.nodeType === 3 && prev.data === value) {\n        normalized.push(prev);\n      } else normalized.push(document.createTextNode(value));\n    }\n  }\n  return dynamic;\n}\nfunction appendNodes(parent, array, marker = null) {\n  for (let i = 0, len = array.length; i < len; i++) parent.insertBefore(array[i], marker);\n}\nfunction cleanChildren(parent, current, marker, replacement) {\n  if (marker === undefined) return parent.textContent = \"\";\n  const node = replacement || document.createTextNode(\"\");\n  if (current.length) {\n    let inserted = false;\n    for (let i = current.length - 1; i >= 0; i--) {\n      const el = current[i];\n      if (node !== el) {\n        const isParent = el.parentNode === parent;\n        if (!inserted && !i) isParent ? parent.replaceChild(node, el) : parent.insertBefore(node, marker);else isParent && el.remove();\n      } else inserted = true;\n    }\n  } else parent.insertBefore(node, marker);\n  return [node];\n}\nfunction gatherHydratable(element, root) {\n  const templates = element.querySelectorAll(`*[data-hk]`);\n  for (let i = 0; i < templates.length; i++) {\n    const node = templates[i];\n    const key = node.getAttribute(\"data-hk\");\n    if ((!root || key.startsWith(root)) && !sharedConfig.registry.has(key)) sharedConfig.registry.set(key, node);\n  }\n}\nfunction getHydrationKey() {\n  const hydrate = sharedConfig.context;\n  return `${hydrate.id}${hydrate.count++}`;\n}\nfunction NoHydration(props) {\n  return sharedConfig.context ? undefined : props.children;\n}\nfunction Hydration(props) {\n  return props.children;\n}\nfunction voidFn() {}\n\nfunction throwInBrowser(func) {\n  const err = new Error(`${func.name} is not supported in the browser, returning undefined`);\n  console.error(err);\n}\nfunction renderToString(fn, options) {\n  throwInBrowser(renderToString);\n}\nfunction renderToStringAsync(fn, options) {\n  throwInBrowser(renderToStringAsync);\n}\nfunction renderToStream(fn, options) {\n  throwInBrowser(renderToStream);\n}\nfunction ssr(template, ...nodes) {}\nfunction ssrElement(name, props, children, needsId) {}\nfunction ssrClassList(value) {}\nfunction ssrStyle(value) {}\nfunction ssrAttribute(key, value) {}\nfunction ssrHydrationKey() {}\nfunction resolveSSRNode(node) {}\nfunction escape(html) {}\nfunction ssrSpread(props, isSVG, skipChildren) {}\n\nconst isServer = false;\nconst SVG_NAMESPACE = \"http://www.w3.org/2000/svg\";\nfunction createElement(tagName, isSVG = false) {\n  return isSVG ? document.createElementNS(SVG_NAMESPACE, tagName) : document.createElement(tagName);\n}\nconst hydrate = (...args) => {\n  enableHydration();\n  return hydrate$1(...args);\n};\nfunction Portal(props) {\n  const {\n      useShadow\n    } = props,\n    marker = document.createTextNode(\"\"),\n    mount = props.mount || document.body;\n  function renderPortal() {\n    if (sharedConfig.context) {\n      const [s, set] = createSignal(false);\n      queueMicrotask(() => set(true));\n      return () => s() && props.children;\n    } else return () => props.children;\n  }\n  if (mount instanceof HTMLHeadElement) {\n    const [clean, setClean] = createSignal(false);\n    const cleanup = () => setClean(true);\n    createRoot(dispose => insert(mount, () => !clean() ? renderPortal()() : dispose(), null));\n    onCleanup(() => {\n      if (sharedConfig.context) queueMicrotask(cleanup);else cleanup();\n    });\n  } else {\n    const container = createElement(props.isSVG ? \"g\" : \"div\", props.isSVG),\n      renderRoot = useShadow && container.attachShadow ? container.attachShadow({\n        mode: \"open\"\n      }) : container;\n    Object.defineProperty(container, \"_$host\", {\n      get() {\n        return marker.parentNode;\n      },\n      configurable: true\n    });\n    insert(renderRoot, renderPortal());\n    mount.appendChild(container);\n    props.ref && props.ref(container);\n    onCleanup(() => mount.removeChild(container));\n  }\n  return marker;\n}\nfunction Dynamic(props) {\n  const [p, others] = splitProps(props, [\"component\"]);\n  const cached = createMemo(() => p.component);\n  return createMemo(() => {\n    const component = cached();\n    switch (typeof component) {\n      case \"function\":\n        return untrack(() => component(others));\n      case \"string\":\n        const isSvg = SVGElements.has(component);\n        const el = sharedConfig.context ? getNextElement() : createElement(component, isSvg);\n        spread(el, others, isSvg);\n        return el;\n    }\n  });\n}\n\nexport { Aliases, voidFn as Assets, ChildProperties, DOMElements, DelegatedEvents, Dynamic, Hydration, voidFn as HydrationScript, NoHydration, Portal, PropAliases, Properties, SVGElements, SVGNamespace, addEventListener, assign, classList, className, clearDelegatedEvents, delegateEvents, dynamicProperty, escape, voidFn as generateHydrationScript, voidFn as getAssets, getHydrationKey, getNextElement, getNextMarker, getNextMatch, hydrate, innerHTML, insert, isServer, render, renderToStream, renderToString, renderToStringAsync, resolveSSRNode, runHydrationEvents, setAttribute, setAttributeNS, spread, ssr, ssrAttribute, ssrClassList, ssrElement, ssrHydrationKey, ssrSpread, ssrStyle, style, template, use, voidFn as useAssets };\n","import { createSignal } from 'solid-js';\nimport { WalletInfoWithOpenMethod, WalletOpenMethod } from 'src/models/connected-wallet';\n\nexport type ActionName = 'confirm-transaction' | 'transaction-sent' | 'transaction-canceled';\n\nexport type Action = {\n    name: ActionName;\n    openModal: boolean;\n    showNotification: boolean;\n};\n\nexport const [walletsModalOpen, setWalletsModalOpen] = createSignal(false);\nexport const [lastSelectedWalletInfo, setLastSelectedWalletInfo] = createSignal<\n    | WalletInfoWithOpenMethod\n    | {\n          openMethod: WalletOpenMethod;\n      }\n    | null\n>(null);\nexport const [action, setAction] = createSignal<Action | null>(null);\n","let e={data:\"\"},t=t=>\"object\"==typeof window?((t?t.querySelector(\"#_goober\"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement(\"style\")),{innerHTML:\" \",id:\"_goober\"})).firstChild:t||e,r=e=>{let r=t(e),l=r.data;return r.data=\"\",l},l=/(?:([\\u0080-\\uFFFF\\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\\s*)/g,a=/\\/\\*[^]*?\\*\\/|  +/g,n=/\\n+/g,o=(e,t)=>{let r=\"\",l=\"\",a=\"\";for(let n in e){let c=e[n];\"@\"==n[0]?\"i\"==n[1]?r=n+\" \"+c+\";\":l+=\"f\"==n[1]?o(c,n):n+\"{\"+o(c,\"k\"==n[1]?\"\":t)+\"}\":\"object\"==typeof c?l+=o(c,t?t.replace(/([^,])+/g,e=>n.replace(/(^:.*)|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+\" \"+t:t)):n):null!=c&&(n=/^--/.test(n)?n:n.replace(/[A-Z]/g,\"-$&\").toLowerCase(),a+=o.p?o.p(n,c):n+\":\"+c+\";\")}return r+(t&&a?t+\"{\"+a+\"}\":a)+l},c={},s=e=>{if(\"object\"==typeof e){let t=\"\";for(let r in e)t+=r+s(e[r]);return t}return e},i=(e,t,r,i,p)=>{let u=s(e),d=c[u]||(c[u]=(e=>{let t=0,r=11;for(;t<e.length;)r=101*r+e.charCodeAt(t++)>>>0;return\"go\"+r})(u));if(!c[d]){let t=u!==e?e:(e=>{let t,r,o=[{}];for(;t=l.exec(e.replace(a,\"\"));)t[4]?o.shift():t[3]?(r=t[3].replace(n,\" \").trim(),o.unshift(o[0][r]=o[0][r]||{})):o[0][t[1]]=t[2].replace(n,\" \").trim();return o[0]})(e);c[d]=o(p?{[\"@keyframes \"+d]:t}:t,r?\"\":\".\"+d)}let f=r&&c.g?c.g:null;return r&&(c.g=c[d]),((e,t,r,l)=>{l?t.data=t.data.replace(l,e):-1===t.data.indexOf(e)&&(t.data=r?e+t.data:t.data+e)})(c[d],t,i,f),d},p=(e,t,r)=>e.reduce((e,l,a)=>{let n=t[a];if(n&&n.call){let e=n(r),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;n=t?\".\"+t:e&&\"object\"==typeof e?e.props?\"\":o(e,\"\"):!1===e?\"\":e}return e+l+(null==n?\"\":n)},\"\");function u(e){let r=this||{},l=e.call?e(r.p):e;return i(l.unshift?l.raw?p(l,[].slice.call(arguments,1),r.p):l.reduce((e,t)=>Object.assign(e,t&&t.call?t(r.p):t),{}):l,t(r.target),r.g,r.o,r.k)}let d,f,g,b=u.bind({g:1}),h=u.bind({k:1});function m(e,t,r,l){o.p=t,d=e,f=r,g=l}function j(e,t){let r=this||{};return function(){let l=arguments;function a(n,o){let c=Object.assign({},n),s=c.className||a.className;r.p=Object.assign({theme:f&&f()},c),r.o=/ *go\\d+/.test(s),c.className=u.apply(r,l)+(s?\" \"+s:\"\"),t&&(c.ref=o);let i=e;return e[0]&&(i=c.as||e,delete c.as),g&&i[0]&&g(c),d(i,c)}return t?t(a):a}}export{u as css,r as extractCss,b as glob,h as keyframes,m as setup,j as styled};\n","import { css, setup as gooberSetup } from \"goober\";\r\nimport {\r\n  mergeProps,\r\n  splitProps,\r\n  createContext,\r\n  useContext,\r\n  createComponent,\r\n  untrack,\r\n} from \"solid-js\";\r\nimport { Dynamic, isServer, spread } from \"solid-js/web\";\r\nexport { css, glob, extractCss, keyframes } from \"goober\";\r\n\r\nlet getForwardProps = null;\r\n\r\nexport function shouldForwardProp(predicate) {\r\n  return props => props.filter(predicate);\r\n}\r\n\r\nexport function setup(prefixer, shouldForwardProp = null) {\r\n  gooberSetup(null, prefixer);\r\n  getForwardProps = shouldForwardProp;\r\n}\r\nconst ThemeContext = createContext();\r\nexport function ThemeProvider(props) {\r\n  return createComponent(ThemeContext.Provider, {\r\n    value: props.theme,\r\n    get children() {\r\n      return props.children;\r\n    }\r\n  });\r\n}\r\nexport function useTheme() {\r\n  return useContext(ThemeContext);\r\n}\r\n\r\nfunction makeStyled(tag) {\r\n  let _ctx = this || {};\r\n  return (...args) => {\r\n    const Styled = props => {\r\n      const theme = useContext(ThemeContext);\r\n      const withTheme = mergeProps(props, { theme });\r\n      const clone = mergeProps(withTheme, {\r\n        get class() {\r\n          const pClass = withTheme.class,\r\n            append = \"class\" in withTheme && /^go[0-9]+/.test(pClass);\r\n          // Call `css` with the append flag and pass the props\r\n          let className = css.apply(\r\n            { target: _ctx.target, o: append, p: withTheme, g: _ctx.g },\r\n            args\r\n          );\r\n          return [pClass, className].filter(Boolean).join(\" \");\r\n        }\r\n      });\r\n      const [local, newProps] = splitProps(clone, [\"as\", \"theme\"]);\r\n      const htmlProps = getForwardProps\r\n        ? splitProps(newProps, getForwardProps(Object.keys(newProps)))[0]\r\n        : newProps;\r\n      const createTag = local.as || tag;\r\n      let el;\r\n\r\n      if (typeof createTag === \"function\") {\r\n        el = createTag(htmlProps);\r\n      } else {\r\n        if (isServer) {\r\n          const [local, others] = splitProps(htmlProps, [\"children\", \"theme\"]);\r\n          el = Dynamic({\r\n            component: createTag,\r\n            get children() {\r\n              return local.children;\r\n            },\r\n            ...others\r\n          });\r\n        } else {\r\n          if (_ctx.g == 1) {\r\n            // When using Global Styles we don't want to hydrate the unused nodes\r\n            el = document.createElement(createTag);\r\n            spread(el, htmlProps);\r\n          } else {\r\n            el = Dynamic(mergeProps({ component: createTag }, htmlProps));\r\n          }\r\n        }\r\n      }\r\n      return el;\r\n    };\r\n    Styled.class = props => {\r\n      return untrack(() => {\r\n        return css.apply({ target: _ctx.target, p: props, g: _ctx.g }, args);\r\n      });\r\n    };\r\n\r\n    return Styled;\r\n  };\r\n}\r\n\r\nexport const styled = new Proxy(makeStyled, {\r\n  get(target, tag) {\r\n    return target(tag);\r\n  }\r\n});\r\n\r\nexport function createGlobalStyles() {\r\n  const fn = makeStyled.call({ g: 1 }, \"div\").apply(null, arguments);\r\n\r\n  return function GlobalStyles(props) {\r\n    fn(props);\r\n    return null;\r\n  };\r\n}\r\n","import en from 'src/app/assets/i18n/en.json';\nimport ru from 'src/app/assets/i18n/ru.json';\nimport { Locales } from 'src/models/locales';\n\nexport const i18nDictionary: Record<Locales, object> = {\n    en: parseDictionary(en),\n    ru: parseDictionary(ru)\n};\n\n// replace '$key1.key2.key3' with it's value\nfunction parseDictionary(dictionary: Record<string, unknown>): Record<string, unknown> {\n    const refSymbol = '$';\n\n    const iterate = (subDictionary: Record<string, unknown>): void => {\n        Object.entries(subDictionary).forEach(([key, value]) => {\n            if (typeof value === 'object' && value) {\n                return iterate(value as Record<string, unknown>);\n            }\n\n            if (typeof value === 'string') {\n                if (value[0] === refSymbol) {\n                    const path = value.slice(1).split('.');\n                    let obj: Record<string, unknown> = dictionary;\n                    path.forEach(item => {\n                        if (item in obj) {\n                            obj = obj[item] as Record<string, unknown>;\n                        } else {\n                            throw new Error(\n                                `Cannot parse translations: there is no property ${item} in translation`\n                            );\n                        }\n                    });\n\n                    subDictionary[key] = obj;\n                }\n\n                if (value.slice(0, 2) === `\\\\${refSymbol}`) {\n                    subDictionary[key] = value.slice(1);\n                }\n            }\n        });\n    };\n\n    iterate(dictionary);\n    return dictionary;\n}\n","import { ITonConnect } from '@tonconnect/sdk';\nimport { createContext } from 'solid-js';\n\nexport const ConnectorContext = createContext<ITonConnect>();\n","import { $PROXY, $TRACK, getListener, batch, createSignal } from 'solid-js';\n\nconst $RAW = Symbol(\"store-raw\"),\n  $NODE = Symbol(\"store-node\"),\n  $NAME = Symbol(\"store-name\");\nfunction wrap$1(value, name) {\n  let p = value[$PROXY];\n  if (!p) {\n    Object.defineProperty(value, $PROXY, {\n      value: p = new Proxy(value, proxyTraps$1)\n    });\n    if (!Array.isArray(value)) {\n      const keys = Object.keys(value),\n        desc = Object.getOwnPropertyDescriptors(value);\n      for (let i = 0, l = keys.length; i < l; i++) {\n        const prop = keys[i];\n        if (desc[prop].get) {\n          Object.defineProperty(value, prop, {\n            enumerable: desc[prop].enumerable,\n            get: desc[prop].get.bind(p)\n          });\n        }\n      }\n    }\n  }\n  return p;\n}\nfunction isWrappable(obj) {\n  let proto;\n  return obj != null && typeof obj === \"object\" && (obj[$PROXY] || !(proto = Object.getPrototypeOf(obj)) || proto === Object.prototype || Array.isArray(obj));\n}\nfunction unwrap(item, set = new Set()) {\n  let result, unwrapped, v, prop;\n  if (result = item != null && item[$RAW]) return result;\n  if (!isWrappable(item) || set.has(item)) return item;\n  if (Array.isArray(item)) {\n    if (Object.isFrozen(item)) item = item.slice(0);else set.add(item);\n    for (let i = 0, l = item.length; i < l; i++) {\n      v = item[i];\n      if ((unwrapped = unwrap(v, set)) !== v) item[i] = unwrapped;\n    }\n  } else {\n    if (Object.isFrozen(item)) item = Object.assign({}, item);else set.add(item);\n    const keys = Object.keys(item),\n      desc = Object.getOwnPropertyDescriptors(item);\n    for (let i = 0, l = keys.length; i < l; i++) {\n      prop = keys[i];\n      if (desc[prop].get) continue;\n      v = item[prop];\n      if ((unwrapped = unwrap(v, set)) !== v) item[prop] = unwrapped;\n    }\n  }\n  return item;\n}\nfunction getDataNodes(target) {\n  let nodes = target[$NODE];\n  if (!nodes) Object.defineProperty(target, $NODE, {\n    value: nodes = {}\n  });\n  return nodes;\n}\nfunction getDataNode(nodes, property, value) {\n  return nodes[property] || (nodes[property] = createDataNode(value));\n}\nfunction proxyDescriptor$1(target, property) {\n  const desc = Reflect.getOwnPropertyDescriptor(target, property);\n  if (!desc || desc.get || !desc.configurable || property === $PROXY || property === $NODE || property === $NAME) return desc;\n  delete desc.value;\n  delete desc.writable;\n  desc.get = () => target[$PROXY][property];\n  return desc;\n}\nfunction trackSelf(target) {\n  if (getListener()) {\n    const nodes = getDataNodes(target);\n    (nodes._ || (nodes._ = createDataNode()))();\n  }\n}\nfunction ownKeys(target) {\n  trackSelf(target);\n  return Reflect.ownKeys(target);\n}\nfunction createDataNode(value) {\n  const [s, set] = createSignal(value, {\n    equals: false,\n    internal: true\n  });\n  s.$ = set;\n  return s;\n}\nconst proxyTraps$1 = {\n  get(target, property, receiver) {\n    if (property === $RAW) return target;\n    if (property === $PROXY) return receiver;\n    if (property === $TRACK) {\n      trackSelf(target);\n      return receiver;\n    }\n    const nodes = getDataNodes(target);\n    const tracked = nodes.hasOwnProperty(property);\n    let value = tracked ? nodes[property]() : target[property];\n    if (property === $NODE || property === \"__proto__\") return value;\n    if (!tracked) {\n      const desc = Object.getOwnPropertyDescriptor(target, property);\n      if (getListener() && (typeof value !== \"function\" || target.hasOwnProperty(property)) && !(desc && desc.get)) value = getDataNode(nodes, property, value)();\n    }\n    return isWrappable(value) ? wrap$1(value) : value;\n  },\n  has(target, property) {\n    if (property === $RAW || property === $PROXY || property === $TRACK || property === $NODE || property === \"__proto__\") return true;\n    this.get(target, property, target);\n    return property in target;\n  },\n  set() {\n    return true;\n  },\n  deleteProperty() {\n    return true;\n  },\n  ownKeys: ownKeys,\n  getOwnPropertyDescriptor: proxyDescriptor$1\n};\nfunction setProperty(state, property, value, deleting = false) {\n  if (!deleting && state[property] === value) return;\n  const prev = state[property],\n    len = state.length;\n  if (value === undefined) delete state[property];else state[property] = value;\n  let nodes = getDataNodes(state),\n    node;\n  if (node = getDataNode(nodes, property, prev)) node.$(() => value);\n  if (Array.isArray(state) && state.length !== len) (node = getDataNode(nodes, \"length\", len)) && node.$(state.length);\n  (node = nodes._) && node.$();\n}\nfunction mergeStoreNode(state, value) {\n  const keys = Object.keys(value);\n  for (let i = 0; i < keys.length; i += 1) {\n    const key = keys[i];\n    setProperty(state, key, value[key]);\n  }\n}\nfunction updateArray(current, next) {\n  if (typeof next === \"function\") next = next(current);\n  next = unwrap(next);\n  if (Array.isArray(next)) {\n    if (current === next) return;\n    let i = 0,\n      len = next.length;\n    for (; i < len; i++) {\n      const value = next[i];\n      if (current[i] !== value) setProperty(current, i, value);\n    }\n    setProperty(current, \"length\", len);\n  } else mergeStoreNode(current, next);\n}\nfunction updatePath(current, path, traversed = []) {\n  let part,\n    prev = current;\n  if (path.length > 1) {\n    part = path.shift();\n    const partType = typeof part,\n      isArray = Array.isArray(current);\n    if (Array.isArray(part)) {\n      for (let i = 0; i < part.length; i++) {\n        updatePath(current, [part[i]].concat(path), traversed);\n      }\n      return;\n    } else if (isArray && partType === \"function\") {\n      for (let i = 0; i < current.length; i++) {\n        if (part(current[i], i)) updatePath(current, [i].concat(path), traversed);\n      }\n      return;\n    } else if (isArray && partType === \"object\") {\n      const {\n        from = 0,\n        to = current.length - 1,\n        by = 1\n      } = part;\n      for (let i = from; i <= to; i += by) {\n        updatePath(current, [i].concat(path), traversed);\n      }\n      return;\n    } else if (path.length > 1) {\n      updatePath(current[part], path, [part].concat(traversed));\n      return;\n    }\n    prev = current[part];\n    traversed = [part].concat(traversed);\n  }\n  let value = path[0];\n  if (typeof value === \"function\") {\n    value = value(prev, traversed);\n    if (value === prev) return;\n  }\n  if (part === undefined && value == undefined) return;\n  value = unwrap(value);\n  if (part === undefined || isWrappable(prev) && isWrappable(value) && !Array.isArray(value)) {\n    mergeStoreNode(prev, value);\n  } else setProperty(current, part, value);\n}\nfunction createStore(...[store, options]) {\n  const unwrappedStore = unwrap(store || {});\n  const isArray = Array.isArray(unwrappedStore);\n  const wrappedStore = wrap$1(unwrappedStore);\n  function setStore(...args) {\n    batch(() => {\n      isArray && args.length === 1 ? updateArray(unwrappedStore, args[0]) : updatePath(unwrappedStore, args);\n    });\n  }\n  return [wrappedStore, setStore];\n}\n\nfunction proxyDescriptor(target, property) {\n  const desc = Reflect.getOwnPropertyDescriptor(target, property);\n  if (!desc || desc.get || desc.set || !desc.configurable || property === $PROXY || property === $NODE || property === $NAME) return desc;\n  delete desc.value;\n  delete desc.writable;\n  desc.get = () => target[$PROXY][property];\n  desc.set = v => target[$PROXY][property] = v;\n  return desc;\n}\nconst proxyTraps = {\n  get(target, property, receiver) {\n    if (property === $RAW) return target;\n    if (property === $PROXY) return receiver;\n    if (property === $TRACK) {\n      trackSelf(target);\n      return receiver;\n    }\n    const nodes = getDataNodes(target);\n    const tracked = nodes.hasOwnProperty(property);\n    let value = tracked ? nodes[property]() : target[property];\n    if (property === $NODE || property === \"__proto__\") return value;\n    if (!tracked) {\n      const desc = Object.getOwnPropertyDescriptor(target, property);\n      const isFunction = typeof value === \"function\";\n      if (getListener() && (!isFunction || target.hasOwnProperty(property)) && !(desc && desc.get)) value = getDataNode(nodes, property, value)();else if (value != null && isFunction && value === Array.prototype[property]) {\n        return (...args) => batch(() => Array.prototype[property].apply(receiver, args));\n      }\n    }\n    return isWrappable(value) ? wrap(value) : value;\n  },\n  has(target, property) {\n    if (property === $RAW || property === $PROXY || property === $TRACK || property === $NODE || property === \"__proto__\") return true;\n    this.get(target, property, target);\n    return property in target;\n  },\n  set(target, property, value) {\n    batch(() => setProperty(target, property, unwrap(value)));\n    return true;\n  },\n  deleteProperty(target, property) {\n    batch(() => setProperty(target, property, undefined, true));\n    return true;\n  },\n  ownKeys: ownKeys,\n  getOwnPropertyDescriptor: proxyDescriptor\n};\nfunction wrap(value, name) {\n  let p = value[$PROXY];\n  if (!p) {\n    Object.defineProperty(value, $PROXY, {\n      value: p = new Proxy(value, proxyTraps)\n    });\n    const keys = Object.keys(value),\n      desc = Object.getOwnPropertyDescriptors(value);\n    for (let i = 0, l = keys.length; i < l; i++) {\n      const prop = keys[i];\n      if (desc[prop].get) {\n        const get = desc[prop].get.bind(p);\n        Object.defineProperty(value, prop, {\n          get\n        });\n      }\n      if (desc[prop].set) {\n        const og = desc[prop].set,\n          set = v => batch(() => og.call(p, v));\n        Object.defineProperty(value, prop, {\n          set\n        });\n      }\n    }\n  }\n  return p;\n}\nfunction createMutable(state, options) {\n  const unwrappedStore = unwrap(state || {});\n  const wrappedStore = wrap(unwrappedStore);\n  return wrappedStore;\n}\nfunction modifyMutable(state, modifier) {\n  batch(() => modifier(unwrap(state)));\n}\n\nconst $ROOT = Symbol(\"store-root\");\nfunction applyState(target, parent, property, merge, key) {\n  const previous = parent[property];\n  if (target === previous) return;\n  if (!isWrappable(target) || !isWrappable(previous) || key && target[key] !== previous[key]) {\n    if (target !== previous) {\n      if (property === $ROOT) return target;\n      setProperty(parent, property, target);\n    }\n    return;\n  }\n  if (Array.isArray(target)) {\n    if (target.length && previous.length && (!merge || key && target[0] && target[0][key] != null)) {\n      let i, j, start, end, newEnd, item, newIndicesNext, keyVal;\n      for (start = 0, end = Math.min(previous.length, target.length); start < end && (previous[start] === target[start] || key && previous[start] && target[start] && previous[start][key] === target[start][key]); start++) {\n        applyState(target[start], previous, start, merge, key);\n      }\n      const temp = new Array(target.length),\n        newIndices = new Map();\n      for (end = previous.length - 1, newEnd = target.length - 1; end >= start && newEnd >= start && (previous[end] === target[newEnd] || key && previous[start] && target[start] && previous[end][key] === target[newEnd][key]); end--, newEnd--) {\n        temp[newEnd] = previous[end];\n      }\n      if (start > newEnd || start > end) {\n        for (j = start; j <= newEnd; j++) setProperty(previous, j, target[j]);\n        for (; j < target.length; j++) {\n          setProperty(previous, j, temp[j]);\n          applyState(target[j], previous, j, merge, key);\n        }\n        if (previous.length > target.length) setProperty(previous, \"length\", target.length);\n        return;\n      }\n      newIndicesNext = new Array(newEnd + 1);\n      for (j = newEnd; j >= start; j--) {\n        item = target[j];\n        keyVal = key && item ? item[key] : item;\n        i = newIndices.get(keyVal);\n        newIndicesNext[j] = i === undefined ? -1 : i;\n        newIndices.set(keyVal, j);\n      }\n      for (i = start; i <= end; i++) {\n        item = previous[i];\n        keyVal = key && item ? item[key] : item;\n        j = newIndices.get(keyVal);\n        if (j !== undefined && j !== -1) {\n          temp[j] = previous[i];\n          j = newIndicesNext[j];\n          newIndices.set(keyVal, j);\n        }\n      }\n      for (j = start; j < target.length; j++) {\n        if (j in temp) {\n          setProperty(previous, j, temp[j]);\n          applyState(target[j], previous, j, merge, key);\n        } else setProperty(previous, j, target[j]);\n      }\n    } else {\n      for (let i = 0, len = target.length; i < len; i++) {\n        applyState(target[i], previous, i, merge, key);\n      }\n    }\n    if (previous.length > target.length) setProperty(previous, \"length\", target.length);\n    return;\n  }\n  const targetKeys = Object.keys(target);\n  for (let i = 0, len = targetKeys.length; i < len; i++) {\n    applyState(target[targetKeys[i]], previous, targetKeys[i], merge, key);\n  }\n  const previousKeys = Object.keys(previous);\n  for (let i = 0, len = previousKeys.length; i < len; i++) {\n    if (target[previousKeys[i]] === undefined) setProperty(previous, previousKeys[i], undefined);\n  }\n}\nfunction reconcile(value, options = {}) {\n  const {\n      merge,\n      key = \"id\"\n    } = options,\n    v = unwrap(value);\n  return state => {\n    if (!isWrappable(state) || !isWrappable(v)) return v;\n    const res = applyState(v, {\n      [$ROOT]: state\n    }, $ROOT, merge, key);\n    return res === undefined ? state : res;\n  };\n}\nconst producers = new WeakMap();\nconst setterTraps = {\n  get(target, property) {\n    if (property === $RAW) return target;\n    const value = target[property];\n    let proxy;\n    return isWrappable(value) ? producers.get(value) || (producers.set(value, proxy = new Proxy(value, setterTraps)), proxy) : value;\n  },\n  set(target, property, value) {\n    setProperty(target, property, unwrap(value));\n    return true;\n  },\n  deleteProperty(target, property) {\n    setProperty(target, property, undefined, true);\n    return true;\n  }\n};\nfunction produce(fn) {\n  return state => {\n    if (isWrappable(state)) {\n      let proxy;\n      if (!(proxy = producers.get(state))) {\n        producers.set(state, proxy = new Proxy(state, setterTraps));\n      }\n      fn(proxy);\n    }\n    return state;\n  };\n}\n\nconst DEV = undefined;\n\nexport { $RAW, DEV, createMutable, createStore, modifyMutable, produce, reconcile, unwrap };\n","export enum THEME {\n    DARK = 'DARK',\n    LIGHT = 'LIGHT'\n}\n\nexport type Theme = THEME | 'SYSTEM';\n","import { ColorsSet } from 'src/models/colors-set';\n\nexport const defaultLightColorsSet: ColorsSet = {\n    constant: {\n        black: '#000000',\n        white: '#FFFFFF'\n    },\n    connectButton: {\n        background: '#31A6F5',\n        foreground: '#FFFFFF'\n    },\n    accent: '#31A6F5',\n    icon: {\n        primary: '#0F0F0F',\n        secondary: '#7A8999',\n        tertiary: '#C1CAD2',\n        success: '#29CC6A',\n        error: '#F5A73B'\n    },\n    background: {\n        primary: '#FFFFFF',\n        secondary: '#F1F3F5',\n        segment: '#FFFFFF'\n    },\n    text: {\n        primary: '#0F0F0F',\n        secondary: '#6A7785'\n    }\n};\n\nexport const defaultDarkColorsSet: ColorsSet = {\n    constant: {\n        black: '#000000',\n        white: '#FFFFFF'\n    },\n    connectButton: {\n        background: '#31A6F5',\n        foreground: '#FFFFFF'\n    },\n    accent: '#E5E5EA',\n    icon: {\n        primary: '#E5E5EA',\n        secondary: '#909099',\n        tertiary: '#434347',\n        success: '#29CC6A',\n        error: '#F5A73B'\n    },\n    background: {\n        primary: '#121214',\n        secondary: '#18181A',\n        segment: '#262629'\n    },\n    text: {\n        primary: '#E5E5EA',\n        secondary: '#7D7D85'\n    }\n};\n","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nfunction isObject(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (ctor === undefined) return true;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n}\n\nexport { isPlainObject };\n","import deepmerge from 'deepmerge';\nimport { DeepPartial } from 'src/app/utils/types';\nimport { isPlainObject } from 'is-plain-object';\n\nexport function mergeOptions<T>(options: DeepPartial<T> | undefined | null, defaultOptions: T): T {\n    if (!options) {\n        return defaultOptions;\n    }\n\n    const overwriteMerge = (_: unknown[], sourceArray: unknown[], __: unknown): unknown[] =>\n        sourceArray;\n\n    return deepmerge(defaultOptions, options, {\n        arrayMerge: overwriteMerge,\n        isMergeableObject: isPlainObject\n    });\n}\n","import { createStore } from 'solid-js/store';\nimport { DefaultTheme } from 'solid-styled-components';\nimport { THEME } from 'src/models/THEME';\nimport { defaultDarkColorsSet, defaultLightColorsSet } from 'src/app/styles/default-colors';\nimport { BorderRadius, PartialColorsSet } from 'src/models';\nimport { mergeOptions } from 'src/app/utils/options';\n\nexport const [themeState, setThemeState] = createStore<DefaultTheme>({\n    theme: THEME.LIGHT,\n    colors: defaultLightColorsSet,\n    borderRadius: 'm'\n});\n\nconst themeColorsMappingDefault = {\n    [THEME.LIGHT]: defaultLightColorsSet,\n    [THEME.DARK]: defaultDarkColorsSet\n};\n\nconst themeCustomColors: Record<THEME, PartialColorsSet | undefined> = {\n    [THEME.LIGHT]: undefined,\n    [THEME.DARK]: undefined\n};\n\nexport function setTheme(theme: THEME, colorsSet?: Partial<Record<THEME, PartialColorsSet>>): void {\n    if (colorsSet) {\n        themeCustomColors[THEME.DARK] = mergeOptions(\n            colorsSet[THEME.DARK],\n            themeCustomColors[THEME.DARK]\n        );\n        themeCustomColors[THEME.LIGHT] = mergeOptions(\n            colorsSet[THEME.LIGHT],\n            themeCustomColors[THEME.LIGHT]\n        );\n    }\n\n    setThemeState({\n        theme,\n        colors: mergeOptions(themeCustomColors[theme], themeColorsMappingDefault[theme])\n    });\n}\n\nexport function setBorderRadius(borderRadius: BorderRadius): void {\n    setThemeState({ borderRadius });\n}\n\nexport function setColors(colorsSet: Partial<Record<THEME, PartialColorsSet>>): void {\n    themeCustomColors[THEME.DARK] = mergeOptions(\n        colorsSet[THEME.DARK],\n        themeCustomColors[THEME.DARK]\n    );\n    themeCustomColors[THEME.LIGHT] = mergeOptions(\n        colorsSet[THEME.LIGHT],\n        themeCustomColors[THEME.LIGHT]\n    );\n\n    setThemeState(state => ({\n        colors: mergeOptions(\n            themeCustomColors[state.theme as THEME],\n            themeColorsMappingDefault[state.theme as THEME]\n        )\n    }));\n}\n","import { JSXElement } from 'solid-js';\nimport { createGlobalStyles } from 'solid-styled-components';\n\nexport const globalStylesTag = 'tc-root';\nexport const disableScrollClass = 'tc-disable-scroll';\nexport const usingMouseClass = 'tc-using-mouse';\n\nexport const GlobalStyles = (): JSXElement => {\n    document.body.addEventListener('mousedown', () => document.body.classList.add(usingMouseClass));\n\n    document.body.addEventListener('keydown', event => {\n        if (event.key === 'Tab') {\n            document.body.classList.remove(usingMouseClass);\n        }\n    });\n\n    const Styles = createGlobalStyles`\n    ${globalStylesTag} * {\n        margin: 0;\n        padding: 0;\n        box-sizing: border-box;\n        \n        font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Helvetica Neue', Arial, Tahoma, Verdana, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;        \n        -webkit-tap-highlight-color: transparent;\n    }\n    \n    ${globalStylesTag} img {\n      -webkit-user-select: none;\n      -webkit-touch-callout: none;\n    }   \n \n    ${globalStylesTag} *:focus {\n        outline: #08f auto 2px;\n    }\n    \n    ${globalStylesTag} li {\n        list-style: none;\n    }\n    \n    ${globalStylesTag} button {\n        outline: none;\n    }\n    \n    body.${disableScrollClass} {\n        position: fixed; \n        overflow-y: scroll;\n        right: 0;\n        left: 0;\n    }\n    \n    body.${usingMouseClass} ${globalStylesTag} *:focus {\n        outline: none;\n    }\n`;\n    return <Styles />;\n};\n","import { styled } from 'solid-styled-components';\n\nexport const ImagePlaceholder = styled.div`\n    background-color: ${props => props.theme!.colors.background.secondary};\n`;\n","import { Component, createEffect, createSignal, Show } from 'solid-js';\nimport { ImagePlaceholder } from './style';\nimport { Styleable } from 'src/app/models/styleable';\n\nexport interface ImageProps extends Styleable {\n    src: string;\n    alt?: string;\n}\n\nexport const Image: Component<ImageProps> = props => {\n    let imgRef: HTMLImageElement | undefined;\n\n    const [image, setImage] = createSignal<HTMLImageElement | null>(null);\n\n    createEffect(() => {\n        const img = new window.Image();\n        img.src = props.src;\n        img.alt = props.alt || '';\n        img.setAttribute('draggable', 'false');\n        if (props.class) {\n            img.classList.add(props.class);\n        }\n\n        if (img.complete) {\n            return setImage(img);\n        }\n\n        img.addEventListener('load', () => setImage(img));\n\n        return () => img.removeEventListener('load', () => setImage(img));\n    });\n\n    return (\n        <>\n            <Show when={image()}>{image()}</Show>\n            <Show when={!image()}>\n                <ImagePlaceholder class={props.class} ref={imgRef} />\n            </Show>\n        </>\n    );\n};\n","import { Property } from 'csstype';\ntype Color = Property.Color;\n\nexport function hexToRgb(hex: string): string {\n    if (hex[0] === '#') {\n        hex = hex.slice(1);\n    }\n\n    const bigint = parseInt(hex, 16);\n    const r = (bigint >> 16) & 255;\n    const g = (bigint >> 8) & 255;\n    const b = bigint & 255;\n\n    return [r, g, b].join(',');\n}\n\nexport function rgba(color: Color, opacity: number): string {\n    if (color[0] === '#') {\n        color = hexToRgb(color);\n    }\n\n    return `rgba(${color}, ${opacity})`;\n}\n\nexport function toPx(value: number | string): string {\n    return value.toString() + 'px';\n}\n","import { TonConnectError } from '@tonconnect/sdk';\n\nexport class TonConnectUIError extends TonConnectError {\n    constructor(...args: ConstructorParameters<typeof Error>) {\n        super(...args);\n\n        Object.setPrototypeOf(this, TonConnectUIError.prototype);\n    }\n}\n","/////////////////////////////////////////////////////////////////////////////////\n/* UAParser.js v1.0.35\n   Copyright © 2012-2021 Faisal Salman <f@faisalman.com>\n   MIT License *//*\n   Detect Browser, Engine, OS, CPU, and Device type/model from User-Agent data.\n   Supports browser & node.js environment. \n   Demo   : https://faisalman.github.io/ua-parser-js\n   Source : https://github.com/faisalman/ua-parser-js */\n/////////////////////////////////////////////////////////////////////////////////\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '1.0.35',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major',\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded',\n        UA_MAX_LENGTH = 350;\n\n    var AMAZON  = 'Amazon',\n        APPLE   = 'Apple',\n        ASUS    = 'ASUS',\n        BLACKBERRY = 'BlackBerry',\n        BROWSER = 'Browser',\n        CHROME  = 'Chrome',\n        EDGE    = 'Edge',\n        FIREFOX = 'Firefox',\n        GOOGLE  = 'Google',\n        HUAWEI  = 'Huawei',\n        LG      = 'LG',\n        MICROSOFT = 'Microsoft',\n        MOTOROLA  = 'Motorola',\n        OPERA   = 'Opera',\n        SAMSUNG = 'Samsung',\n        SHARP   = 'Sharp',\n        SONY    = 'Sony',\n        VIERA   = 'Viera',\n        XIAOMI  = 'Xiaomi',\n        ZEBRA   = 'Zebra',\n        FACEBOOK    = 'Facebook',\n        CHROMIUM_OS = 'Chromium OS',\n        MAC_OS  = 'Mac OS';\n\n    ///////////\n    // Helper\n    //////////\n\n    var extend = function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        enumerize = function (arr) {\n            var enums = {};\n            for (var i=0; i<arr.length; i++) {\n                enums[arr[i].toUpperCase()] = arr[i];\n            }\n            return enums;\n        },\n        has = function (str1, str2) {\n            return typeof str1 === STR_TYPE ? lowerize(str2).indexOf(lowerize(str1)) !== -1 : false;\n        },\n        lowerize = function (str) {\n            return str.toLowerCase();\n        },\n        majorize = function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g, EMPTY).split('.')[0] : undefined;\n        },\n        trim = function (str, len) {\n            if (typeof(str) === STR_TYPE) {\n                str = str.replace(/^\\s\\s*/, EMPTY);\n                return typeof(len) === UNDEF_TYPE ? str : str.substring(0, UA_MAX_LENGTH);\n            }\n    };\n\n    ///////////////\n    // Map helper\n    //////////////\n\n    var rgxMapper = function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    if (!regex[j]) { break; }\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length === 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length === 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length === 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        strMapper = function (str, map) {\n\n            for (var i in map) {\n                // check if current value is array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n    };\n\n    ///////////////\n    // String map\n    //////////////\n\n    // Safari < 3.0\n    var oldSafariMap = {\n            '1.0'   : '/8',\n            '1.2'   : '/1',\n            '1.3'   : '/3',\n            '2.0'   : '/412',\n            '2.0.2' : '/416',\n            '2.0.3' : '/417',\n            '2.0.4' : '/419',\n            '?'     : '/'\n        },\n        windowsVersionMap = {\n            'ME'        : '4.90',\n            'NT 3.11'   : 'NT3.51',\n            'NT 4.0'    : 'NT4.0',\n            '2000'      : 'NT 5.0',\n            'XP'        : ['NT 5.1', 'NT 5.2'],\n            'Vista'     : 'NT 6.0',\n            '7'         : 'NT 6.1',\n            '8'         : 'NT 6.2',\n            '8.1'       : 'NT 6.3',\n            '10'        : ['NT 6.4', 'NT 10.0'],\n            'RT'        : 'ARM'\n    };\n\n    //////////////\n    // Regex map\n    /////////////\n\n    var regexes = {\n\n        browser : [[\n\n            /\\b(?:crmo|crios)\\/([\\w\\.]+)/i                                      // Chrome for Android/iOS\n            ], [VERSION, [NAME, 'Chrome']], [\n            /edg(?:e|ios|a)?\\/([\\w\\.]+)/i                                       // Microsoft Edge\n            ], [VERSION, [NAME, 'Edge']], [\n\n            // Presto based\n            /(opera mini)\\/([-\\w\\.]+)/i,                                        // Opera Mini\n            /(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,                 // Opera Mobi/Tablet\n            /(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i                           // Opera\n            ], [NAME, VERSION], [\n            /opios[\\/ ]+([\\w\\.]+)/i                                             // Opera mini on iphone >= 8.0\n            ], [VERSION, [NAME, OPERA+' Mini']], [\n            /\\bopr\\/([\\w\\.]+)/i                                                 // Opera Webkit\n            ], [VERSION, [NAME, OPERA]], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,      // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,               // Avant/IEMobile/SlimBrowser\n            /(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,                                  // Baidu Browser\n            /(?:ms|\\()(ie) ([\\w\\.]+)/i,                                         // Internet Explorer\n\n            // Webkit/KHTML based                                               // Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            /(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,\n                                                                                // Rekonq/Puffin/Brave/Whale/QQBrowserLite/QQ, aka ShouQ\n            /(heytap|ovi)browser\\/([\\d\\.]+)/i,                                  // Heytap/Ovi\n            /(weibo)__([\\d\\.]+)/i                                               // Weibo\n            ], [NAME, VERSION], [\n            /(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i                 // UCBrowser\n            ], [VERSION, [NAME, 'UC'+BROWSER]], [\n            /microm.+\\bqbcore\\/([\\w\\.]+)/i,                                     // WeChat Desktop for Windows Built-in Browser\n            /\\bqbcore\\/([\\w\\.]+).+microm/i\n            ], [VERSION, [NAME, 'WeChat(Win) Desktop']], [\n            /micromessenger\\/([\\w\\.]+)/i                                        // WeChat\n            ], [VERSION, [NAME, 'WeChat']], [\n            /konqueror\\/([\\w\\.]+)/i                                             // Konqueror\n            ], [VERSION, [NAME, 'Konqueror']], [\n            /trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i                       // IE11\n            ], [VERSION, [NAME, 'IE']], [\n            /ya(?:search)?browser\\/([\\w\\.]+)/i                                  // Yandex\n            ], [VERSION, [NAME, 'Yandex']], [\n            /(avast|avg)\\/([\\w\\.]+)/i                                           // Avast/AVG Secure Browser\n            ], [[NAME, /(.+)/, '$1 Secure '+BROWSER], VERSION], [\n            /\\bfocus\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [VERSION, [NAME, FIREFOX+' Focus']], [\n            /\\bopt\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [VERSION, [NAME, OPERA+' Touch']], [\n            /coc_coc\\w+\\/([\\w\\.]+)/i                                            // Coc Coc Browser\n            ], [VERSION, [NAME, 'Coc Coc']], [\n            /dolfin\\/([\\w\\.]+)/i                                                // Dolphin\n            ], [VERSION, [NAME, 'Dolphin']], [\n            /coast\\/([\\w\\.]+)/i                                                 // Opera Coast\n            ], [VERSION, [NAME, OPERA+' Coast']], [\n            /miuibrowser\\/([\\w\\.]+)/i                                           // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI '+BROWSER]], [\n            /fxios\\/([-\\w\\.]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, FIREFOX]], [\n            /\\bqihu|(qi?ho?o?|360)browser/i                                     // 360\n            ], [[NAME, '360 '+BROWSER]], [\n            /(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+)/, '$1 '+BROWSER], VERSION], [                      // Oculus/Samsung/Sailfish/Huawei Browser\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n            /(electron)\\/([\\w\\.]+) safari/i,                                    // Electron-based App\n            /(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,                   // Tesla\n            /m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i            // QQBrowser/Baidu App/2345 Browser\n            ], [NAME, VERSION], [\n            /(metasr)[\\/ ]?([\\w\\.]+)/i,                                         // SouGouBrowser\n            /(lbbrowser)/i,                                                     // LieBao Browser\n            /\\[(linkedin)app\\]/i                                                // LinkedIn App for iOS & Android\n            ], [NAME], [\n\n            // WebView\n            /((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i       // Facebook App for iOS & Android\n            ], [[NAME, FACEBOOK], VERSION], [\n            /(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,                             // Kakao App\n            /(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,                                  // Naver InApp\n            /safari (line)\\/([\\w\\.]+)/i,                                        // Line App for iOS\n            /\\b(line)\\/([\\w\\.]+)\\/iab/i,                                        // Line App for Android\n            /(chromium|instagram)[\\/ ]([-\\w\\.]+)/i                              // Chromium/Instagram\n            ], [NAME, VERSION], [\n            /\\bgsa\\/([\\w\\.]+) .*safari\\//i                                      // Google Search Appliance on iOS\n            ], [VERSION, [NAME, 'GSA']], [\n            /musical_ly(?:.+app_?version\\/|_)([\\w\\.]+)/i                        // TikTok\n            ], [VERSION, [NAME, 'TikTok']], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)| )/i                                  // Chrome Headless\n            ], [VERSION, [NAME, CHROME+' Headless']], [\n\n            / wv\\).+(chrome)\\/([\\w\\.]+)/i                                       // Chrome WebView\n            ], [[NAME, CHROME+' WebView'], VERSION], [\n\n            /droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i           // Android Browser\n            ], [VERSION, [NAME, 'Android '+BROWSER]], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i       // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i                      // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n            /version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i                // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n            /webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i                      // Safari < 3.0\n            ], [NAME, [VERSION, strMapper, oldSafariMap]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape\\d?)\\/([-\\w\\.]+)/i                              // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /mobile vr; rv:([\\w\\.]+)\\).+firefox/i                               // Firefox Reality\n            ], [VERSION, [NAME, FIREFOX+' Reality']], [\n            /ekiohf.+(flow)\\/([\\w\\.]+)/i,                                       // Flow\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror/Klar\n            /(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(firefox)\\/([\\w\\.]+)/i,                                            // Other Firefox-based\n            /(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,                         // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir/Obigo/Mosaic/Go/ICE/UP.Browser\n            /(links) \\(([\\w\\.]+)/i,                                             // Links\n            /panasonic;(viera)/i                                                // Panasonic Viera\n            ], [NAME, VERSION], [\n            \n            /(cobalt)\\/([\\w\\.]+)/i                                              // Cobalt\n            ], [NAME, [VERSION, /master.|lts./, \"\"]]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i                     // AMD64 (x64)\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32 (x86)\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            /\\b(aarch64|arm(v?8e?l?|_?64))\\b/i                                 // ARM64\n            ], [[ARCHITECTURE, 'arm64']], [\n\n            /\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i                                   // ARMHF\n            ], [[ARCHITECTURE, 'armhf']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows (ce|mobile); ppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i                            // PowerPC\n            ], [[ARCHITECTURE, /ower/, EMPTY, lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, lowerize]]\n        ],\n\n        device : [[\n\n            //////////////////////////\n            // MOBILES & TABLETS\n            /////////////////////////\n\n            // Samsung\n            /\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, TABLET]], [\n            /\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,\n            /samsung[- ]([-\\w]+)/i,\n            /sec-(sgh\\w+)/i\n            ], [MODEL, [VENDOR, SAMSUNG], [TYPE, MOBILE]], [\n\n            // Apple\n            /(?:\\/|\\()(ip(?:hone|od)[\\w, ]*)(?:\\/|;)/i                          // iPod/iPhone\n            ], [MODEL, [VENDOR, APPLE], [TYPE, MOBILE]], [\n            /\\((ipad);[-\\w\\),; ]+apple/i,                                       // iPad\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/i,\n            /\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i\n            ], [MODEL, [VENDOR, APPLE], [TYPE, TABLET]], [\n            /(macintosh);/i\n            ], [MODEL, [VENDOR, APPLE]], [\n\n            // Sharp\n            /\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i\n            ], [MODEL, [VENDOR, SHARP], [TYPE, MOBILE]], [\n\n            // Huawei\n            /\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, TABLET]], [\n            /(?:huawei|honor)([-\\w ]+)[;\\)]/i,\n            /\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i\n            ], [MODEL, [VENDOR, HUAWEI], [TYPE, MOBILE]], [\n\n            // Xiaomi\n            /\\b(poco[\\w ]+)(?: bui|\\))/i,                                       // Xiaomi POCO\n            /\\b; (\\w+) build\\/hm\\1/i,                                           // Xiaomi Hongmi 'numeric' models\n            /\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,                             // Xiaomi Hongmi\n            /\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,                   // Xiaomi Redmi\n            /\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i // Xiaomi Mi\n            ], [[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, MOBILE]], [\n            /\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i                        // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, XIAOMI], [TYPE, TABLET]], [\n\n            // OPPO\n            /; (\\w+) bui.+ oppo/i,\n            /\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i\n            ], [MODEL, [VENDOR, 'OPPO'], [TYPE, MOBILE]], [\n\n            // Vivo\n            /vivo (\\w+)(?: bui|\\))/i,\n            /\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i\n            ], [MODEL, [VENDOR, 'Vivo'], [TYPE, MOBILE]], [\n\n            // Realme\n            /\\b(rmx[12]\\d{3})(?: bui|;|\\))/i\n            ], [MODEL, [VENDOR, 'Realme'], [TYPE, MOBILE]], [\n\n            // Motorola\n            /\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,\n            /\\bmot(?:orola)?[- ](\\w*)/i,\n            /((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, MOBILE]], [\n            /\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i\n            ], [MODEL, [VENDOR, MOTOROLA], [TYPE, TABLET]], [\n\n            // LG\n            /((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i\n            ], [MODEL, [VENDOR, LG], [TYPE, TABLET]], [\n            /(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,\n            /\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,\n            /\\blg-?([\\d\\w]+) bui/i\n            ], [MODEL, [VENDOR, LG], [TYPE, MOBILE]], [\n\n            // Lenovo\n            /(ideatab[-\\w ]+)/i,\n            /lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n\n            // Nokia\n            /(?:maemo|nokia).*(n900|lumia \\d+)/i,\n            /nokia[-_ ]?([-\\w\\.]*)/i\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Nokia'], [TYPE, MOBILE]], [\n\n            // Google\n            /(pixel c)\\b/i                                                      // Google Pixel C\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, TABLET]], [\n            /droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i                         // Google Pixel\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, MOBILE]], [\n\n            // Sony\n            /droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, SONY], [TYPE, MOBILE]], [\n            /sony tablet [ps]/i,\n            /\\b(?:sony)?sgp\\w+(?: bui|\\))/i\n            ], [[MODEL, 'Xperia Tablet'], [VENDOR, SONY], [TYPE, TABLET]], [\n\n            // OnePlus\n            / (kb2005|in20[12]5|be20[12][59])\\b/i,\n            /(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            // Amazon\n            /(alexa)webm/i,\n            /(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i,                             // Kindle Fire without Silk / Echo Show\n            /(kf[a-z]+)( bui|\\)).+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, TABLET]], [\n            /((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i                     // Fire Phone\n            ], [[MODEL, /(.+)/g, 'Fire Phone $1'], [VENDOR, AMAZON], [TYPE, MOBILE]], [\n\n            // BlackBerry\n            /(playbook);[-\\w\\),; ]+(rim)/i                                      // BlackBerry PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n            /\\b((?:bb[a-f]|st[hv])100-\\d)/i,\n            /\\(bb10; (\\w+)/i                                                    // BlackBerry 10\n            ], [MODEL, [VENDOR, BLACKBERRY], [TYPE, MOBILE]], [\n\n            // Asus\n            /(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, TABLET]], [\n            / (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i\n            ], [MODEL, [VENDOR, ASUS], [TYPE, MOBILE]], [\n\n            // HTC\n            /(nexus 9)/i                                                        // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n            /(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,                         // HTC\n\n            // ZTE\n            /(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,\n            /(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i         // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            // Acer\n            /droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            // Meizu\n            /droid.+; (m[1-5] note) bui/i,\n            /\\bmz-([-\\w]{2,})/i\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n\n            // MIXED\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,\n                                                                                // BlackBerry/BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp) ([\\w ]+\\w)/i,                                                 // HP iPAQ\n            /(asus)-?(\\w+)/i,                                                   // Asus\n            /(microsoft); (lumia[\\w ]+)/i,                                      // Microsoft Lumia\n            /(lenovo)[-_ ]?([-\\w]+)/i,                                          // Lenovo\n            /(jolla)/i,                                                         // Jolla\n            /(oppo) ?([\\w ]+) bui/i                                             // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /(kobo)\\s(ereader|touch)/i,                                         // Kobo\n            /(archos) (gamepad2?)/i,                                            // Archos\n            /(hp).+(touchpad(?!.+tablet)|tablet)/i,                             // HP TouchPad\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(nook)[\\w ]+build\\/(\\w+)/i,                                        // Nook\n            /(dell) (strea[kpr\\d ]*[\\dko])/i,                                   // Dell Streak\n            /(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,                                  // Le Pan Tablets\n            /(trinity)[- ]*(t\\d{3}) bui/i,                                      // Trinity Tablets\n            /(gigaset)[- ]+(q\\w{1,9}) bui/i,                                    // Gigaset Tablets\n            /(vodafone) ([\\w ]+)(?:\\)| bui)/i                                   // Vodafone\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(surface duo)/i                                                    // Surface Duo\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, TABLET]], [\n            /droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i                                 // Fairphone\n            ], [MODEL, [VENDOR, 'Fairphone'], [TYPE, MOBILE]], [\n            /(u304aa)/i                                                         // AT&T\n            ], [MODEL, [VENDOR, 'AT&T'], [TYPE, MOBILE]], [\n            /\\bsie-(\\w*)/i                                                      // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n            /\\b(rct\\w+) b/i                                                     // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n            /\\b(venue[\\d ]{2,7}) b/i                                            // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n            /\\b(q(?:mv|ta)\\w+) b/i                                              // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n            /\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i                       // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'Barnes & Noble'], [TYPE, TABLET]], [\n            /\\b(tm\\d{3}\\w+) b/i\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n            /\\b(k88) b/i                                                        // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n            /\\b(nx\\d{3}j) b/i                                                   // ZTE Nubia\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, MOBILE]], [\n            /\\b(gen\\d{3}) b.+49h/i                                              // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n            /\\b(zur\\d{3}) b/i                                                   // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n            /\\b((zeki)?tb.*\\b) b/i                                              // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n            /\\b([yr]\\d{2}) b/i,\n            /\\b(dragon[- ]+touch |dt)(\\w{5}) b/i                                // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n            /\\b(ns-?\\w{0,9}) b/i                                                // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n            /\\b((nxa|next)-?\\w{0,9}) b/i                                        // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n            /\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i                  // Voice Xtreme Phones\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [\n            /\\b(lvtel\\-)?(v1[12]) b/i                                           // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n            /\\b(ph-1) /i                                                        // Essential PH-1\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [\n            /\\b(v(100md|700na|7011|917g).*\\b) b/i                               // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n            /\\b(trio[-\\w\\. ]+) b/i                                              // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n            /\\btu_(1491) b/i                                                    // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n            /(shield[\\w ]+) b/i                                                 // Nvidia Shield Tablets\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, TABLET]], [\n            /(sprint) (\\w+)/i                                                   // Sprint Phones\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, MICROSOFT], [TYPE, MOBILE]], [\n            /droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i             // Zebra\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, TABLET]], [\n            /droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, MOBILE]], [\n\n            ///////////////////\n            // SMARTTVS\n            ///////////////////\n\n            /smart-tv.+(samsung)/i                                              // Samsung\n            ], [VENDOR, [TYPE, SMARTTV]], [\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, SAMSUNG], [TYPE, SMARTTV]], [\n            /(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i        // LG SmartTV\n            ], [[VENDOR, LG], [TYPE, SMARTTV]], [\n            /(apple) ?tv/i                                                      // Apple TV\n            ], [VENDOR, [MODEL, APPLE+' TV'], [TYPE, SMARTTV]], [\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, CHROME+'cast'], [VENDOR, GOOGLE], [TYPE, SMARTTV]], [\n            /droid.+aft(\\w)( bui|\\))/i                                          // Fire TV\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, SMARTTV]], [\n            /\\(dtv[\\);].+(aquos)/i,\n            /(aquos-tv[\\w ]+)\\)/i                                               // Sharp\n            ], [MODEL, [VENDOR, SHARP], [TYPE, SMARTTV]],[\n            /(bravia[\\w ]+)( bui|\\))/i                                              // Sony\n            ], [MODEL, [VENDOR, SONY], [TYPE, SMARTTV]], [\n            /(mitv-\\w{5}) bui/i                                                 // Xiaomi\n            ], [MODEL, [VENDOR, XIAOMI], [TYPE, SMARTTV]], [\n            /Hbbtv.*(technisat) (.*);/i                                         // TechniSAT\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,                          // Roku\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i         // HbbTV devices\n            ], [[VENDOR, trim], [MODEL, trim], [TYPE, SMARTTV]], [\n            /\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i                   // SmartTV from Unidentified Vendors\n            ], [[TYPE, SMARTTV]], [\n\n            ///////////////////\n            // CONSOLES\n            ///////////////////\n\n            /(ouya)/i,                                                          // Ouya\n            /(nintendo) ([wids3utch]+)/i                                        // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n            /droid.+; (shield) bui/i                                            // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n            /(playstation [345portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, SONY], [TYPE, CONSOLE]], [\n            /\\b(xbox(?: one)?(?!; xbox))[\\); ]/i                                // Microsoft Xbox\n            ], [MODEL, [VENDOR, MICROSOFT], [TYPE, CONSOLE]], [\n\n            ///////////////////\n            // WEARABLES\n            ///////////////////\n\n            /((pebble))app/i                                                    // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n            /(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i                              // Apple Watch\n            ], [MODEL, [VENDOR, APPLE], [TYPE, WEARABLE]], [\n            /droid.+; (glass) \\d/i                                              // Google Glass\n            ], [MODEL, [VENDOR, GOOGLE], [TYPE, WEARABLE]], [\n            /droid.+; (wt63?0{2,3})\\)/i\n            ], [MODEL, [VENDOR, ZEBRA], [TYPE, WEARABLE]], [\n            /(quest( 2| pro)?)/i                                                // Oculus Quest\n            ], [MODEL, [VENDOR, FACEBOOK], [TYPE, WEARABLE]], [\n\n            ///////////////////\n            // EMBEDDED\n            ///////////////////\n\n            /(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i                              // Tesla\n            ], [VENDOR, [TYPE, EMBEDDED]], [\n            /(aeobc)\\b/i                                                        // Echo Dot\n            ], [MODEL, [VENDOR, AMAZON], [TYPE, EMBEDDED]], [\n\n            ////////////////////\n            // MIXED (GENERIC)\n            ///////////////////\n\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i           // Android Phones from Unidentified Vendors\n            ], [MODEL, [TYPE, MOBILE]], [\n            /droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i       // Android Tablets from Unidentified Vendors\n            ], [MODEL, [TYPE, TABLET]], [\n            /\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i                      // Unidentifiable Tablet\n            ], [[TYPE, TABLET]], [\n            /(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i    // Unidentifiable Mobile\n            ], [[TYPE, MOBILE]], [\n            /(android[-\\w\\. ]{0,9});.+buil/i                                    // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+ edge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, EDGE+'HTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i, // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /ekioh(flow)\\/([\\w\\.]+)/i,                                          // Flow\n            /(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,                           // KHTML/Tasman/Links\n            /(icab)[\\/ ]([23]\\.[\\d\\.]+)/i,                                      // iCab\n            /\\b(libweb)/i\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i                                     // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows\n            /microsoft (windows) (vista|xp)/i                                   // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows) nt 6\\.2; (arm)/i,                                        // Windows RT\n            /(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,            // Windows Phone\n            /(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i\n            ], [NAME, [VERSION, strMapper, windowsVersionMap]], [\n            /(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, strMapper, windowsVersionMap]], [\n\n            // iOS/macOS\n            /ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,              // iOS\n            /ios;fbsv\\/([\\d\\.]+)/i,\n            /cfnetwork\\/.+darwin/i\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n            /(mac os x) ?([\\w\\. ]*)/i,\n            /(macintosh|mac_powerpc\\b)(?!.+haiku)/i                             // Mac OS\n            ], [[NAME, MAC_OS], [VERSION, /_/g, '.']], [\n\n            // Mobile OSes\n            /droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i                    // Android-x86/HarmonyOS\n            ], [VERSION, NAME], [                                               // Android/WebOS/QNX/Bada/RIM/Maemo/MeeGo/Sailfish OS\n            /(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,\n            /(blackberry)\\w*\\/([\\w\\.]*)/i,                                      // Blackberry\n            /(tizen|kaios)[\\/ ]([\\w\\.]+)/i,                                     // Tizen/KaiOS\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME, VERSION], [\n            /\\(bb(10);/i                                                        // BlackBerry 10\n            ], [VERSION, [NAME, BLACKBERRY]], [\n            /(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i         // Symbian\n            ], [VERSION, [NAME, 'Symbian']], [\n            /mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i // Firefox OS\n            ], [VERSION, [NAME, FIREFOX+' OS']], [\n            /web0s;.+rt(tv)/i,\n            /\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i                              // WebOS\n            ], [VERSION, [NAME, 'webOS']], [\n            /watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i                              // watchOS\n            ], [VERSION, [NAME, 'watchOS']], [\n\n            // Google Chromecast\n            /crkey\\/([\\d\\.]+)/i                                                 // Google Chromecast\n            ], [VERSION, [NAME, CHROME+'cast']], [\n            /(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i                                  // Chromium OS\n            ], [[NAME, CHROMIUM_OS], VERSION],[\n\n            // Smart TVs\n            /panasonic;(viera)/i,                                               // Panasonic Viera\n            /(netrange)mmh/i,                                                   // Netrange\n            /(nettv)\\/(\\d+\\.[\\w\\.]+)/i,                                         // NetTV\n\n            // Console\n            /(nintendo|playstation) ([wids345portablevuch]+)/i,                 // Nintendo/Playstation\n            /(xbox); +xbox ([^\\);]+)/i,                                         // Microsoft Xbox (360, One, X, S, Series X, Series S)\n\n            // Other\n            /\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,                            // Joli/Palm\n            /(mint)[\\/\\(\\) ]?(\\w*)/i,                                           // Mint\n            /(mageia|vectorlinux)[; ]/i,                                        // Mageia/VectorLinux\n            /([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,\n                                                                                // Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware/Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus/Raspbian/Plan9/Minix/RISCOS/Contiki/Deepin/Manjaro/elementary/Sabayon/Linspire\n            /(hurd|linux) ?([\\w\\.]*)/i,                                         // Hurd/Linux\n            /(gnu) ?([\\w\\.]*)/i,                                                // GNU\n            /\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i, // FreeBSD/NetBSD/OpenBSD/PC-BSD/GhostBSD/DragonFly\n            /(haiku) (\\w+)/i                                                    // Haiku\n            ], [NAME, VERSION], [\n            /(sunos) ?([\\w\\.\\d]*)/i                                             // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n            /((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,                              // Solaris\n            /(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,                                  // AIX\n            /\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i, // BeOS/OS2/AmigaOS/MorphOS/OpenVMS/Fuchsia/HP-UX/SerenityOS\n            /(unix) ?([\\w\\.]*)/i                                                // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n    /////////////////\n    // Constructor\n    ////////////////\n\n    var UAParser = function (ua, extensions) {\n\n        if (typeof ua === OBJ_TYPE) {\n            extensions = ua;\n            ua = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(ua, extensions).getResult();\n        }\n\n        var _navigator = (typeof window !== UNDEF_TYPE && window.navigator) ? window.navigator : undefined;\n        var _ua = ua || ((_navigator && _navigator.userAgent) ? _navigator.userAgent : EMPTY);\n        var _uach = (_navigator && _navigator.userAgentData) ? _navigator.userAgentData : undefined;\n        var _rgxmap = extensions ? extend(regexes, extensions) : regexes;\n        var _isSelfNav = _navigator && _navigator.userAgent == _ua;\n\n        this.getBrowser = function () {\n            var _browser = {};\n            _browser[NAME] = undefined;\n            _browser[VERSION] = undefined;\n            rgxMapper.call(_browser, _ua, _rgxmap.browser);\n            _browser[MAJOR] = majorize(_browser[VERSION]);\n            // Brave-specific detection\n            if (_isSelfNav && _navigator && _navigator.brave && typeof _navigator.brave.isBrave == FUNC_TYPE) {\n                _browser[NAME] = 'Brave';\n            }\n            return _browser;\n        };\n        this.getCPU = function () {\n            var _cpu = {};\n            _cpu[ARCHITECTURE] = undefined;\n            rgxMapper.call(_cpu, _ua, _rgxmap.cpu);\n            return _cpu;\n        };\n        this.getDevice = function () {\n            var _device = {};\n            _device[VENDOR] = undefined;\n            _device[MODEL] = undefined;\n            _device[TYPE] = undefined;\n            rgxMapper.call(_device, _ua, _rgxmap.device);\n            if (_isSelfNav && !_device[TYPE] && _uach && _uach.mobile) {\n                _device[TYPE] = MOBILE;\n            }\n            // iPadOS-specific detection: identified as Mac, but has some iOS-only properties\n            if (_isSelfNav && _device[MODEL] == 'Macintosh' && _navigator && typeof _navigator.standalone !== UNDEF_TYPE && _navigator.maxTouchPoints && _navigator.maxTouchPoints > 2) {\n                _device[MODEL] = 'iPad';\n                _device[TYPE] = TABLET;\n            }\n            return _device;\n        };\n        this.getEngine = function () {\n            var _engine = {};\n            _engine[NAME] = undefined;\n            _engine[VERSION] = undefined;\n            rgxMapper.call(_engine, _ua, _rgxmap.engine);\n            return _engine;\n        };\n        this.getOS = function () {\n            var _os = {};\n            _os[NAME] = undefined;\n            _os[VERSION] = undefined;\n            rgxMapper.call(_os, _ua, _rgxmap.os);\n            if (_isSelfNav && !_os[NAME] && _uach && _uach.platform != 'Unknown') {\n                _os[NAME] = _uach.platform  \n                                    .replace(/chrome os/i, CHROMIUM_OS)\n                                    .replace(/macos/i, MAC_OS);           // backward compatibility\n            }\n            return _os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return _ua;\n        };\n        this.setUA = function (ua) {\n            _ua = (typeof ua === STR_TYPE && ua.length > UA_MAX_LENGTH) ? trim(ua, UA_MAX_LENGTH) : ua;\n            return this;\n        };\n        this.setUA(_ua);\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER =  enumerize([NAME, VERSION, MAJOR]);\n    UAParser.CPU = enumerize([ARCHITECTURE]);\n    UAParser.DEVICE = enumerize([MODEL, VENDOR, TYPE, CONSOLE, MOBILE, SMARTTV, TABLET, WEARABLE, EMBEDDED]);\n    UAParser.ENGINE = UAParser.OS = enumerize([NAME, VERSION]);\n\n    ///////////\n    // Export\n    //////////\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === FUNC_TYPE && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (typeof window !== UNDEF_TYPE) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = typeof window !== UNDEF_TYPE && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (ua) {\n            parser.setUA(ua);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","import { THEME } from 'src/models/THEME';\nimport { ReturnStrategy } from 'src/models/return-strategy';\nimport { disableScrollClass, globalStylesTag } from 'src/app/styles/global-styles';\nimport { toPx } from 'src/app/utils/css';\nimport { TonConnectUIError } from 'src/errors';\nimport { UserAgent } from 'src/models/user-agent';\nimport UAParser from 'ua-parser-js';\n\nexport function openLink(href: string, target = '_self'): ReturnType<typeof window.open> {\n    return window.open(href, target, 'noreferrer noopener');\n}\n\nexport function openLinkBlank(href: string): void {\n    openLink(href, '_blank');\n}\n\nexport function getSystemTheme(): THEME {\n    if (window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches) {\n        return THEME.LIGHT;\n    }\n\n    return THEME.DARK;\n}\n\nexport function subscribeToThemeChange(callback: (theme: THEME) => void): () => void {\n    const handler = (event: MediaQueryListEvent): void =>\n        callback(event.matches ? THEME.DARK : THEME.LIGHT);\n    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', handler);\n    return () =>\n        window.matchMedia('(prefers-color-scheme: dark)').removeEventListener('change', handler);\n}\n\nexport function addQueryParameter(url: string, key: string, value: string): string {\n    const parsed = new URL(url);\n    parsed.searchParams.append(key, value);\n    return parsed.toString();\n}\n\nexport function addReturnStrategy(url: string, returnStrategy: ReturnStrategy): string {\n    return addQueryParameter(url, 'ret', returnStrategy);\n}\n\nexport function disableScroll(): void {\n    if (document.documentElement.scrollHeight === document.documentElement.clientHeight) {\n        return;\n    }\n\n    document.body.style.top = toPx(-document.documentElement.scrollTop);\n    document.body.classList.add(disableScrollClass);\n}\n\nexport function enableScroll(): void {\n    document.body.classList.remove(disableScrollClass);\n    document.documentElement.scrollTo({ top: -parseFloat(getComputedStyle(document.body).top) });\n    document.body.style.top = 'auto';\n}\n\nexport function fixMobileSafariActiveTransition(): void {\n    if (!document.body.hasAttribute('ontouchstart')) {\n        document.body.setAttribute('ontouchstart', '');\n    }\n}\n\nexport function defineStylesRoot(): void {\n    customElements.define(globalStylesTag, class TcRootElement extends HTMLDivElement {}, {\n        extends: 'div'\n    });\n}\n\nexport function preloadImages(images: string[]): void {\n    images.forEach(img => {\n        const node = new window.Image();\n        node.src = img;\n    });\n}\n\nexport function checkLocalStorageExists(): never | void {\n    if (typeof localStorage === 'undefined') {\n        throw new TonConnectUIError(\n            'window.localStorage is undefined. localStorage is required for TonConnectUI'\n        );\n    }\n}\n\nexport function getWindow(): Window | undefined {\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n\n    return undefined;\n}\n\nexport function isMobileUserAgent(): boolean {\n    let check = false;\n    (function (a) {\n        if (\n            /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\n                a\n            ) ||\n            /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n                a.slice(0, 4)\n            )\n        )\n            check = true;\n    })(navigator.userAgent || navigator.vendor || (window as unknown as { opera: string }).opera);\n    return check;\n}\n\nexport function getUserAgent(): UserAgent {\n    const results = new UAParser().getResult();\n    const osName = results.os.name?.toLowerCase();\n    let os: UserAgent['os'];\n    switch (true) {\n        case osName === 'ios':\n            os = 'ios';\n            break;\n        case osName === 'android':\n            os = 'android';\n            break;\n        case osName === 'mac os':\n            os = 'macos';\n            break;\n        case osName === 'linux':\n            os = 'linux';\n            break;\n        case osName?.includes('windows'):\n            os = 'windows';\n            break;\n    }\n\n    const browserName = results.browser.name?.toLowerCase();\n    let browser: UserAgent['browser'] | undefined;\n    switch (true) {\n        case browserName === 'chrome':\n            browser = 'chrome';\n            break;\n        case browserName === 'firefox':\n            browser = 'firefox';\n            break;\n        case browserName?.includes('safari'):\n            browser = 'safari';\n            break;\n    }\n\n    return {\n        os,\n        browser\n    };\n}\n","import { getWindow } from 'src/app/utils/web-api';\n\nexport type Device = 'mobile' | 'tablet' | 'desktop';\n\nexport const maxWidth = {\n    mobile: 440,\n    tablet: 1020\n};\n\nexport function isDevice(device: keyof typeof maxWidth | 'desktop'): boolean {\n    const window = getWindow();\n    if (!window) {\n        return device === 'desktop';\n    }\n\n    const width = window.innerWidth;\n\n    switch (device) {\n        case 'desktop':\n            return width > maxWidth.tablet;\n        case 'tablet':\n            return width > maxWidth.mobile;\n        default:\n        case 'mobile':\n            return width <= maxWidth.mobile;\n    }\n}\n\nexport function media(device: Device): string {\n    switch (device) {\n        case 'mobile':\n            return `@media (max-width: ${maxWidth.mobile}px)`;\n        case 'tablet':\n            return `@media (max-width: ${maxWidth.tablet}px) (min-width: ${maxWidth.mobile}px)`;\n        default:\n        case 'desktop':\n            return `@media (min-width: ${maxWidth.tablet}px)`;\n    }\n}\n\nexport function mediaMin(px: number): string {\n    return `@media (min-width: ${px}px)`;\n}\n\nexport function mediaMax(px: number): string {\n    return `@media (max-width: ${px}px)`;\n}\n\nexport function mediaMinMax(pxMin: number, pxMax: number): string {\n    return `@media (min-width: ${pxMin}px) and (max-width: ${pxMax}px)`;\n}\n\nexport const mediaTouch = '@media (hover: none)';\n\nexport const mediaNotTouch = '@media not all and (hover: none)';\n","import { styled } from 'solid-styled-components';\nimport { rgba } from 'src/app/utils/css';\nimport { BorderRadiusConfig } from 'src/app/models/border-radius-config';\nimport { mediaNotTouch, mediaTouch } from 'src/app/styles/media';\n\nconst borders: BorderRadiusConfig = {\n    m: '100vh',\n    s: '8px',\n    none: '0'\n};\n\nconst scaleValues = {\n    s: 0.02,\n    m: 0.04\n};\n\nexport const ButtonStyled = styled.button<{ appearance: 'primary' | 'flat'; scale: 's' | 'm' }>`\n    background-color: ${props =>\n        props.appearance === 'flat' ? 'transparent' : rgba(props.theme!.colors.accent, 0.12)};\n    color: ${props => props.theme!.colors.accent};\n\n    padding: ${props => (props.appearance === 'flat' ? '0' : '9px 16px')};\n    border: none;\n    border-radius: ${props => borders[props.theme!.borderRadius]};\n    cursor: ${props => (props.disabled ? 'not-allowed' : 'pointer')};\n\n    font-size: 14px;\n    font-weight: 590;\n    line-height: 18px;\n\n    transition: transform 0.125s ease-in-out;\n\n    ${mediaNotTouch} {\n        &:hover {\n            transform: ${props =>\n                props.disabled ? 'unset' : `scale(${1 + scaleValues[props.scale]})`};\n        }\n    }\n\n    &:active {\n        transform: ${props =>\n            props.disabled ? 'unset' : `scale(${1 - scaleValues[props.scale]})`};\n    }\n\n    ${mediaTouch} {\n        &:active {\n            transform: ${props =>\n                props.disabled ? 'unset' : `scale(${1 - scaleValues[props.scale] * 2})`};\n        }\n    }\n`;\n","import { splitProps, untrack } from 'solid-js';\nimport { WithDataAttributes } from 'src/app/models/with-data-attributes';\n\nexport function useDataAttributes<T extends object>(props: T): WithDataAttributes {\n    const keys = untrack(() => Object.keys(props).filter(key => key.startsWith('data-')));\n    const [dataAttrs] = splitProps(props, keys as (keyof T)[]);\n    return dataAttrs;\n}\n","import { Component, JSXElement } from 'solid-js';\nimport { ButtonStyled } from 'src/app/components/button/style';\nimport { Styleable } from 'src/app/models/styleable';\nimport { WithDataAttributes } from 'src/app/models/with-data-attributes';\nimport { useDataAttributes } from 'src/app/hooks/use-data-attributes';\n\nexport interface ButtonProps extends Styleable, WithDataAttributes {\n    appearance?: 'primary' | 'flat';\n    scale?: 's' | 'm';\n    children: JSXElement;\n    onClick?: (e: MouseEvent & { currentTarget: HTMLButtonElement; target: Element }) => void;\n    onMouseEnter?: (e: MouseEvent & { currentTarget: HTMLButtonElement; target: Element }) => void;\n    onMouseLeave?: (e: MouseEvent & { currentTarget: HTMLButtonElement; target: Element }) => void;\n    disabled?: boolean;\n    ref?: HTMLButtonElement | ((el: HTMLButtonElement) => void) | undefined;\n}\n\nexport const Button: Component<ButtonProps> = props => {\n    const dataAttrs = useDataAttributes(props);\n\n    return (\n        <ButtonStyled\n            appearance={props.appearance || 'primary'}\n            class={props.class}\n            onClick={e => props.onClick?.(e)}\n            onMouseEnter={e => props.onMouseEnter?.(e)}\n            onMouseLeave={e => props.onMouseLeave?.(e)}\n            ref={props.ref}\n            disabled={props.disabled}\n            scale={props.scale || 'm'}\n            data-tc-button=\"true\"\n            {...dataAttrs}\n        >\n            {props.children}\n        </ButtonStyled>\n    );\n};\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import { createSignal, children, createMemo, createComputed, untrack, batch, createEffect } from 'solid-js';\n\nfunction nextFrame(fn) {\n  requestAnimationFrame(() => {\n    requestAnimationFrame(fn);\n  });\n}\n\nconst Transition = props => {\n  let el;\n  let first = true;\n  const [s1, set1] = createSignal();\n  const [s2, set2] = createSignal();\n  const resolved = children(() => props.children);\n  const {\n    onBeforeEnter,\n    onEnter,\n    onAfterEnter,\n    onBeforeExit,\n    onExit,\n    onAfterExit\n  } = props;\n  const classnames = createMemo(() => {\n    const name = props.name || \"s\";\n    return {\n      enterActiveClass: props.enterActiveClass || name + \"-enter-active\",\n      enterClass: props.enterClass || name + \"-enter\",\n      enterToClass: props.enterToClass || name + \"-enter-to\",\n      exitActiveClass: props.exitActiveClass || name + \"-exit-active\",\n      exitClass: props.exitClass || name + \"-exit\",\n      exitToClass: props.exitToClass || name + \"-exit-to\"\n    };\n  });\n\n  function enterTransition(el, prev) {\n    if (!first || props.appear) {\n      const enterClasses = classnames().enterClass.split(\" \");\n      const enterActiveClasses = classnames().enterActiveClass.split(\" \");\n      const enterToClasses = classnames().enterToClass.split(\" \");\n      onBeforeEnter && onBeforeEnter(el);\n      el.classList.add(...enterClasses);\n      el.classList.add(...enterActiveClasses);\n      nextFrame(() => {\n        el.classList.remove(...enterClasses);\n        el.classList.add(...enterToClasses);\n        onEnter && onEnter(el, () => endTransition());\n\n        if (!onEnter || onEnter.length < 2) {\n          el.addEventListener(\"transitionend\", endTransition);\n          el.addEventListener(\"animationend\", endTransition);\n        }\n      });\n\n      function endTransition(e) {\n        if (el && (!e || e.target === el)) {\n          el.removeEventListener(\"transitionend\", endTransition);\n          el.removeEventListener(\"animationend\", endTransition);\n          el.classList.remove(...enterActiveClasses);\n          el.classList.remove(...enterToClasses);\n          batch(() => {\n            s1() !== el && set1(el);\n            s2() === el && set2(undefined);\n          });\n          onAfterEnter && onAfterEnter(el);\n          if (props.mode === \"inout\") exitTransition(el, prev);\n        }\n      }\n    }\n\n    prev && !props.mode ? set2(el) : set1(el);\n  }\n\n  function exitTransition(el, prev) {\n    const exitClasses = classnames().exitClass.split(\" \");\n    const exitActiveClasses = classnames().exitActiveClass.split(\" \");\n    const exitToClasses = classnames().exitToClass.split(\" \");\n    if (!prev.parentNode) return endTransition();\n    onBeforeExit && onBeforeExit(prev);\n    prev.classList.add(...exitClasses);\n    prev.classList.add(...exitActiveClasses);\n    nextFrame(() => {\n      prev.classList.remove(...exitClasses);\n      prev.classList.add(...exitToClasses);\n    });\n    onExit && onExit(prev, () => endTransition());\n\n    if (!onExit || onExit.length < 2) {\n      prev.addEventListener(\"transitionend\", endTransition);\n      prev.addEventListener(\"animationend\", endTransition);\n    }\n\n    function endTransition(e) {\n      if (!e || e.target === prev) {\n        prev.removeEventListener(\"transitionend\", endTransition);\n        prev.removeEventListener(\"animationend\", endTransition);\n        prev.classList.remove(...exitActiveClasses);\n        prev.classList.remove(...exitToClasses);\n        s1() === prev && set1(undefined);\n        onAfterExit && onAfterExit(prev);\n        if (props.mode === \"outin\") enterTransition(el, prev);\n      }\n    }\n  }\n\n  createComputed(prev => {\n    el = resolved();\n\n    while (typeof el === \"function\") el = el();\n\n    return untrack(() => {\n      if (el && el !== prev) {\n        if (props.mode !== \"outin\") enterTransition(el, prev);else if (first) set1(el);\n      }\n\n      if (prev && prev !== el && props.mode !== \"inout\") exitTransition(el, prev);\n      first = false;\n      return el;\n    });\n  });\n  return [s1, s2];\n};\n\nfunction getRect(element) {\n  const {\n    top,\n    bottom,\n    left,\n    right,\n    width,\n    height\n  } = element.getBoundingClientRect();\n  const parentRect = element.parentNode.getBoundingClientRect();\n  return {\n    top: top - parentRect.top,\n    bottom,\n    left: left - parentRect.left,\n    right,\n    width,\n    height\n  };\n}\n\nconst TransitionGroup = props => {\n  const resolved = children(() => props.children);\n  const classnames = createMemo(() => {\n    const name = props.name || \"s\";\n    return {\n      enterActiveClass: props.enterActiveClass || name + \"-enter-active\",\n      enterClass: props.enterClass || name + \"-enter\",\n      enterToClass: props.enterToClass || name + \"-enter-to\",\n      exitActiveClass: props.exitActiveClass || name + \"-exit-active\",\n      exitClass: props.exitClass || name + \"-exit\",\n      exitToClass: props.exitToClass || name + \"-exit-to\",\n      moveClass: props.moveClass || name + \"-move\"\n    };\n  });\n  const {\n    onBeforeEnter,\n    onEnter,\n    onAfterEnter,\n    onBeforeExit,\n    onExit,\n    onAfterExit\n  } = props;\n  const [combined, setCombined] = createSignal();\n  let p = [];\n  let first = true;\n  createComputed(() => {\n    const c = resolved();\n    const comb = [...c];\n    const next = new Set(c);\n    const prev = new Set(p);\n    const enterClasses = classnames().enterClass.split(\" \");\n    const enterActiveClasses = classnames().enterActiveClass.split(\" \");\n    const enterToClasses = classnames().enterToClass.split(\" \");\n    const exitClasses = classnames().exitClass.split(\" \");\n    const exitActiveClasses = classnames().exitActiveClass.split(\" \");\n    const exitToClasses = classnames().exitToClass.split(\" \");\n\n    for (let i = 0; i < c.length; i++) {\n      const el = c[i];\n\n      if (!first && !prev.has(el)) {\n        onBeforeEnter && onBeforeEnter(el);\n        el.classList.add(...enterClasses);\n        el.classList.add(...enterActiveClasses);\n        nextFrame(() => {\n          el.classList.remove(...enterClasses);\n          el.classList.add(...enterToClasses);\n          onEnter && onEnter(el, () => endTransition());\n\n          if (!onEnter || onEnter.length < 2) {\n            el.addEventListener(\"transitionend\", endTransition);\n            el.addEventListener(\"animationend\", endTransition);\n          }\n        });\n\n        function endTransition(e) {\n          if (el && (!e || e.target === el)) {\n            el.removeEventListener(\"transitionend\", endTransition);\n            el.removeEventListener(\"animationend\", endTransition);\n            el.classList.remove(...enterActiveClasses);\n            el.classList.remove(...enterToClasses);\n            onAfterEnter && onAfterEnter(el);\n          }\n        }\n      }\n    }\n\n    for (let i = 0; i < p.length; i++) {\n      const old = p[i];\n\n      if (!next.has(old) && old.parentNode) {\n        comb.splice(i, 0, old);\n        onBeforeExit && onBeforeExit(old);\n        old.classList.add(...exitClasses);\n        old.classList.add(...exitActiveClasses);\n        nextFrame(() => {\n          old.classList.remove(...exitClasses);\n          old.classList.add(...exitToClasses);\n        });\n        onExit && onExit(old, () => endTransition());\n\n        if (!onExit || onExit.length < 2) {\n          old.addEventListener(\"transitionend\", endTransition);\n          old.addEventListener(\"animationend\", endTransition);\n        }\n\n        function endTransition(e) {\n          if (!e || e.target === old) {\n            old.removeEventListener(\"transitionend\", endTransition);\n            old.removeEventListener(\"animationend\", endTransition);\n            old.classList.remove(...exitActiveClasses);\n            old.classList.remove(...exitToClasses);\n            onAfterExit && onAfterExit(old);\n            p = p.filter(i => i !== old);\n            setCombined(p);\n          }\n        }\n      }\n    }\n\n    p = comb;\n    setCombined(comb);\n  });\n  createEffect(nodes => {\n    const c = combined();\n    c.forEach(child => {\n      let n;\n\n      if (!(n = nodes.get(child))) {\n        nodes.set(child, n = {\n          pos: getRect(child),\n          new: !first\n        });\n      } else if (n.new) {\n        n.new = false;\n        n.newPos = getRect(child);\n      }\n\n      if (n.new) {\n        child.addEventListener(\"transitionend\", () => {\n          n.new = false;\n          child.parentNode && (n.newPos = getRect(child));\n        }, {\n          once: true\n        });\n      }\n\n      n.newPos && (n.pos = n.newPos);\n      n.newPos = getRect(child);\n    });\n\n    if (first) {\n      first = false;\n      return nodes;\n    }\n\n    c.forEach(child => {\n      const c = nodes.get(child);\n      const oldPos = c.pos;\n      const newPos = c.newPos;\n      const dx = oldPos.left - newPos.left;\n      const dy = oldPos.top - newPos.top;\n\n      if (dx || dy) {\n        c.moved = true;\n        const s = child.style;\n        s.transform = `translate(${dx}px,${dy}px)`;\n        s.transitionDuration = \"0s\";\n      }\n    });\n    document.body.offsetHeight;\n    c.forEach(child => {\n      const c = nodes.get(child);\n\n      if (c.moved) {\n        c.moved = false;\n        const s = child.style;\n        const moveClasses = classnames().moveClass.split(\" \");\n        child.classList.add(...moveClasses);\n        s.transform = s.transitionDuration = \"\";\n\n        function endTransition(e) {\n          if (e && e.target !== child || !child.parentNode) return;\n\n          if (!e || /transform$/.test(e.propertyName)) {\n            child.removeEventListener(\"transitionend\", endTransition);\n            child.classList.remove(...moveClasses);\n          }\n        }\n\n        child.addEventListener(\"transitionend\", endTransition);\n      }\n    });\n    return nodes;\n  }, new Map());\n  return combined;\n};\n\nexport { Transition, TransitionGroup };\n","import type { Property } from 'csstype';\nimport { Component } from 'solid-js';\nimport { styled, useTheme } from 'solid-styled-components';\n\ninterface ArrowIconProps {\n    fill?: Property.Color;\n    direction?: 'left' | 'right' | 'top' | 'bottom';\n}\n\nconst rotationDegrees = {\n    left: 0,\n    top: 90,\n    right: 180,\n    bottom: 270\n};\n\nexport const ArrowIcon: Component<ArrowIconProps> = props => {\n    const theme = useTheme();\n    const fill = (): Property.Color => props.fill || theme.colors.icon.secondary;\n    const direction = (): 'left' | 'right' | 'top' | 'bottom' => props.direction || 'left';\n\n    const Svg = styled('svg')<{ svgDirection: 'left' | 'right' | 'top' | 'bottom' }>`\n        transform: rotate(${props => rotationDegrees[props.svgDirection]}deg);\n        transition: transform 0.1s ease-in-out;\n    `;\n\n    return (\n        <Svg\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 16 16\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n            svgDirection={direction()}\n        >\n            <path\n                d=\"M9.1 3.40012L5.5 8.0001L9.1 12.6001\"\n                stroke={fill()}\n                stroke-width=\"1.8\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n            />\n        </Svg>\n    );\n};\n","import type { Property } from 'csstype';\nimport { Component } from 'solid-js';\nimport { useTheme } from 'solid-styled-components';\n\ninterface CloseIconProps {\n    fill?: Property.Color;\n}\n\nexport const CloseIcon: Component<CloseIconProps> = props => {\n    const theme = useTheme();\n    const fill = (): string => props.fill || theme.colors.icon.secondary;\n\n    return (\n        <svg\n            width=\"16\"\n            height=\"16\"\n            viewBox=\"0 0 16 16\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n        >\n            <path\n                d=\"M3.90003 3.89991L8.00002 7.9999M8.00002 7.9999L12.1 12.0999M8.00002 7.9999L12.1 3.8999M8.00002 7.9999L3.90002 12.0999\"\n                stroke={fill()}\n                stroke-width=\"1.8\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n            />\n        </svg>\n    );\n};\n","import { styled } from 'solid-styled-components';\nimport { mediaNotTouch, mediaTouch } from 'src/app/styles/media';\n\nexport const IconButtonStyled = styled.button`\n    padding: 0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 32px;\n    height: 32px;\n    border-radius: 50%;\n    background-color: ${props => props.theme!.colors.background.secondary};\n    border: none;\n    cursor: pointer;\n\n    transition: transform 0.125s ease-in-out;\n\n    ${mediaNotTouch} {\n        &:hover {\n            transform: scale(1.04);\n        }\n    }\n\n    &:active {\n        transform: scale(0.96);\n    }\n\n    ${mediaTouch} {\n        &:active {\n            transform: scale(0.92);\n        }\n    }\n`;\n","import { Property } from 'csstype';\nimport { Component, JSXElement, Match, Show, Switch } from 'solid-js';\nimport { ArrowIcon } from 'src/app/components/icons/arrow-icon';\nimport { CloseIcon } from 'src/app/components/icons/close-icon';\nimport { Styleable } from 'src/app/models/styleable';\nimport { IconButtonStyled } from './style';\nimport { WithDataAttributes } from 'src/app/models/with-data-attributes';\nimport { useDataAttributes } from 'src/app/hooks/use-data-attributes';\n\nexport interface IconButtonProps extends Styleable, WithDataAttributes {\n    fill?: Property.Color;\n    children?: JSXElement;\n    icon?: 'close' | 'arrow';\n    onClick: () => void;\n}\n\nexport const IconButton: Component<IconButtonProps> = props => {\n    const dataAttrs = useDataAttributes(props);\n    const icon = (): 'close' | 'arrow' => props.icon || 'close';\n    return (\n        <IconButtonStyled\n            class={props.class}\n            onClick={() => props.onClick()}\n            data-tc-icon-button=\"true\"\n            {...dataAttrs}\n        >\n            <Show when={!!props.children}>{props.children}</Show>\n            <Show when={!props.children}>\n                <Switch>\n                    <Match when={icon() === 'close'}>\n                        <CloseIcon fill={props.fill} />\n                    </Match>\n                    <Match when={icon() === 'arrow'}>\n                        <ArrowIcon fill={props.fill} />\n                    </Match>\n                </Switch>\n            </Show>\n        </IconButtonStyled>\n    );\n};\n","import { css, styled } from 'solid-styled-components';\nimport { IconButton } from 'src/app/components/icon-button';\nimport { maxWidth, media } from 'src/app/styles/media';\n\nexport const ModalBackgroundStyled = styled.div`\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    position: fixed;\n    z-index: 1000;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.4);\n\n    ${media('mobile')} {\n        align-items: flex-end;\n    }\n\n    @media (min-width: ${maxWidth.mobile.toString()}px) and (max-height: 600px) {\n        padding: 48px 0;\n        align-items: flex-start;\n        overflow: scroll;\n    }\n`;\n\nexport const ModalWrapperClass = css`\n    position: relative;\n    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.08), 0 16px 64px rgba(0, 0, 0, 0.16);\n    min-height: 100px;\n    width: 440px;\n    padding: 44px 56px 24px;\n\n    ${media('mobile')} {\n        width: 100%;\n    }\n`;\n\nexport const CloseButtonStyled = styled(IconButton)`\n    position: absolute;\n    right: 16px;\n    top: 16px;\n`;\n","import cn from 'classnames';\nimport { Component, createEffect, JSXElement, Show } from 'solid-js';\nimport { Transition } from 'solid-transition-group';\nimport clickOutsideDirective from 'src/app/directives/click-outside';\nimport keyPressedDirective from 'src/app/directives/key-pressed';\nimport { Styleable } from 'src/app/models/styleable';\nimport { isDevice, media } from 'src/app/styles/media';\nimport { CloseButtonStyled, ModalBackgroundStyled, ModalWrapperClass } from './style';\nimport { css, useTheme } from 'solid-styled-components';\nimport { BorderRadiusConfig } from 'src/app/models/border-radius-config';\nimport { disableScroll, enableScroll } from 'src/app/utils/web-api';\nimport { WithDataAttributes } from 'src/app/models/with-data-attributes';\nimport { useDataAttributes } from 'src/app/hooks/use-data-attributes';\nconst clickOutside = clickOutsideDirective;\nconst keyPressed = keyPressedDirective;\n\nconst borders: BorderRadiusConfig = {\n    m: '24px',\n    s: '16px',\n    none: '0'\n};\n\nexport interface ModalProps extends Styleable, WithDataAttributes {\n    children: JSXElement;\n    opened: boolean;\n    onClose: () => void;\n}\n\nexport const Modal: Component<ModalProps> = props => {\n    const theme = useTheme();\n    const dataAttrs = useDataAttributes(props);\n\n    createEffect(() => {\n        if (props.opened) {\n            disableScroll();\n        } else {\n            enableScroll();\n        }\n    });\n\n    return (\n        <Transition\n            onBeforeEnter={el => {\n                const duration = isDevice('mobile') ? 200 : 100;\n\n                el.animate([{ opacity: 0 }, { opacity: 1 }], {\n                    duration\n                });\n\n                if (isDevice('mobile')) {\n                    el.firstElementChild!.animate(\n                        [{ transform: 'translateY(390px)' }, { transform: 'translateY(0)' }],\n                        {\n                            duration\n                        }\n                    );\n                }\n            }}\n            onExit={(el, done) => {\n                const duration = isDevice('mobile') ? 200 : 100;\n\n                const backgroundAnimation = el.animate([{ opacity: 1 }, { opacity: 0 }], {\n                    duration\n                });\n\n                if (isDevice('mobile')) {\n                    const contentAnimation = el.firstElementChild!.animate(\n                        [{ transform: 'translateY(0)' }, { transform: 'translateY(390px)' }],\n                        {\n                            duration\n                        }\n                    );\n\n                    Promise.all([backgroundAnimation.finished, contentAnimation.finished]).then(\n                        done\n                    );\n                } else {\n                    backgroundAnimation.finished.then(done);\n                }\n            }}\n        >\n            <Show when={props.opened}>\n                <ModalBackgroundStyled data-tc-modal=\"true\" {...dataAttrs}>\n                    <div\n                        class={cn(\n                            ModalWrapperClass,\n                            props.class,\n                            css`\n                                background-color: ${theme.colors.background.primary};\n                                border-radius: ${borders[theme.borderRadius]};\n\n                                ${media('mobile')} {\n                                    border-radius: ${borders[theme.borderRadius]}\n                                        ${borders[theme.borderRadius]} 0 0;\n                                }\n                            `\n                        )}\n                        use:clickOutside={() => props.onClose()}\n                        use:keyPressed={() => props.onClose()}\n                    >\n                        <CloseButtonStyled icon=\"close\" onClick={() => props.onClose()} />\n                        {props.children}\n                    </div>\n                </ModalBackgroundStyled>\n            </Show>\n        </Transition>\n    );\n};\n","import { Accessor, onCleanup } from 'solid-js';\n\nexport default function clickOutside(el: Element, accessor: Accessor<() => void>): void {\n    const onClick = (e: Event): void | boolean => !el.contains(e.target as Node) && accessor()?.();\n    document.body.addEventListener('click', onClick);\n\n    onCleanup(() => document.body.removeEventListener('click', onClick));\n}\n\ndeclare module 'solid-js' {\n    namespace JSX {\n        interface Directives {\n            clickOutside: () => void;\n        }\n    }\n}\n","import { Accessor, onCleanup } from 'solid-js';\n\nexport default function escPressed(_: Element, accessor: Accessor<() => void>): void {\n    const onKeyPress = (e: Event): void | boolean => {\n        if ((e as KeyboardEvent).key === 'Escape') {\n            (document.activeElement as HTMLElement)?.blur();\n            accessor()?.();\n        }\n    };\n    document.body.addEventListener('keydown', onKeyPress);\n\n    onCleanup(() => document.body.removeEventListener('keydown', onKeyPress));\n}\n\ndeclare module 'solid-js' {\n    namespace JSX {\n        interface Directives {\n            keyPressed: () => void;\n        }\n    }\n}\n","import { styled } from 'solid-styled-components';\nimport { BorderRadiusConfig } from 'src/app/models/border-radius-config';\n\nconst wrapperBorderRadius: BorderRadiusConfig = {\n    m: '22px',\n    s: '12px',\n    none: '0'\n};\n\nconst sliderBorderRadius: BorderRadiusConfig = {\n    m: '18px',\n    s: '8px',\n    none: '0'\n};\n\nexport const TabBarStyled = styled.div`\n    display: grid;\n    grid-template: 1fr / 1fr 1fr;\n    width: fit-content;\n    justify-items: center;\n    gap: 4px;\n\n    position: relative;\n    padding: 4px;\n    border-radius: ${props => wrapperBorderRadius[props.theme!.borderRadius]};\n\n    background-color: ${props => props.theme!.colors.background.secondary};\n`;\n\nexport const SliderStyled = styled.div<{ right: boolean }>`\n    position: absolute;\n    top: 4px;\n    left: 4px;\n\n    height: calc(100% - 8px);\n    width: calc(50% - 4px);\n\n    border-radius: ${props => sliderBorderRadius[props.theme!.borderRadius]};\n    background-color: ${props => props.theme!.colors.background.segment};\n\n    transform: ${props => (props.right ? 'translateX(100%)' : 'translateX(0)')};\n\n    transition: transform 0.13s ease-in-out;\n`;\n\nexport const InputStyled = styled.input`\n    display: none;\n`;\n\nexport const LabelStyled = styled.label<{ isActive: boolean }>`\n    padding: 9px 12px;\n    z-index: 1;\n\n    cursor: ${props => (props.isActive ? 'default' : 'pointer')};\n\n    transition: transform 0.13s ease-in-out;\n\n    &:hover {\n        transform: ${props => (props.isActive ? 'none' : 'scale(1.025)')};\n    }\n\n    > * {\n        ${props => (!props.isActive ? `color: ${props.theme!.colors.text.secondary};` : '')}\n    }\n`;\n","import { styled } from 'solid-styled-components';\nimport { Button, Image } from 'src/app/components';\nimport { BorderRadiusConfig } from 'src/app/models/border-radius-config';\nimport { toPx } from 'src/app/utils/css';\n\nconst borders: BorderRadiusConfig = {\n    m: '16px',\n    s: '8px',\n    none: '0'\n};\n\nexport const qrNormalSize = 256;\nexport const imgSizeDefault = 60;\n\nexport const picSizeDefault = 48;\n\nconst qrPaddingTop = 24;\n\nexport const QrCodeBackground = styled.div`\n    display: flex;\n    align-items: center;\n    position: relative;\n    background-color: ${props => props.theme!.colors.background.secondary};\n    border-radius: ${props => borders[props.theme!.borderRadius]};\n    padding: ${toPx(qrPaddingTop)} 0;\n    height: ${toPx(qrNormalSize + qrPaddingTop * 2)};\n    width: 100%;\n\n    overflow: hidden;\n`;\n\nexport const QrCodeWrapper = styled.div`\n    position: relative;\n\n    width: fit-content;\n    margin: 0 auto;\n\n    > div:first-child {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n\n    rect {\n        fill: transparent;\n    }\n\n    path {\n        fill: ${props => props.theme!.colors.text.primary};\n    }\n`;\n\nexport const ImageBackground = styled.div`\n    position: absolute;\n    width: ${toPx(imgSizeDefault)};\n    height: ${toPx(imgSizeDefault)};\n    background: ${props => props.theme!.colors.background.secondary};\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\n\nexport const ImageStyled = styled(Image)<{ size: number }>`\n    width: ${props => toPx(props.size)};\n    height: ${props => toPx(props.size)};\n    border-radius: 12px;\n`;\n\nexport const CopyButtonStyled = styled(Button)`\n    filter: drop-shadow(0px 2px 8px rgba(0, 0, 0, 0.08));\n    position: absolute;\n    bottom: 14px;\n    left: 50%;\n\n    transform: translate(-50%, 0);\n\n    background-color: ${props => props.theme!.colors.background.segment};\n    color: ${props => props.theme!.colors.text.primary};\n\n    &:hover {\n        transform: translate(-50%, 0) scale(1.04);\n    }\n\n    &:active {\n        transform: translate(-50%, 0) scale(0.96);\n    }\n`;\n","//---------------------------------------------------------------------\n//\n// QR Code Generator for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//  http://www.opensource.org/licenses/mit-license.php\n//\n// The word 'QR Code' is registered trademark of\n// DENSO WAVE INCORPORATED\n//  http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n\nvar qrcode = function() {\n\n  //---------------------------------------------------------------------\n  // qrcode\n  //---------------------------------------------------------------------\n\n  /**\n   * qrcode\n   * @param typeNumber 1 to 40\n   * @param errorCorrectionLevel 'L','M','Q','H'\n   */\n  var qrcode = function(typeNumber, errorCorrectionLevel) {\n\n    var PAD0 = 0xEC;\n    var PAD1 = 0x11;\n\n    var _typeNumber = typeNumber;\n    var _errorCorrectionLevel = QRErrorCorrectionLevel[errorCorrectionLevel];\n    var _modules = null;\n    var _moduleCount = 0;\n    var _dataCache = null;\n    var _dataList = [];\n\n    var _this = {};\n\n    var makeImpl = function(test, maskPattern) {\n\n      _moduleCount = _typeNumber * 4 + 17;\n      _modules = function(moduleCount) {\n        var modules = new Array(moduleCount);\n        for (var row = 0; row < moduleCount; row += 1) {\n          modules[row] = new Array(moduleCount);\n          for (var col = 0; col < moduleCount; col += 1) {\n            modules[row][col] = null;\n          }\n        }\n        return modules;\n      }(_moduleCount);\n\n      setupPositionProbePattern(0, 0);\n      setupPositionProbePattern(_moduleCount - 7, 0);\n      setupPositionProbePattern(0, _moduleCount - 7);\n      setupPositionAdjustPattern();\n      setupTimingPattern();\n      setupTypeInfo(test, maskPattern);\n\n      if (_typeNumber >= 7) {\n        setupTypeNumber(test);\n      }\n\n      if (_dataCache == null) {\n        _dataCache = createData(_typeNumber, _errorCorrectionLevel, _dataList);\n      }\n\n      mapData(_dataCache, maskPattern);\n    };\n\n    var setupPositionProbePattern = function(row, col) {\n\n      for (var r = -1; r <= 7; r += 1) {\n\n        if (row + r <= -1 || _moduleCount <= row + r) continue;\n\n        for (var c = -1; c <= 7; c += 1) {\n\n          if (col + c <= -1 || _moduleCount <= col + c) continue;\n\n          if ( (0 <= r && r <= 6 && (c == 0 || c == 6) )\n              || (0 <= c && c <= 6 && (r == 0 || r == 6) )\n              || (2 <= r && r <= 4 && 2 <= c && c <= 4) ) {\n            _modules[row + r][col + c] = true;\n          } else {\n            _modules[row + r][col + c] = false;\n          }\n        }\n      }\n    };\n\n    var getBestMaskPattern = function() {\n\n      var minLostPoint = 0;\n      var pattern = 0;\n\n      for (var i = 0; i < 8; i += 1) {\n\n        makeImpl(true, i);\n\n        var lostPoint = QRUtil.getLostPoint(_this);\n\n        if (i == 0 || minLostPoint > lostPoint) {\n          minLostPoint = lostPoint;\n          pattern = i;\n        }\n      }\n\n      return pattern;\n    };\n\n    var setupTimingPattern = function() {\n\n      for (var r = 8; r < _moduleCount - 8; r += 1) {\n        if (_modules[r][6] != null) {\n          continue;\n        }\n        _modules[r][6] = (r % 2 == 0);\n      }\n\n      for (var c = 8; c < _moduleCount - 8; c += 1) {\n        if (_modules[6][c] != null) {\n          continue;\n        }\n        _modules[6][c] = (c % 2 == 0);\n      }\n    };\n\n    var setupPositionAdjustPattern = function() {\n\n      var pos = QRUtil.getPatternPosition(_typeNumber);\n\n      for (var i = 0; i < pos.length; i += 1) {\n\n        for (var j = 0; j < pos.length; j += 1) {\n\n          var row = pos[i];\n          var col = pos[j];\n\n          if (_modules[row][col] != null) {\n            continue;\n          }\n\n          for (var r = -2; r <= 2; r += 1) {\n\n            for (var c = -2; c <= 2; c += 1) {\n\n              if (r == -2 || r == 2 || c == -2 || c == 2\n                  || (r == 0 && c == 0) ) {\n                _modules[row + r][col + c] = true;\n              } else {\n                _modules[row + r][col + c] = false;\n              }\n            }\n          }\n        }\n      }\n    };\n\n    var setupTypeNumber = function(test) {\n\n      var bits = QRUtil.getBCHTypeNumber(_typeNumber);\n\n      for (var i = 0; i < 18; i += 1) {\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n        _modules[Math.floor(i / 3)][i % 3 + _moduleCount - 8 - 3] = mod;\n      }\n\n      for (var i = 0; i < 18; i += 1) {\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n        _modules[i % 3 + _moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n      }\n    };\n\n    var setupTypeInfo = function(test, maskPattern) {\n\n      var data = (_errorCorrectionLevel << 3) | maskPattern;\n      var bits = QRUtil.getBCHTypeInfo(data);\n\n      // vertical\n      for (var i = 0; i < 15; i += 1) {\n\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n\n        if (i < 6) {\n          _modules[i][8] = mod;\n        } else if (i < 8) {\n          _modules[i + 1][8] = mod;\n        } else {\n          _modules[_moduleCount - 15 + i][8] = mod;\n        }\n      }\n\n      // horizontal\n      for (var i = 0; i < 15; i += 1) {\n\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n\n        if (i < 8) {\n          _modules[8][_moduleCount - i - 1] = mod;\n        } else if (i < 9) {\n          _modules[8][15 - i - 1 + 1] = mod;\n        } else {\n          _modules[8][15 - i - 1] = mod;\n        }\n      }\n\n      // fixed module\n      _modules[_moduleCount - 8][8] = (!test);\n    };\n\n    var mapData = function(data, maskPattern) {\n\n      var inc = -1;\n      var row = _moduleCount - 1;\n      var bitIndex = 7;\n      var byteIndex = 0;\n      var maskFunc = QRUtil.getMaskFunction(maskPattern);\n\n      for (var col = _moduleCount - 1; col > 0; col -= 2) {\n\n        if (col == 6) col -= 1;\n\n        while (true) {\n\n          for (var c = 0; c < 2; c += 1) {\n\n            if (_modules[row][col - c] == null) {\n\n              var dark = false;\n\n              if (byteIndex < data.length) {\n                dark = ( ( (data[byteIndex] >>> bitIndex) & 1) == 1);\n              }\n\n              var mask = maskFunc(row, col - c);\n\n              if (mask) {\n                dark = !dark;\n              }\n\n              _modules[row][col - c] = dark;\n              bitIndex -= 1;\n\n              if (bitIndex == -1) {\n                byteIndex += 1;\n                bitIndex = 7;\n              }\n            }\n          }\n\n          row += inc;\n\n          if (row < 0 || _moduleCount <= row) {\n            row -= inc;\n            inc = -inc;\n            break;\n          }\n        }\n      }\n    };\n\n    var createBytes = function(buffer, rsBlocks) {\n\n      var offset = 0;\n\n      var maxDcCount = 0;\n      var maxEcCount = 0;\n\n      var dcdata = new Array(rsBlocks.length);\n      var ecdata = new Array(rsBlocks.length);\n\n      for (var r = 0; r < rsBlocks.length; r += 1) {\n\n        var dcCount = rsBlocks[r].dataCount;\n        var ecCount = rsBlocks[r].totalCount - dcCount;\n\n        maxDcCount = Math.max(maxDcCount, dcCount);\n        maxEcCount = Math.max(maxEcCount, ecCount);\n\n        dcdata[r] = new Array(dcCount);\n\n        for (var i = 0; i < dcdata[r].length; i += 1) {\n          dcdata[r][i] = 0xff & buffer.getBuffer()[i + offset];\n        }\n        offset += dcCount;\n\n        var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n        var rawPoly = qrPolynomial(dcdata[r], rsPoly.getLength() - 1);\n\n        var modPoly = rawPoly.mod(rsPoly);\n        ecdata[r] = new Array(rsPoly.getLength() - 1);\n        for (var i = 0; i < ecdata[r].length; i += 1) {\n          var modIndex = i + modPoly.getLength() - ecdata[r].length;\n          ecdata[r][i] = (modIndex >= 0)? modPoly.getAt(modIndex) : 0;\n        }\n      }\n\n      var totalCodeCount = 0;\n      for (var i = 0; i < rsBlocks.length; i += 1) {\n        totalCodeCount += rsBlocks[i].totalCount;\n      }\n\n      var data = new Array(totalCodeCount);\n      var index = 0;\n\n      for (var i = 0; i < maxDcCount; i += 1) {\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          if (i < dcdata[r].length) {\n            data[index] = dcdata[r][i];\n            index += 1;\n          }\n        }\n      }\n\n      for (var i = 0; i < maxEcCount; i += 1) {\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          if (i < ecdata[r].length) {\n            data[index] = ecdata[r][i];\n            index += 1;\n          }\n        }\n      }\n\n      return data;\n    };\n\n    var createData = function(typeNumber, errorCorrectionLevel, dataList) {\n\n      var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectionLevel);\n\n      var buffer = qrBitBuffer();\n\n      for (var i = 0; i < dataList.length; i += 1) {\n        var data = dataList[i];\n        buffer.put(data.getMode(), 4);\n        buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n        data.write(buffer);\n      }\n\n      // calc num max data.\n      var totalDataCount = 0;\n      for (var i = 0; i < rsBlocks.length; i += 1) {\n        totalDataCount += rsBlocks[i].dataCount;\n      }\n\n      if (buffer.getLengthInBits() > totalDataCount * 8) {\n        throw 'code length overflow. ('\n          + buffer.getLengthInBits()\n          + '>'\n          + totalDataCount * 8\n          + ')';\n      }\n\n      // end code\n      if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n        buffer.put(0, 4);\n      }\n\n      // padding\n      while (buffer.getLengthInBits() % 8 != 0) {\n        buffer.putBit(false);\n      }\n\n      // padding\n      while (true) {\n\n        if (buffer.getLengthInBits() >= totalDataCount * 8) {\n          break;\n        }\n        buffer.put(PAD0, 8);\n\n        if (buffer.getLengthInBits() >= totalDataCount * 8) {\n          break;\n        }\n        buffer.put(PAD1, 8);\n      }\n\n      return createBytes(buffer, rsBlocks);\n    };\n\n    _this.addData = function(data, mode) {\n\n      mode = mode || 'Byte';\n\n      var newData = null;\n\n      switch(mode) {\n      case 'Numeric' :\n        newData = qrNumber(data);\n        break;\n      case 'Alphanumeric' :\n        newData = qrAlphaNum(data);\n        break;\n      case 'Byte' :\n        newData = qr8BitByte(data);\n        break;\n      case 'Kanji' :\n        newData = qrKanji(data);\n        break;\n      default :\n        throw 'mode:' + mode;\n      }\n\n      _dataList.push(newData);\n      _dataCache = null;\n    };\n\n    _this.isDark = function(row, col) {\n      if (row < 0 || _moduleCount <= row || col < 0 || _moduleCount <= col) {\n        throw row + ',' + col;\n      }\n      return _modules[row][col];\n    };\n\n    _this.getModuleCount = function() {\n      return _moduleCount;\n    };\n\n    _this.make = function() {\n      if (_typeNumber < 1) {\n        var typeNumber = 1;\n\n        for (; typeNumber < 40; typeNumber++) {\n          var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, _errorCorrectionLevel);\n          var buffer = qrBitBuffer();\n\n          for (var i = 0; i < _dataList.length; i++) {\n            var data = _dataList[i];\n            buffer.put(data.getMode(), 4);\n            buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n            data.write(buffer);\n          }\n\n          var totalDataCount = 0;\n          for (var i = 0; i < rsBlocks.length; i++) {\n            totalDataCount += rsBlocks[i].dataCount;\n          }\n\n          if (buffer.getLengthInBits() <= totalDataCount * 8) {\n            break;\n          }\n        }\n\n        _typeNumber = typeNumber;\n      }\n\n      makeImpl(false, getBestMaskPattern() );\n    };\n\n    _this.createTableTag = function(cellSize, margin) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var qrHtml = '';\n\n      qrHtml += '<table style=\"';\n      qrHtml += ' border-width: 0px; border-style: none;';\n      qrHtml += ' border-collapse: collapse;';\n      qrHtml += ' padding: 0px; margin: ' + margin + 'px;';\n      qrHtml += '\">';\n      qrHtml += '<tbody>';\n\n      for (var r = 0; r < _this.getModuleCount(); r += 1) {\n\n        qrHtml += '<tr>';\n\n        for (var c = 0; c < _this.getModuleCount(); c += 1) {\n          qrHtml += '<td style=\"';\n          qrHtml += ' border-width: 0px; border-style: none;';\n          qrHtml += ' border-collapse: collapse;';\n          qrHtml += ' padding: 0px; margin: 0px;';\n          qrHtml += ' width: ' + cellSize + 'px;';\n          qrHtml += ' height: ' + cellSize + 'px;';\n          qrHtml += ' background-color: ';\n          qrHtml += _this.isDark(r, c)? '#000000' : '#ffffff';\n          qrHtml += ';';\n          qrHtml += '\"/>';\n        }\n\n        qrHtml += '</tr>';\n      }\n\n      qrHtml += '</tbody>';\n      qrHtml += '</table>';\n\n      return qrHtml;\n    };\n\n    _this.createSvgTag = function(cellSize, margin, alt, title) {\n\n      var opts = {};\n      if (typeof arguments[0] == 'object') {\n        // Called by options.\n        opts = arguments[0];\n        // overwrite cellSize and margin.\n        cellSize = opts.cellSize;\n        margin = opts.margin;\n        alt = opts.alt;\n        title = opts.title;\n      }\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      // Compose alt property surrogate\n      alt = (typeof alt === 'string') ? {text: alt} : alt || {};\n      alt.text = alt.text || null;\n      alt.id = (alt.text) ? alt.id || 'qrcode-description' : null;\n\n      // Compose title property surrogate\n      title = (typeof title === 'string') ? {text: title} : title || {};\n      title.text = title.text || null;\n      title.id = (title.text) ? title.id || 'qrcode-title' : null;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var c, mc, r, mr, qrSvg='', rect;\n\n      rect = 'l' + cellSize + ',0 0,' + cellSize +\n        ' -' + cellSize + ',0 0,-' + cellSize + 'z ';\n\n      qrSvg += '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"';\n      qrSvg += !opts.scalable ? ' width=\"' + size + 'px\" height=\"' + size + 'px\"' : '';\n      qrSvg += ' viewBox=\"0 0 ' + size + ' ' + size + '\" ';\n      qrSvg += ' preserveAspectRatio=\"xMinYMin meet\"';\n      qrSvg += (title.text || alt.text) ? ' role=\"img\" aria-labelledby=\"' +\n          escapeXml([title.id, alt.id].join(' ').trim() ) + '\"' : '';\n      qrSvg += '>';\n      qrSvg += (title.text) ? '<title id=\"' + escapeXml(title.id) + '\">' +\n          escapeXml(title.text) + '</title>' : '';\n      qrSvg += (alt.text) ? '<description id=\"' + escapeXml(alt.id) + '\">' +\n          escapeXml(alt.text) + '</description>' : '';\n      qrSvg += '<rect width=\"100%\" height=\"100%\" fill=\"white\" cx=\"0\" cy=\"0\"/>';\n      qrSvg += '<path d=\"';\n\n      for (r = 0; r < _this.getModuleCount(); r += 1) {\n        mr = r * cellSize + margin;\n        for (c = 0; c < _this.getModuleCount(); c += 1) {\n          if (_this.isDark(r, c) ) {\n            mc = c*cellSize+margin;\n            qrSvg += 'M' + mc + ',' + mr + rect;\n          }\n        }\n      }\n\n      qrSvg += '\" stroke=\"transparent\" fill=\"black\"/>';\n      qrSvg += '</svg>';\n\n      return qrSvg;\n    };\n\n    _this.createDataURL = function(cellSize, margin) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      return createDataURL(size, size, function(x, y) {\n        if (min <= x && x < max && min <= y && y < max) {\n          var c = Math.floor( (x - min) / cellSize);\n          var r = Math.floor( (y - min) / cellSize);\n          return _this.isDark(r, c)? 0 : 1;\n        } else {\n          return 1;\n        }\n      } );\n    };\n\n    _this.createImgTag = function(cellSize, margin, alt) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n\n      var img = '';\n      img += '<img';\n      img += '\\u0020src=\"';\n      img += _this.createDataURL(cellSize, margin);\n      img += '\"';\n      img += '\\u0020width=\"';\n      img += size;\n      img += '\"';\n      img += '\\u0020height=\"';\n      img += size;\n      img += '\"';\n      if (alt) {\n        img += '\\u0020alt=\"';\n        img += escapeXml(alt);\n        img += '\"';\n      }\n      img += '/>';\n\n      return img;\n    };\n\n    var escapeXml = function(s) {\n      var escaped = '';\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charAt(i);\n        switch(c) {\n        case '<': escaped += '&lt;'; break;\n        case '>': escaped += '&gt;'; break;\n        case '&': escaped += '&amp;'; break;\n        case '\"': escaped += '&quot;'; break;\n        default : escaped += c; break;\n        }\n      }\n      return escaped;\n    };\n\n    var _createHalfASCII = function(margin) {\n      var cellSize = 1;\n      margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      var y, x, r1, r2, p;\n\n      var blocks = {\n        '██': '█',\n        '█ ': '▀',\n        ' █': '▄',\n        '  ': ' '\n      };\n\n      var blocksLastLineNoMargin = {\n        '██': '▀',\n        '█ ': '▀',\n        ' █': ' ',\n        '  ': ' '\n      };\n\n      var ascii = '';\n      for (y = 0; y < size; y += 2) {\n        r1 = Math.floor((y - min) / cellSize);\n        r2 = Math.floor((y + 1 - min) / cellSize);\n        for (x = 0; x < size; x += 1) {\n          p = '█';\n\n          if (min <= x && x < max && min <= y && y < max && _this.isDark(r1, Math.floor((x - min) / cellSize))) {\n            p = ' ';\n          }\n\n          if (min <= x && x < max && min <= y+1 && y+1 < max && _this.isDark(r2, Math.floor((x - min) / cellSize))) {\n            p += ' ';\n          }\n          else {\n            p += '█';\n          }\n\n          // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n          ascii += (margin < 1 && y+1 >= max) ? blocksLastLineNoMargin[p] : blocks[p];\n        }\n\n        ascii += '\\n';\n      }\n\n      if (size % 2 && margin > 0) {\n        return ascii.substring(0, ascii.length - size - 1) + Array(size+1).join('▀');\n      }\n\n      return ascii.substring(0, ascii.length-1);\n    };\n\n    _this.createASCII = function(cellSize, margin) {\n      cellSize = cellSize || 1;\n\n      if (cellSize < 2) {\n        return _createHalfASCII(margin);\n      }\n\n      cellSize -= 1;\n      margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      var y, x, r, p;\n\n      var white = Array(cellSize+1).join('██');\n      var black = Array(cellSize+1).join('  ');\n\n      var ascii = '';\n      var line = '';\n      for (y = 0; y < size; y += 1) {\n        r = Math.floor( (y - min) / cellSize);\n        line = '';\n        for (x = 0; x < size; x += 1) {\n          p = 1;\n\n          if (min <= x && x < max && min <= y && y < max && _this.isDark(r, Math.floor((x - min) / cellSize))) {\n            p = 0;\n          }\n\n          // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n          line += p ? white : black;\n        }\n\n        for (r = 0; r < cellSize; r += 1) {\n          ascii += line + '\\n';\n        }\n      }\n\n      return ascii.substring(0, ascii.length-1);\n    };\n\n    _this.renderTo2dContext = function(context, cellSize) {\n      cellSize = cellSize || 2;\n      var length = _this.getModuleCount();\n      for (var row = 0; row < length; row++) {\n        for (var col = 0; col < length; col++) {\n          context.fillStyle = _this.isDark(row, col) ? 'black' : 'white';\n          context.fillRect(row * cellSize, col * cellSize, cellSize, cellSize);\n        }\n      }\n    }\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrcode.stringToBytes\n  //---------------------------------------------------------------------\n\n  qrcode.stringToBytesFuncs = {\n    'default' : function(s) {\n      var bytes = [];\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charCodeAt(i);\n        bytes.push(c & 0xff);\n      }\n      return bytes;\n    }\n  };\n\n  qrcode.stringToBytes = qrcode.stringToBytesFuncs['default'];\n\n  //---------------------------------------------------------------------\n  // qrcode.createStringToBytes\n  //---------------------------------------------------------------------\n\n  /**\n   * @param unicodeData base64 string of byte array.\n   * [16bit Unicode],[16bit Bytes], ...\n   * @param numChars\n   */\n  qrcode.createStringToBytes = function(unicodeData, numChars) {\n\n    // create conversion map.\n\n    var unicodeMap = function() {\n\n      var bin = base64DecodeInputStream(unicodeData);\n      var read = function() {\n        var b = bin.read();\n        if (b == -1) throw 'eof';\n        return b;\n      };\n\n      var count = 0;\n      var unicodeMap = {};\n      while (true) {\n        var b0 = bin.read();\n        if (b0 == -1) break;\n        var b1 = read();\n        var b2 = read();\n        var b3 = read();\n        var k = String.fromCharCode( (b0 << 8) | b1);\n        var v = (b2 << 8) | b3;\n        unicodeMap[k] = v;\n        count += 1;\n      }\n      if (count != numChars) {\n        throw count + ' != ' + numChars;\n      }\n\n      return unicodeMap;\n    }();\n\n    var unknownChar = '?'.charCodeAt(0);\n\n    return function(s) {\n      var bytes = [];\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charCodeAt(i);\n        if (c < 128) {\n          bytes.push(c);\n        } else {\n          var b = unicodeMap[s.charAt(i)];\n          if (typeof b == 'number') {\n            if ( (b & 0xff) == b) {\n              // 1byte\n              bytes.push(b);\n            } else {\n              // 2bytes\n              bytes.push(b >>> 8);\n              bytes.push(b & 0xff);\n            }\n          } else {\n            bytes.push(unknownChar);\n          }\n        }\n      }\n      return bytes;\n    };\n  };\n\n  //---------------------------------------------------------------------\n  // QRMode\n  //---------------------------------------------------------------------\n\n  var QRMode = {\n    MODE_NUMBER :    1 << 0,\n    MODE_ALPHA_NUM : 1 << 1,\n    MODE_8BIT_BYTE : 1 << 2,\n    MODE_KANJI :     1 << 3\n  };\n\n  //---------------------------------------------------------------------\n  // QRErrorCorrectionLevel\n  //---------------------------------------------------------------------\n\n  var QRErrorCorrectionLevel = {\n    L : 1,\n    M : 0,\n    Q : 3,\n    H : 2\n  };\n\n  //---------------------------------------------------------------------\n  // QRMaskPattern\n  //---------------------------------------------------------------------\n\n  var QRMaskPattern = {\n    PATTERN000 : 0,\n    PATTERN001 : 1,\n    PATTERN010 : 2,\n    PATTERN011 : 3,\n    PATTERN100 : 4,\n    PATTERN101 : 5,\n    PATTERN110 : 6,\n    PATTERN111 : 7\n  };\n\n  //---------------------------------------------------------------------\n  // QRUtil\n  //---------------------------------------------------------------------\n\n  var QRUtil = function() {\n\n    var PATTERN_POSITION_TABLE = [\n      [],\n      [6, 18],\n      [6, 22],\n      [6, 26],\n      [6, 30],\n      [6, 34],\n      [6, 22, 38],\n      [6, 24, 42],\n      [6, 26, 46],\n      [6, 28, 50],\n      [6, 30, 54],\n      [6, 32, 58],\n      [6, 34, 62],\n      [6, 26, 46, 66],\n      [6, 26, 48, 70],\n      [6, 26, 50, 74],\n      [6, 30, 54, 78],\n      [6, 30, 56, 82],\n      [6, 30, 58, 86],\n      [6, 34, 62, 90],\n      [6, 28, 50, 72, 94],\n      [6, 26, 50, 74, 98],\n      [6, 30, 54, 78, 102],\n      [6, 28, 54, 80, 106],\n      [6, 32, 58, 84, 110],\n      [6, 30, 58, 86, 114],\n      [6, 34, 62, 90, 118],\n      [6, 26, 50, 74, 98, 122],\n      [6, 30, 54, 78, 102, 126],\n      [6, 26, 52, 78, 104, 130],\n      [6, 30, 56, 82, 108, 134],\n      [6, 34, 60, 86, 112, 138],\n      [6, 30, 58, 86, 114, 142],\n      [6, 34, 62, 90, 118, 146],\n      [6, 30, 54, 78, 102, 126, 150],\n      [6, 24, 50, 76, 102, 128, 154],\n      [6, 28, 54, 80, 106, 132, 158],\n      [6, 32, 58, 84, 110, 136, 162],\n      [6, 26, 54, 82, 110, 138, 166],\n      [6, 30, 58, 86, 114, 142, 170]\n    ];\n    var G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0);\n    var G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0);\n    var G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1);\n\n    var _this = {};\n\n    var getBCHDigit = function(data) {\n      var digit = 0;\n      while (data != 0) {\n        digit += 1;\n        data >>>= 1;\n      }\n      return digit;\n    };\n\n    _this.getBCHTypeInfo = function(data) {\n      var d = data << 10;\n      while (getBCHDigit(d) - getBCHDigit(G15) >= 0) {\n        d ^= (G15 << (getBCHDigit(d) - getBCHDigit(G15) ) );\n      }\n      return ( (data << 10) | d) ^ G15_MASK;\n    };\n\n    _this.getBCHTypeNumber = function(data) {\n      var d = data << 12;\n      while (getBCHDigit(d) - getBCHDigit(G18) >= 0) {\n        d ^= (G18 << (getBCHDigit(d) - getBCHDigit(G18) ) );\n      }\n      return (data << 12) | d;\n    };\n\n    _this.getPatternPosition = function(typeNumber) {\n      return PATTERN_POSITION_TABLE[typeNumber - 1];\n    };\n\n    _this.getMaskFunction = function(maskPattern) {\n\n      switch (maskPattern) {\n\n      case QRMaskPattern.PATTERN000 :\n        return function(i, j) { return (i + j) % 2 == 0; };\n      case QRMaskPattern.PATTERN001 :\n        return function(i, j) { return i % 2 == 0; };\n      case QRMaskPattern.PATTERN010 :\n        return function(i, j) { return j % 3 == 0; };\n      case QRMaskPattern.PATTERN011 :\n        return function(i, j) { return (i + j) % 3 == 0; };\n      case QRMaskPattern.PATTERN100 :\n        return function(i, j) { return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 == 0; };\n      case QRMaskPattern.PATTERN101 :\n        return function(i, j) { return (i * j) % 2 + (i * j) % 3 == 0; };\n      case QRMaskPattern.PATTERN110 :\n        return function(i, j) { return ( (i * j) % 2 + (i * j) % 3) % 2 == 0; };\n      case QRMaskPattern.PATTERN111 :\n        return function(i, j) { return ( (i * j) % 3 + (i + j) % 2) % 2 == 0; };\n\n      default :\n        throw 'bad maskPattern:' + maskPattern;\n      }\n    };\n\n    _this.getErrorCorrectPolynomial = function(errorCorrectLength) {\n      var a = qrPolynomial([1], 0);\n      for (var i = 0; i < errorCorrectLength; i += 1) {\n        a = a.multiply(qrPolynomial([1, QRMath.gexp(i)], 0) );\n      }\n      return a;\n    };\n\n    _this.getLengthInBits = function(mode, type) {\n\n      if (1 <= type && type < 10) {\n\n        // 1 - 9\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 10;\n        case QRMode.MODE_ALPHA_NUM : return 9;\n        case QRMode.MODE_8BIT_BYTE : return 8;\n        case QRMode.MODE_KANJI     : return 8;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else if (type < 27) {\n\n        // 10 - 26\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 12;\n        case QRMode.MODE_ALPHA_NUM : return 11;\n        case QRMode.MODE_8BIT_BYTE : return 16;\n        case QRMode.MODE_KANJI     : return 10;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else if (type < 41) {\n\n        // 27 - 40\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 14;\n        case QRMode.MODE_ALPHA_NUM : return 13;\n        case QRMode.MODE_8BIT_BYTE : return 16;\n        case QRMode.MODE_KANJI     : return 12;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else {\n        throw 'type:' + type;\n      }\n    };\n\n    _this.getLostPoint = function(qrcode) {\n\n      var moduleCount = qrcode.getModuleCount();\n\n      var lostPoint = 0;\n\n      // LEVEL1\n\n      for (var row = 0; row < moduleCount; row += 1) {\n        for (var col = 0; col < moduleCount; col += 1) {\n\n          var sameCount = 0;\n          var dark = qrcode.isDark(row, col);\n\n          for (var r = -1; r <= 1; r += 1) {\n\n            if (row + r < 0 || moduleCount <= row + r) {\n              continue;\n            }\n\n            for (var c = -1; c <= 1; c += 1) {\n\n              if (col + c < 0 || moduleCount <= col + c) {\n                continue;\n              }\n\n              if (r == 0 && c == 0) {\n                continue;\n              }\n\n              if (dark == qrcode.isDark(row + r, col + c) ) {\n                sameCount += 1;\n              }\n            }\n          }\n\n          if (sameCount > 5) {\n            lostPoint += (3 + sameCount - 5);\n          }\n        }\n      };\n\n      // LEVEL2\n\n      for (var row = 0; row < moduleCount - 1; row += 1) {\n        for (var col = 0; col < moduleCount - 1; col += 1) {\n          var count = 0;\n          if (qrcode.isDark(row, col) ) count += 1;\n          if (qrcode.isDark(row + 1, col) ) count += 1;\n          if (qrcode.isDark(row, col + 1) ) count += 1;\n          if (qrcode.isDark(row + 1, col + 1) ) count += 1;\n          if (count == 0 || count == 4) {\n            lostPoint += 3;\n          }\n        }\n      }\n\n      // LEVEL3\n\n      for (var row = 0; row < moduleCount; row += 1) {\n        for (var col = 0; col < moduleCount - 6; col += 1) {\n          if (qrcode.isDark(row, col)\n              && !qrcode.isDark(row, col + 1)\n              &&  qrcode.isDark(row, col + 2)\n              &&  qrcode.isDark(row, col + 3)\n              &&  qrcode.isDark(row, col + 4)\n              && !qrcode.isDark(row, col + 5)\n              &&  qrcode.isDark(row, col + 6) ) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      for (var col = 0; col < moduleCount; col += 1) {\n        for (var row = 0; row < moduleCount - 6; row += 1) {\n          if (qrcode.isDark(row, col)\n              && !qrcode.isDark(row + 1, col)\n              &&  qrcode.isDark(row + 2, col)\n              &&  qrcode.isDark(row + 3, col)\n              &&  qrcode.isDark(row + 4, col)\n              && !qrcode.isDark(row + 5, col)\n              &&  qrcode.isDark(row + 6, col) ) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      // LEVEL4\n\n      var darkCount = 0;\n\n      for (var col = 0; col < moduleCount; col += 1) {\n        for (var row = 0; row < moduleCount; row += 1) {\n          if (qrcode.isDark(row, col) ) {\n            darkCount += 1;\n          }\n        }\n      }\n\n      var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n      lostPoint += ratio * 10;\n\n      return lostPoint;\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // QRMath\n  //---------------------------------------------------------------------\n\n  var QRMath = function() {\n\n    var EXP_TABLE = new Array(256);\n    var LOG_TABLE = new Array(256);\n\n    // initialize tables\n    for (var i = 0; i < 8; i += 1) {\n      EXP_TABLE[i] = 1 << i;\n    }\n    for (var i = 8; i < 256; i += 1) {\n      EXP_TABLE[i] = EXP_TABLE[i - 4]\n        ^ EXP_TABLE[i - 5]\n        ^ EXP_TABLE[i - 6]\n        ^ EXP_TABLE[i - 8];\n    }\n    for (var i = 0; i < 255; i += 1) {\n      LOG_TABLE[EXP_TABLE[i] ] = i;\n    }\n\n    var _this = {};\n\n    _this.glog = function(n) {\n\n      if (n < 1) {\n        throw 'glog(' + n + ')';\n      }\n\n      return LOG_TABLE[n];\n    };\n\n    _this.gexp = function(n) {\n\n      while (n < 0) {\n        n += 255;\n      }\n\n      while (n >= 256) {\n        n -= 255;\n      }\n\n      return EXP_TABLE[n];\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // qrPolynomial\n  //---------------------------------------------------------------------\n\n  function qrPolynomial(num, shift) {\n\n    if (typeof num.length == 'undefined') {\n      throw num.length + '/' + shift;\n    }\n\n    var _num = function() {\n      var offset = 0;\n      while (offset < num.length && num[offset] == 0) {\n        offset += 1;\n      }\n      var _num = new Array(num.length - offset + shift);\n      for (var i = 0; i < num.length - offset; i += 1) {\n        _num[i] = num[i + offset];\n      }\n      return _num;\n    }();\n\n    var _this = {};\n\n    _this.getAt = function(index) {\n      return _num[index];\n    };\n\n    _this.getLength = function() {\n      return _num.length;\n    };\n\n    _this.multiply = function(e) {\n\n      var num = new Array(_this.getLength() + e.getLength() - 1);\n\n      for (var i = 0; i < _this.getLength(); i += 1) {\n        for (var j = 0; j < e.getLength(); j += 1) {\n          num[i + j] ^= QRMath.gexp(QRMath.glog(_this.getAt(i) ) + QRMath.glog(e.getAt(j) ) );\n        }\n      }\n\n      return qrPolynomial(num, 0);\n    };\n\n    _this.mod = function(e) {\n\n      if (_this.getLength() - e.getLength() < 0) {\n        return _this;\n      }\n\n      var ratio = QRMath.glog(_this.getAt(0) ) - QRMath.glog(e.getAt(0) );\n\n      var num = new Array(_this.getLength() );\n      for (var i = 0; i < _this.getLength(); i += 1) {\n        num[i] = _this.getAt(i);\n      }\n\n      for (var i = 0; i < e.getLength(); i += 1) {\n        num[i] ^= QRMath.gexp(QRMath.glog(e.getAt(i) ) + ratio);\n      }\n\n      // recursive call\n      return qrPolynomial(num, 0).mod(e);\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // QRRSBlock\n  //---------------------------------------------------------------------\n\n  var QRRSBlock = function() {\n\n    var RS_BLOCK_TABLE = [\n\n      // L\n      // M\n      // Q\n      // H\n\n      // 1\n      [1, 26, 19],\n      [1, 26, 16],\n      [1, 26, 13],\n      [1, 26, 9],\n\n      // 2\n      [1, 44, 34],\n      [1, 44, 28],\n      [1, 44, 22],\n      [1, 44, 16],\n\n      // 3\n      [1, 70, 55],\n      [1, 70, 44],\n      [2, 35, 17],\n      [2, 35, 13],\n\n      // 4\n      [1, 100, 80],\n      [2, 50, 32],\n      [2, 50, 24],\n      [4, 25, 9],\n\n      // 5\n      [1, 134, 108],\n      [2, 67, 43],\n      [2, 33, 15, 2, 34, 16],\n      [2, 33, 11, 2, 34, 12],\n\n      // 6\n      [2, 86, 68],\n      [4, 43, 27],\n      [4, 43, 19],\n      [4, 43, 15],\n\n      // 7\n      [2, 98, 78],\n      [4, 49, 31],\n      [2, 32, 14, 4, 33, 15],\n      [4, 39, 13, 1, 40, 14],\n\n      // 8\n      [2, 121, 97],\n      [2, 60, 38, 2, 61, 39],\n      [4, 40, 18, 2, 41, 19],\n      [4, 40, 14, 2, 41, 15],\n\n      // 9\n      [2, 146, 116],\n      [3, 58, 36, 2, 59, 37],\n      [4, 36, 16, 4, 37, 17],\n      [4, 36, 12, 4, 37, 13],\n\n      // 10\n      [2, 86, 68, 2, 87, 69],\n      [4, 69, 43, 1, 70, 44],\n      [6, 43, 19, 2, 44, 20],\n      [6, 43, 15, 2, 44, 16],\n\n      // 11\n      [4, 101, 81],\n      [1, 80, 50, 4, 81, 51],\n      [4, 50, 22, 4, 51, 23],\n      [3, 36, 12, 8, 37, 13],\n\n      // 12\n      [2, 116, 92, 2, 117, 93],\n      [6, 58, 36, 2, 59, 37],\n      [4, 46, 20, 6, 47, 21],\n      [7, 42, 14, 4, 43, 15],\n\n      // 13\n      [4, 133, 107],\n      [8, 59, 37, 1, 60, 38],\n      [8, 44, 20, 4, 45, 21],\n      [12, 33, 11, 4, 34, 12],\n\n      // 14\n      [3, 145, 115, 1, 146, 116],\n      [4, 64, 40, 5, 65, 41],\n      [11, 36, 16, 5, 37, 17],\n      [11, 36, 12, 5, 37, 13],\n\n      // 15\n      [5, 109, 87, 1, 110, 88],\n      [5, 65, 41, 5, 66, 42],\n      [5, 54, 24, 7, 55, 25],\n      [11, 36, 12, 7, 37, 13],\n\n      // 16\n      [5, 122, 98, 1, 123, 99],\n      [7, 73, 45, 3, 74, 46],\n      [15, 43, 19, 2, 44, 20],\n      [3, 45, 15, 13, 46, 16],\n\n      // 17\n      [1, 135, 107, 5, 136, 108],\n      [10, 74, 46, 1, 75, 47],\n      [1, 50, 22, 15, 51, 23],\n      [2, 42, 14, 17, 43, 15],\n\n      // 18\n      [5, 150, 120, 1, 151, 121],\n      [9, 69, 43, 4, 70, 44],\n      [17, 50, 22, 1, 51, 23],\n      [2, 42, 14, 19, 43, 15],\n\n      // 19\n      [3, 141, 113, 4, 142, 114],\n      [3, 70, 44, 11, 71, 45],\n      [17, 47, 21, 4, 48, 22],\n      [9, 39, 13, 16, 40, 14],\n\n      // 20\n      [3, 135, 107, 5, 136, 108],\n      [3, 67, 41, 13, 68, 42],\n      [15, 54, 24, 5, 55, 25],\n      [15, 43, 15, 10, 44, 16],\n\n      // 21\n      [4, 144, 116, 4, 145, 117],\n      [17, 68, 42],\n      [17, 50, 22, 6, 51, 23],\n      [19, 46, 16, 6, 47, 17],\n\n      // 22\n      [2, 139, 111, 7, 140, 112],\n      [17, 74, 46],\n      [7, 54, 24, 16, 55, 25],\n      [34, 37, 13],\n\n      // 23\n      [4, 151, 121, 5, 152, 122],\n      [4, 75, 47, 14, 76, 48],\n      [11, 54, 24, 14, 55, 25],\n      [16, 45, 15, 14, 46, 16],\n\n      // 24\n      [6, 147, 117, 4, 148, 118],\n      [6, 73, 45, 14, 74, 46],\n      [11, 54, 24, 16, 55, 25],\n      [30, 46, 16, 2, 47, 17],\n\n      // 25\n      [8, 132, 106, 4, 133, 107],\n      [8, 75, 47, 13, 76, 48],\n      [7, 54, 24, 22, 55, 25],\n      [22, 45, 15, 13, 46, 16],\n\n      // 26\n      [10, 142, 114, 2, 143, 115],\n      [19, 74, 46, 4, 75, 47],\n      [28, 50, 22, 6, 51, 23],\n      [33, 46, 16, 4, 47, 17],\n\n      // 27\n      [8, 152, 122, 4, 153, 123],\n      [22, 73, 45, 3, 74, 46],\n      [8, 53, 23, 26, 54, 24],\n      [12, 45, 15, 28, 46, 16],\n\n      // 28\n      [3, 147, 117, 10, 148, 118],\n      [3, 73, 45, 23, 74, 46],\n      [4, 54, 24, 31, 55, 25],\n      [11, 45, 15, 31, 46, 16],\n\n      // 29\n      [7, 146, 116, 7, 147, 117],\n      [21, 73, 45, 7, 74, 46],\n      [1, 53, 23, 37, 54, 24],\n      [19, 45, 15, 26, 46, 16],\n\n      // 30\n      [5, 145, 115, 10, 146, 116],\n      [19, 75, 47, 10, 76, 48],\n      [15, 54, 24, 25, 55, 25],\n      [23, 45, 15, 25, 46, 16],\n\n      // 31\n      [13, 145, 115, 3, 146, 116],\n      [2, 74, 46, 29, 75, 47],\n      [42, 54, 24, 1, 55, 25],\n      [23, 45, 15, 28, 46, 16],\n\n      // 32\n      [17, 145, 115],\n      [10, 74, 46, 23, 75, 47],\n      [10, 54, 24, 35, 55, 25],\n      [19, 45, 15, 35, 46, 16],\n\n      // 33\n      [17, 145, 115, 1, 146, 116],\n      [14, 74, 46, 21, 75, 47],\n      [29, 54, 24, 19, 55, 25],\n      [11, 45, 15, 46, 46, 16],\n\n      // 34\n      [13, 145, 115, 6, 146, 116],\n      [14, 74, 46, 23, 75, 47],\n      [44, 54, 24, 7, 55, 25],\n      [59, 46, 16, 1, 47, 17],\n\n      // 35\n      [12, 151, 121, 7, 152, 122],\n      [12, 75, 47, 26, 76, 48],\n      [39, 54, 24, 14, 55, 25],\n      [22, 45, 15, 41, 46, 16],\n\n      // 36\n      [6, 151, 121, 14, 152, 122],\n      [6, 75, 47, 34, 76, 48],\n      [46, 54, 24, 10, 55, 25],\n      [2, 45, 15, 64, 46, 16],\n\n      // 37\n      [17, 152, 122, 4, 153, 123],\n      [29, 74, 46, 14, 75, 47],\n      [49, 54, 24, 10, 55, 25],\n      [24, 45, 15, 46, 46, 16],\n\n      // 38\n      [4, 152, 122, 18, 153, 123],\n      [13, 74, 46, 32, 75, 47],\n      [48, 54, 24, 14, 55, 25],\n      [42, 45, 15, 32, 46, 16],\n\n      // 39\n      [20, 147, 117, 4, 148, 118],\n      [40, 75, 47, 7, 76, 48],\n      [43, 54, 24, 22, 55, 25],\n      [10, 45, 15, 67, 46, 16],\n\n      // 40\n      [19, 148, 118, 6, 149, 119],\n      [18, 75, 47, 31, 76, 48],\n      [34, 54, 24, 34, 55, 25],\n      [20, 45, 15, 61, 46, 16]\n    ];\n\n    var qrRSBlock = function(totalCount, dataCount) {\n      var _this = {};\n      _this.totalCount = totalCount;\n      _this.dataCount = dataCount;\n      return _this;\n    };\n\n    var _this = {};\n\n    var getRsBlockTable = function(typeNumber, errorCorrectionLevel) {\n\n      switch(errorCorrectionLevel) {\n      case QRErrorCorrectionLevel.L :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n      case QRErrorCorrectionLevel.M :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n      case QRErrorCorrectionLevel.Q :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n      case QRErrorCorrectionLevel.H :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n      default :\n        return undefined;\n      }\n    };\n\n    _this.getRSBlocks = function(typeNumber, errorCorrectionLevel) {\n\n      var rsBlock = getRsBlockTable(typeNumber, errorCorrectionLevel);\n\n      if (typeof rsBlock == 'undefined') {\n        throw 'bad rs block @ typeNumber:' + typeNumber +\n            '/errorCorrectionLevel:' + errorCorrectionLevel;\n      }\n\n      var length = rsBlock.length / 3;\n\n      var list = [];\n\n      for (var i = 0; i < length; i += 1) {\n\n        var count = rsBlock[i * 3 + 0];\n        var totalCount = rsBlock[i * 3 + 1];\n        var dataCount = rsBlock[i * 3 + 2];\n\n        for (var j = 0; j < count; j += 1) {\n          list.push(qrRSBlock(totalCount, dataCount) );\n        }\n      }\n\n      return list;\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // qrBitBuffer\n  //---------------------------------------------------------------------\n\n  var qrBitBuffer = function() {\n\n    var _buffer = [];\n    var _length = 0;\n\n    var _this = {};\n\n    _this.getBuffer = function() {\n      return _buffer;\n    };\n\n    _this.getAt = function(index) {\n      var bufIndex = Math.floor(index / 8);\n      return ( (_buffer[bufIndex] >>> (7 - index % 8) ) & 1) == 1;\n    };\n\n    _this.put = function(num, length) {\n      for (var i = 0; i < length; i += 1) {\n        _this.putBit( ( (num >>> (length - i - 1) ) & 1) == 1);\n      }\n    };\n\n    _this.getLengthInBits = function() {\n      return _length;\n    };\n\n    _this.putBit = function(bit) {\n\n      var bufIndex = Math.floor(_length / 8);\n      if (_buffer.length <= bufIndex) {\n        _buffer.push(0);\n      }\n\n      if (bit) {\n        _buffer[bufIndex] |= (0x80 >>> (_length % 8) );\n      }\n\n      _length += 1;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrNumber\n  //---------------------------------------------------------------------\n\n  var qrNumber = function(data) {\n\n    var _mode = QRMode.MODE_NUMBER;\n    var _data = data;\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _data.length;\n    };\n\n    _this.write = function(buffer) {\n\n      var data = _data;\n\n      var i = 0;\n\n      while (i + 2 < data.length) {\n        buffer.put(strToNum(data.substring(i, i + 3) ), 10);\n        i += 3;\n      }\n\n      if (i < data.length) {\n        if (data.length - i == 1) {\n          buffer.put(strToNum(data.substring(i, i + 1) ), 4);\n        } else if (data.length - i == 2) {\n          buffer.put(strToNum(data.substring(i, i + 2) ), 7);\n        }\n      }\n    };\n\n    var strToNum = function(s) {\n      var num = 0;\n      for (var i = 0; i < s.length; i += 1) {\n        num = num * 10 + chatToNum(s.charAt(i) );\n      }\n      return num;\n    };\n\n    var chatToNum = function(c) {\n      if ('0' <= c && c <= '9') {\n        return c.charCodeAt(0) - '0'.charCodeAt(0);\n      }\n      throw 'illegal char :' + c;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrAlphaNum\n  //---------------------------------------------------------------------\n\n  var qrAlphaNum = function(data) {\n\n    var _mode = QRMode.MODE_ALPHA_NUM;\n    var _data = data;\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _data.length;\n    };\n\n    _this.write = function(buffer) {\n\n      var s = _data;\n\n      var i = 0;\n\n      while (i + 1 < s.length) {\n        buffer.put(\n          getCode(s.charAt(i) ) * 45 +\n          getCode(s.charAt(i + 1) ), 11);\n        i += 2;\n      }\n\n      if (i < s.length) {\n        buffer.put(getCode(s.charAt(i) ), 6);\n      }\n    };\n\n    var getCode = function(c) {\n\n      if ('0' <= c && c <= '9') {\n        return c.charCodeAt(0) - '0'.charCodeAt(0);\n      } else if ('A' <= c && c <= 'Z') {\n        return c.charCodeAt(0) - 'A'.charCodeAt(0) + 10;\n      } else {\n        switch (c) {\n        case ' ' : return 36;\n        case '$' : return 37;\n        case '%' : return 38;\n        case '*' : return 39;\n        case '+' : return 40;\n        case '-' : return 41;\n        case '.' : return 42;\n        case '/' : return 43;\n        case ':' : return 44;\n        default :\n          throw 'illegal char :' + c;\n        }\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qr8BitByte\n  //---------------------------------------------------------------------\n\n  var qr8BitByte = function(data) {\n\n    var _mode = QRMode.MODE_8BIT_BYTE;\n    var _data = data;\n    var _bytes = qrcode.stringToBytes(data);\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _bytes.length;\n    };\n\n    _this.write = function(buffer) {\n      for (var i = 0; i < _bytes.length; i += 1) {\n        buffer.put(_bytes[i], 8);\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrKanji\n  //---------------------------------------------------------------------\n\n  var qrKanji = function(data) {\n\n    var _mode = QRMode.MODE_KANJI;\n    var _data = data;\n\n    var stringToBytes = qrcode.stringToBytesFuncs['SJIS'];\n    if (!stringToBytes) {\n      throw 'sjis not supported.';\n    }\n    !function(c, code) {\n      // self test for sjis support.\n      var test = stringToBytes(c);\n      if (test.length != 2 || ( (test[0] << 8) | test[1]) != code) {\n        throw 'sjis not supported.';\n      }\n    }('\\u53cb', 0x9746);\n\n    var _bytes = stringToBytes(data);\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return ~~(_bytes.length / 2);\n    };\n\n    _this.write = function(buffer) {\n\n      var data = _bytes;\n\n      var i = 0;\n\n      while (i + 1 < data.length) {\n\n        var c = ( (0xff & data[i]) << 8) | (0xff & data[i + 1]);\n\n        if (0x8140 <= c && c <= 0x9FFC) {\n          c -= 0x8140;\n        } else if (0xE040 <= c && c <= 0xEBBF) {\n          c -= 0xC140;\n        } else {\n          throw 'illegal char at ' + (i + 1) + '/' + c;\n        }\n\n        c = ( (c >>> 8) & 0xff) * 0xC0 + (c & 0xff);\n\n        buffer.put(c, 13);\n\n        i += 2;\n      }\n\n      if (i < data.length) {\n        throw 'illegal char at ' + (i + 1);\n      }\n    };\n\n    return _this;\n  };\n\n  //=====================================================================\n  // GIF Support etc.\n  //\n\n  //---------------------------------------------------------------------\n  // byteArrayOutputStream\n  //---------------------------------------------------------------------\n\n  var byteArrayOutputStream = function() {\n\n    var _bytes = [];\n\n    var _this = {};\n\n    _this.writeByte = function(b) {\n      _bytes.push(b & 0xff);\n    };\n\n    _this.writeShort = function(i) {\n      _this.writeByte(i);\n      _this.writeByte(i >>> 8);\n    };\n\n    _this.writeBytes = function(b, off, len) {\n      off = off || 0;\n      len = len || b.length;\n      for (var i = 0; i < len; i += 1) {\n        _this.writeByte(b[i + off]);\n      }\n    };\n\n    _this.writeString = function(s) {\n      for (var i = 0; i < s.length; i += 1) {\n        _this.writeByte(s.charCodeAt(i) );\n      }\n    };\n\n    _this.toByteArray = function() {\n      return _bytes;\n    };\n\n    _this.toString = function() {\n      var s = '';\n      s += '[';\n      for (var i = 0; i < _bytes.length; i += 1) {\n        if (i > 0) {\n          s += ',';\n        }\n        s += _bytes[i];\n      }\n      s += ']';\n      return s;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // base64EncodeOutputStream\n  //---------------------------------------------------------------------\n\n  var base64EncodeOutputStream = function() {\n\n    var _buffer = 0;\n    var _buflen = 0;\n    var _length = 0;\n    var _base64 = '';\n\n    var _this = {};\n\n    var writeEncoded = function(b) {\n      _base64 += String.fromCharCode(encode(b & 0x3f) );\n    };\n\n    var encode = function(n) {\n      if (n < 0) {\n        // error.\n      } else if (n < 26) {\n        return 0x41 + n;\n      } else if (n < 52) {\n        return 0x61 + (n - 26);\n      } else if (n < 62) {\n        return 0x30 + (n - 52);\n      } else if (n == 62) {\n        return 0x2b;\n      } else if (n == 63) {\n        return 0x2f;\n      }\n      throw 'n:' + n;\n    };\n\n    _this.writeByte = function(n) {\n\n      _buffer = (_buffer << 8) | (n & 0xff);\n      _buflen += 8;\n      _length += 1;\n\n      while (_buflen >= 6) {\n        writeEncoded(_buffer >>> (_buflen - 6) );\n        _buflen -= 6;\n      }\n    };\n\n    _this.flush = function() {\n\n      if (_buflen > 0) {\n        writeEncoded(_buffer << (6 - _buflen) );\n        _buffer = 0;\n        _buflen = 0;\n      }\n\n      if (_length % 3 != 0) {\n        // padding\n        var padlen = 3 - _length % 3;\n        for (var i = 0; i < padlen; i += 1) {\n          _base64 += '=';\n        }\n      }\n    };\n\n    _this.toString = function() {\n      return _base64;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // base64DecodeInputStream\n  //---------------------------------------------------------------------\n\n  var base64DecodeInputStream = function(str) {\n\n    var _str = str;\n    var _pos = 0;\n    var _buffer = 0;\n    var _buflen = 0;\n\n    var _this = {};\n\n    _this.read = function() {\n\n      while (_buflen < 8) {\n\n        if (_pos >= _str.length) {\n          if (_buflen == 0) {\n            return -1;\n          }\n          throw 'unexpected end of file./' + _buflen;\n        }\n\n        var c = _str.charAt(_pos);\n        _pos += 1;\n\n        if (c == '=') {\n          _buflen = 0;\n          return -1;\n        } else if (c.match(/^\\s$/) ) {\n          // ignore if whitespace.\n          continue;\n        }\n\n        _buffer = (_buffer << 6) | decode(c.charCodeAt(0) );\n        _buflen += 6;\n      }\n\n      var n = (_buffer >>> (_buflen - 8) ) & 0xff;\n      _buflen -= 8;\n      return n;\n    };\n\n    var decode = function(c) {\n      if (0x41 <= c && c <= 0x5a) {\n        return c - 0x41;\n      } else if (0x61 <= c && c <= 0x7a) {\n        return c - 0x61 + 26;\n      } else if (0x30 <= c && c <= 0x39) {\n        return c - 0x30 + 52;\n      } else if (c == 0x2b) {\n        return 62;\n      } else if (c == 0x2f) {\n        return 63;\n      } else {\n        throw 'c:' + c;\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // gifImage (B/W)\n  //---------------------------------------------------------------------\n\n  var gifImage = function(width, height) {\n\n    var _width = width;\n    var _height = height;\n    var _data = new Array(width * height);\n\n    var _this = {};\n\n    _this.setPixel = function(x, y, pixel) {\n      _data[y * _width + x] = pixel;\n    };\n\n    _this.write = function(out) {\n\n      //---------------------------------\n      // GIF Signature\n\n      out.writeString('GIF87a');\n\n      //---------------------------------\n      // Screen Descriptor\n\n      out.writeShort(_width);\n      out.writeShort(_height);\n\n      out.writeByte(0x80); // 2bit\n      out.writeByte(0);\n      out.writeByte(0);\n\n      //---------------------------------\n      // Global Color Map\n\n      // black\n      out.writeByte(0x00);\n      out.writeByte(0x00);\n      out.writeByte(0x00);\n\n      // white\n      out.writeByte(0xff);\n      out.writeByte(0xff);\n      out.writeByte(0xff);\n\n      //---------------------------------\n      // Image Descriptor\n\n      out.writeString(',');\n      out.writeShort(0);\n      out.writeShort(0);\n      out.writeShort(_width);\n      out.writeShort(_height);\n      out.writeByte(0);\n\n      //---------------------------------\n      // Local Color Map\n\n      //---------------------------------\n      // Raster Data\n\n      var lzwMinCodeSize = 2;\n      var raster = getLZWRaster(lzwMinCodeSize);\n\n      out.writeByte(lzwMinCodeSize);\n\n      var offset = 0;\n\n      while (raster.length - offset > 255) {\n        out.writeByte(255);\n        out.writeBytes(raster, offset, 255);\n        offset += 255;\n      }\n\n      out.writeByte(raster.length - offset);\n      out.writeBytes(raster, offset, raster.length - offset);\n      out.writeByte(0x00);\n\n      //---------------------------------\n      // GIF Terminator\n      out.writeString(';');\n    };\n\n    var bitOutputStream = function(out) {\n\n      var _out = out;\n      var _bitLength = 0;\n      var _bitBuffer = 0;\n\n      var _this = {};\n\n      _this.write = function(data, length) {\n\n        if ( (data >>> length) != 0) {\n          throw 'length over';\n        }\n\n        while (_bitLength + length >= 8) {\n          _out.writeByte(0xff & ( (data << _bitLength) | _bitBuffer) );\n          length -= (8 - _bitLength);\n          data >>>= (8 - _bitLength);\n          _bitBuffer = 0;\n          _bitLength = 0;\n        }\n\n        _bitBuffer = (data << _bitLength) | _bitBuffer;\n        _bitLength = _bitLength + length;\n      };\n\n      _this.flush = function() {\n        if (_bitLength > 0) {\n          _out.writeByte(_bitBuffer);\n        }\n      };\n\n      return _this;\n    };\n\n    var getLZWRaster = function(lzwMinCodeSize) {\n\n      var clearCode = 1 << lzwMinCodeSize;\n      var endCode = (1 << lzwMinCodeSize) + 1;\n      var bitLength = lzwMinCodeSize + 1;\n\n      // Setup LZWTable\n      var table = lzwTable();\n\n      for (var i = 0; i < clearCode; i += 1) {\n        table.add(String.fromCharCode(i) );\n      }\n      table.add(String.fromCharCode(clearCode) );\n      table.add(String.fromCharCode(endCode) );\n\n      var byteOut = byteArrayOutputStream();\n      var bitOut = bitOutputStream(byteOut);\n\n      // clear code\n      bitOut.write(clearCode, bitLength);\n\n      var dataIndex = 0;\n\n      var s = String.fromCharCode(_data[dataIndex]);\n      dataIndex += 1;\n\n      while (dataIndex < _data.length) {\n\n        var c = String.fromCharCode(_data[dataIndex]);\n        dataIndex += 1;\n\n        if (table.contains(s + c) ) {\n\n          s = s + c;\n\n        } else {\n\n          bitOut.write(table.indexOf(s), bitLength);\n\n          if (table.size() < 0xfff) {\n\n            if (table.size() == (1 << bitLength) ) {\n              bitLength += 1;\n            }\n\n            table.add(s + c);\n          }\n\n          s = c;\n        }\n      }\n\n      bitOut.write(table.indexOf(s), bitLength);\n\n      // end code\n      bitOut.write(endCode, bitLength);\n\n      bitOut.flush();\n\n      return byteOut.toByteArray();\n    };\n\n    var lzwTable = function() {\n\n      var _map = {};\n      var _size = 0;\n\n      var _this = {};\n\n      _this.add = function(key) {\n        if (_this.contains(key) ) {\n          throw 'dup key:' + key;\n        }\n        _map[key] = _size;\n        _size += 1;\n      };\n\n      _this.size = function() {\n        return _size;\n      };\n\n      _this.indexOf = function(key) {\n        return _map[key];\n      };\n\n      _this.contains = function(key) {\n        return typeof _map[key] != 'undefined';\n      };\n\n      return _this;\n    };\n\n    return _this;\n  };\n\n  var createDataURL = function(width, height, getPixel) {\n    var gif = gifImage(width, height);\n    for (var y = 0; y < height; y += 1) {\n      for (var x = 0; x < width; x += 1) {\n        gif.setPixel(x, y, getPixel(x, y) );\n      }\n    }\n\n    var b = byteArrayOutputStream();\n    gif.write(b);\n\n    var base64 = base64EncodeOutputStream();\n    var bytes = b.toByteArray();\n    for (var i = 0; i < bytes.length; i += 1) {\n      base64.writeByte(bytes[i]);\n    }\n    base64.flush();\n\n    return 'data:image/gif;base64,' + base64;\n  };\n\n  //---------------------------------------------------------------------\n  // returns qrcode function.\n\n  return qrcode;\n}();\n\n// multibyte support\n!function() {\n\n  qrcode.stringToBytesFuncs['UTF-8'] = function(s) {\n    // http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\n    function toUTF8Array(str) {\n      var utf8 = [];\n      for (var i=0; i < str.length; i++) {\n        var charcode = str.charCodeAt(i);\n        if (charcode < 0x80) utf8.push(charcode);\n        else if (charcode < 0x800) {\n          utf8.push(0xc0 | (charcode >> 6),\n              0x80 | (charcode & 0x3f));\n        }\n        else if (charcode < 0xd800 || charcode >= 0xe000) {\n          utf8.push(0xe0 | (charcode >> 12),\n              0x80 | ((charcode>>6) & 0x3f),\n              0x80 | (charcode & 0x3f));\n        }\n        // surrogate pair\n        else {\n          i++;\n          // UTF-16 encodes 0x10000-0x10FFFF by\n          // subtracting 0x10000 and splitting the\n          // 20 bits of 0x0-0xFFFFF into two halves\n          charcode = 0x10000 + (((charcode & 0x3ff)<<10)\n            | (str.charCodeAt(i) & 0x3ff));\n          utf8.push(0xf0 | (charcode >>18),\n              0x80 | ((charcode>>12) & 0x3f),\n              0x80 | ((charcode>>6) & 0x3f),\n              0x80 | (charcode & 0x3f));\n        }\n      }\n      return utf8;\n    }\n    return toUTF8Array(s);\n  };\n\n}();\n\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n      define([], factory);\n  } else if (typeof exports === 'object') {\n      module.exports = factory();\n  }\n}(function () {\n    return qrcode;\n}));\n","export function copyToClipboard(text: string): Promise<void> {\n    if (navigator?.clipboard) {\n        return navigator.clipboard.writeText(text);\n    }\n\n    fallbackCopyTextToClipboard(text);\n    return Promise.resolve();\n}\n\nfunction fallbackCopyTextToClipboard(text: string): void {\n    const textArea = document.createElement('textarea');\n    textArea.value = text;\n\n    textArea.style.top = '0';\n    textArea.style.left = '0';\n    textArea.style.position = 'fixed';\n\n    document.body.appendChild(textArea);\n    textArea.focus();\n    textArea.select();\n\n    try {\n        document.execCommand('copy');\n    } finally {\n        document.body.removeChild(textArea);\n    }\n}\n","import { createContext, createSignal, useContext } from 'solid-js';\nimport { createStore } from 'solid-js/store';\n\n// src/index.ts\nvar deepReadObject = (obj, path, defaultValue) => {\n  const value = path.trim().split(\".\").reduce((a, b) => a ? a[b] : void 0, obj);\n  return value !== void 0 ? value : defaultValue;\n};\nvar template = (str, params, reg = /{{(.*?)}}/g) => str.replace(reg, (_, key) => deepReadObject(params, key, \"\"));\nvar createI18nContext = (init = {}, lang = navigator.language in init ? navigator.language : Object.keys(init)[0]) => {\n  const [locale, setLocale] = createSignal(lang);\n  const [dict, setDict] = createStore(init);\n  const translate = (key, params, defaultValue) => {\n    const val = deepReadObject(dict[locale()], key, defaultValue || \"\");\n    if (typeof val === \"function\")\n      return val(params);\n    if (typeof val === \"string\")\n      return template(val, params || {});\n    return val;\n  };\n  const actions = {\n    add(lang2, table) {\n      setDict(lang2, (t) => Object.assign(t || {}, table));\n    },\n    locale: (lang2) => lang2 ? setLocale(lang2) : locale(),\n    dict: (lang2) => deepReadObject(dict, lang2)\n  };\n  return [translate, actions];\n};\nvar I18nContext = createContext({});\nvar useI18n = () => useContext(I18nContext);\n\nexport { I18nContext, createI18nContext, useI18n };\n","import { useI18n } from '@solid-primitives/i18n';\nimport { Component, JSXElement } from 'solid-js';\nimport { Translateable } from 'src/app/models/translateable';\nimport { PropertyRequired } from 'src/app/utils/types';\n\ninterface TranslationProps extends PropertyRequired<Translateable, 'translationKey'> {\n    children?: JSXElement;\n}\n\nexport const Translation: Component<TranslationProps> = props => {\n    const [t] = useI18n();\n\n    return <>{t(props.translationKey, props.translationValues, props.children?.toString())}</>;\n};\n","import { Component, createEffect, createSignal, Show } from 'solid-js';\nimport {\n    CopyButtonStyled,\n    ImageBackground,\n    ImageStyled,\n    imgSizeDefault,\n    picSizeDefault,\n    QrCodeBackground,\n    QrCodeWrapper,\n    qrNormalSize\n} from './style';\nimport qrcode from 'qrcode-generator';\nimport { Transition } from 'solid-transition-group';\nimport { copyToClipboard } from 'src/app/utils/copy-to-clipboard';\nimport { Translation } from 'src/app/components/typography/Translation';\nimport { Styleable } from 'src/app/models/styleable';\nimport { toPx } from 'src/app/utils/css';\n\nexport interface QRCodeProps extends Styleable {\n    sourceUrl: string;\n    imageUrl?: string;\n    disableCopy?: boolean;\n}\n\ntype CopyButtonText = {\n    translationKey: string;\n    text: string;\n};\n\nconst copyText: CopyButtonText = {\n    translationKey: 'common.copyLink',\n    text: 'Copy Link'\n};\n\nconst copiedText: CopyButtonText = {\n    translationKey: 'common.copied',\n    text: 'Copied!'\n};\n\nexport const QRCode: Component<QRCodeProps> = props => {\n    let qrCodeCanvasRef: HTMLDivElement | undefined;\n    let qrCodeWrapperRef: HTMLDivElement | undefined;\n    let imageRef: HTMLDivElement | undefined;\n\n    const [copyButtonOpened, setCopyButtonOpened] = createSignal(false);\n    const [copyButtonHovered, setCopyButtonHovered] = createSignal(false);\n    const [qrHovered, setQrHovered] = createSignal(false);\n    const [copyButtonText, setCopyButtonText] = createSignal<CopyButtonText>(copyText);\n\n    const [picSize, setPicSize] = createSignal(picSizeDefault);\n\n    createEffect(() => setCopyButtonOpened(copyButtonHovered() || qrHovered()));\n\n    createEffect(() => !copyButtonOpened() && setCopyButtonText(copyText));\n\n    createEffect(() => {\n        const errorCorrectionLevel = 'L';\n        const cellSize = 4;\n        const qr = qrcode(0, errorCorrectionLevel);\n        qr.addData(props.sourceUrl);\n        qr.make();\n        qrCodeCanvasRef!.innerHTML = qr.createSvgTag(cellSize, 0);\n        const qrSize = qrCodeCanvasRef!.firstElementChild!.clientWidth;\n\n        const scale = Math.round((qrNormalSize / qrSize) * 100000) / 100000;\n\n        if (imageRef) {\n            const imgSize = Math.ceil(imgSizeDefault / (scale * cellSize)) * cellSize;\n            const imgOffset = toPx(Math.ceil((qrSize - imgSize) / (2 * cellSize)) * cellSize);\n            imageRef.style.top = imgOffset;\n            imageRef.style.left = imgOffset;\n            imageRef.style.height = toPx(imgSize);\n            imageRef.style.width = toPx(imgSize);\n\n            setPicSize(Math.round(picSizeDefault / scale));\n        }\n\n        qrCodeWrapperRef!.style.transform = `scale(${scale})`;\n    });\n\n    let timeoutId: null | ReturnType<typeof setTimeout> = null;\n    const onCopyClick = (): void => {\n        copyToClipboard(props.sourceUrl);\n        setCopyButtonText(copiedText);\n\n        if (timeoutId != null) {\n            clearTimeout(timeoutId);\n        }\n\n        timeoutId = setTimeout(() => setCopyButtonText(copyText), 3000);\n    };\n\n    return (\n        <QrCodeBackground class={props.class}>\n            <QrCodeWrapper\n                ref={qrCodeWrapperRef}\n                onMouseEnter={() => setQrHovered(true)}\n                onMouseLeave={() => setTimeout(() => setQrHovered(false))}\n            >\n                <div ref={qrCodeCanvasRef} />\n                <Show when={props.imageUrl}>\n                    <ImageBackground ref={imageRef}>\n                        <ImageStyled src={props.imageUrl!} alt=\"\" size={picSize()} />\n                    </ImageBackground>\n                </Show>\n            </QrCodeWrapper>\n            <Transition\n                onBeforeEnter={el => {\n                    el.animate(\n                        [\n                            { opacity: 0, transform: 'translate(-50%, 44px)' },\n                            { opacity: 1, transform: 'translate(-50%, 0)' }\n                        ],\n                        {\n                            duration: 200\n                        }\n                    );\n                }}\n                onExit={(el, done) => {\n                    el.animate(\n                        [\n                            { opacity: 1, transform: 'translate(-50%, 0)' },\n                            { opacity: 0, transform: 'translate(-50%, 44px)' }\n                        ],\n                        {\n                            duration: 200\n                        }\n                    ).finished.then(() => {\n                        done();\n                    });\n                }}\n            >\n                <Show when={copyButtonOpened() && !props.disableCopy}>\n                    <CopyButtonStyled\n                        onClick={onCopyClick}\n                        onMouseEnter={() => copyButtonOpened() && setCopyButtonHovered(true)}\n                        onMouseLeave={() => setTimeout(() => setCopyButtonHovered(false))}\n                    >\n                        <Translation translationKey={copyButtonText().translationKey}>\n                            {copyButtonText().text}\n                        </Translation>\n                    </CopyButtonStyled>\n                </Show>\n            </Transition>\n        </QrCodeBackground>\n    );\n};\n","import { Property } from 'csstype';\nimport { styled } from 'solid-styled-components';\n\nexport const TextStyled = styled.div<{\n    fontSize: Property.FontSize;\n    fontWeight: Property.FontWeight;\n    lineHeight: Property.LineHeight;\n    color: Property.Color;\n}>`\n    font-style: normal;\n    font-weight: ${props => props.fontWeight};\n    font-size: ${props => props.fontSize};\n    line-height: ${props => props.lineHeight};\n\n    color: ${props => props.color};\n`;\n","import { useI18n } from '@solid-primitives/i18n';\nimport { Property } from 'csstype';\nimport { Component, createEffect, JSXElement, mergeProps } from 'solid-js';\nimport { useTheme } from 'solid-styled-components';\nimport { Styleable } from 'src/app/models/styleable';\nimport { Translateable } from 'src/app/models/translateable';\nimport { TextStyled } from './style';\n\nexport interface TextProps extends Styleable, Translateable {\n    children?: JSXElement;\n    fontSize?: Property.FontSize;\n    fontWeight?: Property.FontWeight;\n    lineHeight?: Property.LineHeight;\n    letterSpacing?: Property.LetterSpacing;\n    color?: Property.Color;\n\n    cursor?: 'default' | 'unset';\n}\n\nexport const Text: Component<TextProps> = inputs => {\n    const theme = useTheme();\n    const [t] = useI18n();\n    let textRef: HTMLDivElement | undefined;\n\n    const color = (): Property.Color => inputs.color || theme.colors.text.primary;\n\n    const props = mergeProps(\n        {\n            fontSize: '14px',\n            fontWeight: '510',\n            lineHeight: '130%'\n        },\n        inputs\n    );\n\n    createEffect(() => {\n        if (!textRef) {\n            return;\n        }\n\n        if (props.cursor === 'unset') {\n            return;\n        }\n\n        if (getComputedStyle(textRef).cursor !== 'pointer') {\n            textRef.style.cursor = 'default';\n        }\n    });\n\n    return (\n        <TextStyled\n            fontSize={props.fontSize}\n            fontWeight={props.fontWeight}\n            lineHeight={props.lineHeight}\n            color={color()}\n            class={props.class}\n            ref={textRef}\n            data-tc-text=\"true\"\n        >\n            {props.translationKey\n                ? t(props.translationKey, props.translationValues, props.children?.toString())\n                : props.children}\n        </TextStyled>\n    );\n};\n","import { styled } from 'solid-styled-components';\nimport { Text } from '../typography/text';\nimport { Image } from '../image';\nimport { media, mediaNotTouch, mediaTouch } from 'src/app/styles/media';\nexport const WalletItemStyled = styled.button`\n    cursor: pointer;\n    border: none;\n    background-color: unset;\n    padding: 12px 8px 8px;\n    height: 94px;\n    width: 92px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n\n    transition: transform 0.125s ease-in-out;\n\n    ${mediaNotTouch} {\n        &:hover {\n            transform: scale(1.04);\n        }\n    }\n\n    &:active {\n        transform: scale(0.96);\n    }\n\n    ${media('mobile')} {\n        padding: 8px 4px;\n        height: 124px;\n        width: 82px;\n    }\n\n    ${mediaTouch} {\n        &:active {\n            transform: scale(0.92);\n        }\n    }\n`;\n\nexport const ImageStyled = styled(Image)`\n    width: 48px;\n    height: 48px;\n    border-radius: 12px;\n\n    margin-bottom: 8px;\n\n    ${media('mobile')} {\n        width: 64px;\n        height: 64px;\n        border-radius: 16px;\n    }\n`;\n\nexport const StyledText = styled(Text)`\n    font-weight: 590;\n    max-width: 76px;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n`;\n","import { Component } from 'solid-js';\nimport { ImageStyled, StyledText, WalletItemStyled } from './style';\nimport { Styleable } from 'src/app/models/styleable';\n\nexport interface WalletItemProps extends Styleable {\n    iconUrl: string;\n    name: string;\n    onClick: () => void;\n}\n\nexport const WalletItem: Component<WalletItemProps> = props => {\n    return (\n        <WalletItemStyled class={props.class} onClick={() => props.onClick()} data-tc-wallet-item=\"true\">\n            <ImageStyled src={props.iconUrl} alt=\"\" />\n            <StyledText>{props.name}</StyledText>\n        </WalletItemStyled>\n    );\n};\n","import { styled } from 'solid-styled-components';\n\nexport const H1Styled = styled.h1`\n    font-style: normal;\n    font-weight: 700;\n    font-size: 24px;\n    line-height: 30px;\n\n    text-align: center;\n\n    color: ${props => props.theme!.colors.text.primary};\n\n    margin-top: 0;\n    margin-bottom: 6px;\n\n    cursor: default;\n`;\n","import { useI18n } from '@solid-primitives/i18n';\nimport { Component, JSXElement } from 'solid-js';\nimport { Styleable } from 'src/app/models/styleable';\nimport { Translateable } from 'src/app/models/translateable';\nimport { H1Styled } from './style';\n\nexport interface H1Props extends Styleable, Translateable {\n    children?: JSXElement;\n}\n\nexport const H1: Component<H1Props> = props => {\n    const [t] = useI18n();\n    return (\n        <H1Styled class={props.class} data-tc-h1=\"true\">\n            {props.translationKey\n                ? t(props.translationKey, props.translationValues, props.children?.toString())\n                : props.children}\n        </H1Styled>\n    );\n};\n","import { styled } from 'solid-styled-components';\n\nexport const H2Styled = styled.h2`\n    font-style: normal;\n    font-weight: 510;\n    font-size: 16px;\n    line-height: 20px;\n\n    text-align: center;\n\n    color: ${props => props.theme!.colors.text.secondary};\n\n    margin-top: 0;\n    margin-bottom: 32px;\n\n    cursor: default;\n`;\n","import { useI18n } from '@solid-primitives/i18n';\nimport { Component, JSXElement } from 'solid-js';\nimport { Styleable } from 'src/app/models/styleable';\nimport { Translateable } from 'src/app/models/translateable';\nimport { H2Styled } from './style';\n\nexport interface H2Props extends Styleable, Translateable {\n    children?: JSXElement;\n}\n\nexport const H2: Component<H2Props> = props => {\n    const [t] = useI18n();\n    return (\n        <H2Styled class={props.class} data-tc-h2=\"true\">\n            {props.translationKey\n                ? t(props.translationKey, props.translationValues, props.children?.toString())\n                : props.children}\n        </H2Styled>\n    );\n};\n","import { styled } from 'solid-styled-components';\n\nexport const H3Styled = styled.h3`\n    font-style: normal;\n    font-weight: 590;\n    font-size: 15px;\n    line-height: 20px;\n\n    color: ${props => props.theme!.colors.text.primary};\n\n    margin-top: 0;\n    margin-bottom: 0;\n\n    cursor: default;\n`;\n","import { useI18n } from '@solid-primitives/i18n';\nimport { Component, JSXElement } from 'solid-js';\nimport { Translateable } from 'src/app/models/translateable';\nimport { H3Styled } from './style';\n\ninterface H3Props extends Translateable {\n    children?: JSXElement;\n}\n\nexport const H3: Component<H3Props> = props => {\n    const [t] = useI18n();\n\n    return (\n        <H3Styled data-tc-h3=\"true\">\n            {props.translationKey\n                ? t(props.translationKey, props.translationValues, props.children?.toString())\n                : props.children}\n        </H3Styled>\n    );\n};\n","import type { Property } from 'csstype';\nimport { Component } from 'solid-js';\nimport { useTheme } from 'solid-styled-components';\n\ninterface LongArrowIconProps {\n    fill?: Property.Color;\n}\n\nexport const LongArrowIcon: Component<LongArrowIconProps> = props => {\n    const theme = useTheme();\n    const fill = (): Property.Color => props.fill || theme.colors.icon.secondary;\n\n    return (\n        <svg\n            width=\"18\"\n            height=\"17\"\n            viewBox=\"0 0 18 17\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n        >\n            <path\n                d=\"M1.5 15.999L16.5 0.999023M16.5 0.999023V12.999M16.5 0.999023H4.5\"\n                stroke={fill()}\n                stroke-width=\"2\"\n                stroke-linecap=\"round\"\n                stroke-linejoin=\"round\"\n            />\n        </svg>\n    );\n};\n","import type { Property } from 'csstype';\nimport { Component } from 'solid-js';\nimport { useTheme } from 'solid-styled-components';\n\ninterface TonIconProps {\n    fill?: Property.Color;\n}\n\nexport const TonIcon: Component<TonIconProps> = props => {\n    const theme = useTheme();\n    const fill = (): string => props.fill || theme.colors.icon.primary;\n\n    return (\n        <svg\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n        >\n            <path\n                fill-rule=\"evenodd\"\n                clip-rule=\"evenodd\"\n                d=\"M14.1839 17.7069C13.6405 18.6507 13.3688 19.1226 13.0591 19.348C12.4278 19.8074 11.5723 19.8074 10.941 19.348C10.6312 19.1226 10.3595 18.6507 9.81613 17.7069L5.52066 10.2464C4.76864 8.94024 4.39263 8.28717 4.33762 7.75894C4.2255 6.68236 4.81894 5.65591 5.80788 5.21589C6.29309 5 7.04667 5 8.55383 5H15.4462C16.9534 5 17.7069 5 18.1922 5.21589C19.1811 5.65591 19.7745 6.68236 19.6624 7.75894C19.6074 8.28717 19.2314 8.94024 18.4794 10.2464L14.1839 17.7069ZM11.1 16.3412L6.56139 8.48002C6.31995 8.06185 6.19924 7.85276 6.18146 7.68365C6.14523 7.33896 6.33507 7.01015 6.65169 6.86919C6.80703 6.80002 7.04847 6.80002 7.53133 6.80002H7.53134L11.1 6.80002V16.3412ZM12.9 16.3412L17.4387 8.48002C17.6801 8.06185 17.8008 7.85276 17.8186 7.68365C17.8548 7.33896 17.665 7.01015 17.3484 6.86919C17.193 6.80002 16.9516 6.80002 16.4687 6.80002L12.9 6.80002V16.3412Z\"\n                fill={fill()}\n            />\n        </svg>\n    );\n};\n","import type { Property } from 'csstype';\nimport { Component } from 'solid-js';\nimport { Styleable } from 'src/app/models/styleable';\nimport { useTheme } from 'solid-styled-components';\n\nexport interface SuccessIconProps extends Styleable {\n    fill?: Property.Color;\n    size?: 's' | 'm';\n}\n\nexport const SuccessIcon: Component<SuccessIconProps> = props => {\n    const theme = useTheme();\n\n    const size = (): 's' | 'm' => props.size || 's';\n    const fill = (): string => props.fill || theme.colors.icon.success;\n\n    return (\n        <>\n            {size() === 's' ? (\n                <svg\n                    width=\"24\"\n                    height=\"24\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    class={props.class}\n                >\n                    <circle cx=\"12\" cy=\"12\" r=\"11\" fill={fill()} />\n                    <path\n                        d=\"M17.1364 9.6364C17.4879 9.28493 17.4879 8.71508 17.1364 8.36361C16.7849 8.01214 16.2151 8.01214 15.8636 8.36361L10 14.2272L8.1364 12.3636C7.78493 12.0121 7.21508 12.0121 6.86361 12.3636C6.51214 12.7151 6.51214 13.2849 6.86361 13.6364L9.36361 16.1364C9.71508 16.4879 10.2849 16.4879 10.6364 16.1364L17.1364 9.6364Z\"\n                        fill={theme.colors.constant.white}\n                    />\n                </svg>\n            ) : (\n                <svg\n                    width=\"72\"\n                    height=\"72\"\n                    viewBox=\"0 0 72 72\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    class={props.class}\n                >\n                    <circle cx=\"36\" cy=\"36\" r=\"33\" fill={fill()} />\n                    <path\n                        d=\"M50.9142 28.4142C51.6953 27.6332 51.6953 26.3668 50.9142 25.5858C50.1332 24.8047 48.8668 24.8047 48.0858 25.5858L30 43.6716L23.9142 37.5858C23.1332 36.8047 21.8668 36.8047 21.0858 37.5858C20.3047 38.3668 20.3047 39.6332 21.0858 40.4142L28.5858 47.9142C29.3668 48.6953 30.6332 48.6953 31.4142 47.9142L50.9142 28.4142Z\"\n                        fill={theme.colors.constant.white}\n                    />\n                </svg>\n            )}\n        </>\n    );\n};\n","import type { Property } from 'csstype';\nimport { Component } from 'solid-js';\nimport { Styleable } from 'src/app/models/styleable';\nimport { useTheme } from 'solid-styled-components';\n\nexport interface ErrorIconProps extends Styleable {\n    fill?: Property.Color;\n    size?: 's' | 'm';\n}\n\nexport const ErrorIcon: Component<ErrorIconProps> = props => {\n    const theme = useTheme();\n\n    const size = (): 's' | 'm' => props.size || 's';\n    const fill = (): string => props.fill || theme.colors.icon.error;\n\n    return (\n        <>\n            {size() === 's' ? (\n                <svg\n                    width=\"24\"\n                    height=\"24\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    class={props.class}\n                >\n                    <circle cx=\"12\" cy=\"12\" r=\"11\" fill={fill()} />\n                    <path\n                        d=\"M7.86361 9.1364C7.51214 8.78493 7.51214 8.21508 7.86361 7.86361C8.21508 7.51214 8.78493 7.51214 9.1364 7.86361L12 10.7272L14.8636 7.86361C15.2151 7.51214 15.7849 7.51214 16.1364 7.86361C16.4879 8.21508 16.4879 8.78493 16.1364 9.1364L13.2728 12L16.1364 14.8636C16.4879 15.2151 16.4879 15.7849 16.1364 16.1364C15.7849 16.4879 15.2151 16.4879 14.8636 16.1364L12 13.2728L9.1364 16.1364C8.78493 16.4879 8.21508 16.4879 7.86361 16.1364C7.51214 15.7849 7.51214 15.2151 7.86361 14.8636L10.7272 12L7.86361 9.1364Z\"\n                        fill={theme.colors.constant.white}\n                    />\n                </svg>\n            ) : (\n                <svg\n                    width=\"72\"\n                    height=\"72\"\n                    viewBox=\"0 0 72 72\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    class={props.class}\n                >\n                    <circle cx=\"36\" cy=\"36\" r=\"33\" fill={fill()} />\n                    <path\n                        d=\"M24.0858 26.9142C23.3047 26.1332 23.3047 24.8668 24.0858 24.0858C24.8668 23.3047 26.1332 23.3047 26.9142 24.0858L36 33.1716L45.0858 24.0858C45.8668 23.3047 47.1332 23.3047 47.9142 24.0858C48.6953 24.8668 48.6953 26.1332 47.9142 26.9142L38.8284 36L47.9142 45.0858C48.6953 45.8668 48.6953 47.1332 47.9142 47.9142C47.1332 48.6953 45.8668 48.6953 45.0858 47.9142L36 38.8284L26.9142 47.9142C26.1332 48.6953 24.8668 48.6953 24.0858 47.9142C23.3047 47.1332 23.3047 45.8668 24.0858 45.0858L33.1716 36L24.0858 26.9142Z\"\n                        fill={theme.colors.constant.white}\n                    />\n                </svg>\n            )}\n        </>\n    );\n};\n","import cn from 'classnames';\nimport type { Property } from 'csstype';\nimport { Component } from 'solid-js';\nimport { css, keyframes, useTheme } from 'solid-styled-components';\nimport { Styleable } from 'src/app/models/styleable';\n\nexport interface LoaderIconProps extends Styleable {\n    fill?: Property.Color;\n    size?: 's' | 'm';\n}\n\nexport const LoaderIcon: Component<LoaderIconProps> = props => {\n    const theme = useTheme();\n\n    const size = (): 's' | 'm' => props.size || 's';\n    const fill = (): string => props.fill || theme.colors.icon.tertiary;\n\n    const rotateAnimation = keyframes`\n        0% {\n          transform: rotate(0deg);\n        }\n        100% {\n          transform: rotate(360deg);\n        }\n    `;\n\n    const svgClass = css`\n        animation: ${rotateAnimation} 1s linear infinite;\n    `;\n\n    return (\n        <>\n            {size() === 's' ? (\n                <svg\n                    width=\"24\"\n                    height=\"24\"\n                    viewBox=\"0 0 24 24\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    class={cn(svgClass, props.class)}\n                >\n                    <path\n                        d=\"M15.55 5.85123C18.9459 7.81184 20.1094 12.1541 18.1488 15.55C16.1882 18.9459 11.8459 20.1094 8.44998 18.1488C8.01952 17.9003 7.46909 18.0478 7.22056 18.4782C6.97203 18.9087 7.11952 19.4591 7.54998 19.7076C11.8068 22.1653 17.2499 20.7068 19.7076 16.45C22.1653 12.1932 20.7068 6.75005 16.45 4.29239C12.1932 1.83472 6.75003 3.29321 4.29236 7.55001C4.04383 7.98047 4.19132 8.53091 4.62178 8.77943C5.05224 9.02796 5.60268 8.88048 5.8512 8.45001C7.81181 5.05413 12.1541 3.89062 15.55 5.85123Z\"\n                        fill={fill()}\n                    />\n                </svg>\n            ) : (\n                <svg\n                    width=\"72\"\n                    height=\"72\"\n                    viewBox=\"0 0 72 72\"\n                    fill=\"none\"\n                    xmlns=\"http://www.w3.org/2000/svg\"\n                    class={cn(svgClass, props.class)}\n                >\n                    <path\n                        d=\"M24 56.7846C35.479 63.412 50.1572 59.479 56.7846 47.9999C63.412 36.5209 59.479 21.8427 48 15.2153C36.521 8.58791 21.8428 12.5209 15.2154 23.9999\"\n                        stroke={fill()}\n                        stroke-width=\"4\"\n                        stroke-linecap=\"round\"\n                        stroke-linejoin=\"round\"\n                    />\n                </svg>\n            )}\n        </>\n    );\n};\n","import { createContext } from 'solid-js';\nimport { TonConnectUI } from 'src/ton-connect-ui';\n\nexport const TonConnectUiContext = createContext<TonConnectUI>();\n","import type { Property } from 'csstype';\nimport { Component } from 'solid-js';\nimport { useTheme } from 'solid-styled-components';\n\ninterface CopyIconProps {\n    fill?: Property.Color;\n}\n\nexport const CopyIcon: Component<CopyIconProps> = props => {\n    const theme = useTheme();\n    const fill = (): string => props.fill || theme.colors.icon.primary;\n\n    return (\n        <svg\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n        >\n            <path\n                fill-rule=\"evenodd\"\n                clip-rule=\"evenodd\"\n                d=\"M7.76228 2.09998H10.2378C11.0458 2.09997 11.7067 2.09996 12.2438 2.14384C12.7997 2.18926 13.3017 2.28614 13.7706 2.52505C14.5045 2.89896 15.1011 3.49558 15.475 4.22941C15.7139 4.6983 15.8108 5.20038 15.8562 5.75629C15.9001 6.29337 15.9001 6.95422 15.9001 7.76227V8.1H16.2377C17.0457 8.09999 17.7066 8.09998 18.2437 8.14386C18.7996 8.18928 19.3017 8.28616 19.7705 8.52507C20.5044 8.89898 21.101 9.4956 21.4749 10.2294C21.7138 10.6983 21.8107 11.2004 21.8561 11.7563C21.9 12.2934 21.9 12.9542 21.9 13.7623V16.2377C21.9 17.0458 21.9 17.7066 21.8561 18.2437C21.8107 18.7996 21.7138 19.3017 21.4749 19.7706C21.101 20.5044 20.5044 21.101 19.7705 21.4749C19.3017 21.7138 18.7996 21.8107 18.2437 21.8561C17.7066 21.9 17.0458 21.9 16.2378 21.9H13.7623C12.9543 21.9 12.2934 21.9 11.7563 21.8561C11.2004 21.8107 10.6983 21.7138 10.2294 21.4749C9.49561 21.101 8.89898 20.5044 8.52508 19.7706C8.28616 19.3017 8.18928 18.7996 8.14386 18.2437C8.09998 17.7066 8.09999 17.0458 8.1 16.2377V15.9H7.76227C6.95426 15.9 6.29335 15.9 5.75629 15.8561C5.20038 15.8107 4.6983 15.7138 4.22941 15.4749C3.49558 15.101 2.89896 14.5044 2.52505 13.7705C2.28614 13.3017 2.18926 12.7996 2.14384 12.2437C2.09996 11.7066 2.09997 11.0458 2.09998 10.2377V7.76228C2.09997 6.95424 2.09996 6.29336 2.14384 5.75629C2.18926 5.20038 2.28614 4.6983 2.52505 4.22941C2.89896 3.49558 3.49558 2.89896 4.22941 2.52505C4.6983 2.28614 5.20038 2.18926 5.75629 2.14384C6.29336 2.09996 6.95425 2.09997 7.76228 2.09998ZM8.1 14.1V13.7623C8.09999 12.9542 8.09998 12.2934 8.14386 11.7563C8.18928 11.2004 8.28616 10.6983 8.52508 10.2294C8.89898 9.4956 9.49561 8.89898 10.2294 8.52507C10.6983 8.28616 11.2004 8.18928 11.7563 8.14386C12.2934 8.09998 12.9542 8.09999 13.7623 8.1H14.1001V7.79998C14.1001 6.94505 14.0994 6.35798 14.0622 5.90287C14.0259 5.45827 13.9593 5.21944 13.8712 5.0466C13.6699 4.65146 13.3486 4.3302 12.9535 4.12886C12.7806 4.04079 12.5418 3.97419 12.0972 3.93786C11.6421 3.90068 11.055 3.89998 10.2001 3.89998H7.79998C6.94505 3.89998 6.35798 3.90068 5.90287 3.93786C5.45827 3.97419 5.21944 4.04079 5.0466 4.12886C4.65146 4.3302 4.3302 4.65146 4.12886 5.0466C4.04079 5.21944 3.97419 5.45827 3.93786 5.90287C3.90068 6.35798 3.89998 6.94505 3.89998 7.79998V10.2C3.89998 11.0549 3.90068 11.642 3.93786 12.0971C3.97419 12.5417 4.04079 12.7805 4.12886 12.9534C4.3302 13.3485 4.65146 13.6698 5.0466 13.8711C5.21944 13.9592 5.45827 14.0258 5.90287 14.0621C6.35798 14.0993 6.94505 14.1 7.79998 14.1H8.1ZM11.0466 10.1289C11.2195 10.0408 11.4583 9.97421 11.9029 9.93788C12.358 9.9007 12.9451 9.9 13.8 9.9H16.2C17.0549 9.9 17.642 9.9007 18.0971 9.93788C18.5417 9.97421 18.7805 10.0408 18.9534 10.1289C19.3485 10.3302 19.6698 10.6515 19.8711 11.0466C19.9592 11.2195 20.0258 11.4583 20.0621 11.9029C20.0993 12.358 20.1 12.9451 20.1 13.8V16.2C20.1 17.0549 20.0993 17.642 20.0621 18.0971C20.0258 18.5417 19.9592 18.7805 19.8711 18.9534C19.6698 19.3485 19.3485 19.6698 18.9534 19.8711C18.7805 19.9592 18.5417 20.0258 18.0971 20.0621C17.642 20.0993 17.0549 20.1 16.2 20.1H13.8C12.9451 20.1 12.358 20.0993 11.9029 20.0621C11.4583 20.0258 11.2195 19.9592 11.0466 19.8711C10.6515 19.6698 10.3302 19.3485 10.1289 18.9534C10.0408 18.7805 9.97421 18.5417 9.93788 18.0971C9.9007 17.642 9.9 17.0549 9.9 16.2V13.8C9.9 12.9451 9.9007 12.358 9.93788 11.9029C9.97421 11.4583 10.0408 11.2195 10.1289 11.0466C10.3302 10.6515 10.6515 10.3302 11.0466 10.1289Z\"\n                fill={fill()}\n            />\n        </svg>\n    );\n};\n","import type { Property } from 'csstype';\nimport { Component } from 'solid-js';\nimport { useTheme } from 'solid-styled-components';\n\ninterface DisconnectIconProps {\n    fill?: Property.Color;\n}\n\nexport const DisconnectIcon: Component<DisconnectIconProps> = props => {\n    const theme = useTheme();\n    const fill = (): string => props.fill || theme.colors.icon.primary;\n\n    return (\n        <svg\n            width=\"24\"\n            height=\"24\"\n            viewBox=\"0 0 24 24\"\n            fill=\"none\"\n            xmlns=\"http://www.w3.org/2000/svg\"\n        >\n            <path\n                d=\"M8.7624 3.10001C7.95435 3.1 7.29349 3.09999 6.75642 3.14387C6.2005 3.18929 5.69842 3.28617 5.22954 3.52508C4.4957 3.89899 3.89908 4.49561 3.52517 5.22944C3.28626 5.69833 3.18938 6.20041 3.14396 6.75632C3.10008 7.2934 3.10009 7.95424 3.1001 8.76229V15.2377C3.10009 16.0458 3.10008 16.7066 3.14396 17.2437C3.18938 17.7996 3.28626 18.3017 3.52517 18.7706C3.89908 19.5044 4.4957 20.101 5.22954 20.4749C5.69842 20.7138 6.2005 20.8107 6.75642 20.8561C7.29349 20.9 7.95434 20.9 8.76239 20.9H12.0001C12.4972 20.9 12.9001 20.4971 12.9001 20C12.9001 19.503 12.4972 19.1 12.0001 19.1H8.8001C7.94517 19.1 7.3581 19.0993 6.90299 19.0621C6.45839 19.0258 6.21956 18.9592 6.04672 18.8711C5.65158 18.6698 5.33032 18.3485 5.12898 17.9534C5.04092 17.7805 4.97431 17.5417 4.93798 17.0971C4.9008 16.642 4.9001 16.0549 4.9001 15.2V8.80001C4.9001 7.94508 4.9008 7.35801 4.93798 6.9029C4.97431 6.4583 5.04092 6.21947 5.12898 6.04663C5.33032 5.65149 5.65158 5.33023 6.04672 5.12889C6.21956 5.04082 6.45839 4.97422 6.90299 4.93789C7.3581 4.90071 7.94517 4.90001 8.8001 4.90001H12.0001C12.4972 4.90001 12.9001 4.49706 12.9001 4.00001C12.9001 3.50295 12.4972 3.10001 12.0001 3.10001H8.7624Z\"\n                fill={fill()}\n            />\n            <path\n                d=\"M17.6364 7.3636C17.2849 7.01212 16.7151 7.01212 16.3636 7.3636C16.0121 7.71507 16.0121 8.28492 16.3636 8.63639L18.8272 11.1H9.00001C8.50295 11.1 8.10001 11.5029 8.10001 12C8.10001 12.497 8.50295 12.9 9.00001 12.9H18.8272L16.3636 15.3636C16.0121 15.7151 16.0121 16.2849 16.3636 16.6364C16.7151 16.9879 17.2849 16.9879 17.6364 16.6364L21.6364 12.6364C21.9879 12.2849 21.9879 11.7151 21.6364 11.3636L17.6364 7.3636Z\"\n                fill={fill()}\n            />\n        </svg>\n    );\n};\n","import { styled } from 'solid-styled-components';\nimport { BorderRadiusConfig } from 'src/app/models/border-radius-config';\n\nconst hoverBorders: BorderRadiusConfig = {\n    m: '8px',\n    s: '4px',\n    none: '0'\n};\n\nconst dropdownBorders: BorderRadiusConfig = {\n    m: '16px',\n    s: '8px',\n    none: '0'\n};\n\nexport const AccountButtonDropdownStyled = styled.div`\n    width: 256px;\n    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);\n    border-radius: ${props => dropdownBorders[props.theme!.borderRadius]};\n\n    background-color: ${props => props.theme!.colors.background.primary}\n           \n    color: ${props => props.theme!.colors.text.primary}\n`;\n\nexport const UlStyled = styled.ul`\n    background-color: ${props => props.theme!.colors.background.primary};\n    padding: 8px;\n`;\n\nexport const MenuButtonStyled = styled.button`\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    height: 40px;\n    padding-left: 8px;\n    width: 100%;\n\n    background-color: ${props => props.theme!.colors.background.primary};\n    border: none;\n    border-radius: ${props => hoverBorders[props.theme!.borderRadius]};\n    cursor: pointer;\n\n    transition: background-color, transform 0.1s ease-in-out;\n\n    &:hover {\n        background-color: ${props => props.theme!.colors.background.secondary};\n    }\n\n    &:active {\n        transform: scale(0.96);\n    }\n`;\n","import { Component, createSignal, Show, useContext } from 'solid-js';\nimport { Text } from 'src/app/components';\nimport { CopyIcon } from 'src/app/components/icons/copy-icon';\nimport { DisconnectIcon } from 'src/app/components/icons/disconnect-icon';\nimport { Styleable } from 'src/app/models/styleable';\nimport { Translateable } from 'src/app/models/translateable';\nimport { TonConnectUiContext } from 'src/app/state/ton-connect-ui.context';\nimport { CHAIN, toUserFriendlyAddress } from '@tonconnect/sdk';\nimport { copyToClipboard } from 'src/app/utils/copy-to-clipboard';\nimport { AccountButtonDropdownStyled, MenuButtonStyled, UlStyled } from './style';\n\nconst MenuItemText: Component<{ children: string } & Translateable> = props => (\n    <Text translationKey={props.translationKey} fontSize=\"15px\" fontWeight=\"590\">\n        {props.children}\n    </Text>\n);\n\nexport interface AccountButtonDropdownProps extends Styleable {\n    onClose: () => void;\n    ref: HTMLDivElement | undefined;\n}\n\nexport const AccountButtonDropdown: Component<AccountButtonDropdownProps> = props => {\n    const tonConnectUi = useContext(TonConnectUiContext)!;\n    const [isCopiedShown, setIsCopiedShown] = createSignal(false);\n\n    const onCopy = async (): Promise<void> => {\n        const userFriendlyAddress = toUserFriendlyAddress(\n            tonConnectUi.account!.address,\n            tonConnectUi.account!.chain === CHAIN.TESTNET\n        );\n        await copyToClipboard(userFriendlyAddress);\n        setIsCopiedShown(true);\n\n        setTimeout(() => setIsCopiedShown(false), 1000);\n    };\n\n    const onDisconnect = (): void => {\n        tonConnectUi.disconnect();\n        props.onClose();\n    };\n\n    return (\n        <AccountButtonDropdownStyled ref={props.ref} class={props.class} data-tc-dropdown=\"true\">\n            <UlStyled>\n                <li>\n                    <MenuButtonStyled onClick={() => onCopy()}>\n                        <CopyIcon />\n                        <Show when={!isCopiedShown()}>\n                            <MenuItemText translationKey=\"button.dropdown.copy\">\n                                Copy address\n                            </MenuItemText>\n                        </Show>\n                        <Show when={isCopiedShown()}>\n                            <MenuItemText translationKey=\"button.dropdown.copied\">\n                                Address copied!\n                            </MenuItemText>\n                        </Show>\n                    </MenuButtonStyled>\n                </li>\n                <li>\n                    <MenuButtonStyled onClick={() => onDisconnect()}>\n                        <DisconnectIcon />\n                        <MenuItemText translationKey=\"button.dropdown.disconnect\">\n                            Disconnect\n                        </MenuItemText>\n                    </MenuButtonStyled>\n                </li>\n            </UlStyled>\n        </AccountButtonDropdownStyled>\n    );\n};\n","import { styled } from 'solid-styled-components';\nimport { Text } from 'src/app/components';\nimport { BorderRadiusConfig } from 'src/app/models/border-radius-config';\n\nconst borders: BorderRadiusConfig = {\n    m: '16px',\n    s: '8px',\n    none: '0'\n};\nexport const NotificationStyled = styled.div`\n    width: 256px;\n    padding: 12px 16px;\n    display: flex;\n    gap: 9px;\n\n    background-color: ${props => props.theme!.colors.background.primary};\n    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);\n    border-radius: ${props => borders[props.theme!.borderRadius]};\n`;\n\nexport const NotificationContentStyled = styled.div`\n    width: 192px;\n`;\n\nexport const TextStyled = styled(Text)`\n    margin-top: 4px;\n    color: ${props => props.theme!.colors.text.secondary};\n`;\n","import { Component, JSXElement, Show } from 'solid-js';\nimport { H3 } from 'src/app/components';\nimport { Styleable } from 'src/app/models/styleable';\nimport { Translateable } from 'src/app/models/translateable';\nimport { PropertyRequired } from 'src/app/utils/types';\nimport { NotificationContentStyled, NotificationStyled, TextStyled } from './style';\nimport { useDataAttributes } from 'src/app/hooks/use-data-attributes';\nimport { WithDataAttributes } from 'src/app/models/with-data-attributes';\n\nexport interface NotificationProps extends Styleable, WithDataAttributes {\n    header: PropertyRequired<Translateable, 'translationKey'>;\n    children?: string;\n    text?: Translateable;\n    icon?: JSXElement;\n}\n\nexport const Notification: Component<NotificationProps> = props => {\n    const dataAttrs = useDataAttributes(props);\n\n    return (\n        <NotificationStyled class={props.class} data-tc-notification=\"true\" {...dataAttrs}>\n            <NotificationContentStyled>\n                <H3\n                    translationKey={props.header.translationKey}\n                    translationValues={props.header.translationValues}\n                >\n                    {props.children}\n                </H3>\n                <Show when={props.text}>\n                    <TextStyled\n                        translationKey={props.text!.translationKey}\n                        translationValues={props.text!.translationValues}\n                    />\n                </Show>\n            </NotificationContentStyled>\n            {props.icon}\n        </NotificationStyled>\n    );\n};\n","import { styled } from 'solid-styled-components';\nimport { LoaderIcon } from 'src/app/components';\n\nexport const LoaderIconStyled = styled(LoaderIcon)`\n    align-self: center;\n`;\n","import { Component, useContext } from 'solid-js';\nimport { Notification } from 'src/app/components/notification';\nimport { Styleable } from 'src/app/models/styleable';\nimport { LoaderIconStyled } from 'src/app/views/account-button/notifications/confirm-operation-notification/style';\nimport { TonConnectUiContext } from 'src/app/state/ton-connect-ui.context';\nimport { useI18n } from '@solid-primitives/i18n';\n\ninterface ConfirmOperationNotificationProps extends Styleable {}\n\nexport const ConfirmOperationNotification: Component<ConfirmOperationNotificationProps> = props => {\n    const tonConnectUI = useContext(TonConnectUiContext);\n    const [t] = useI18n();\n    const name = tonConnectUI!.wallet?.name || t('common.yourWallet', {}, 'your wallet');\n\n    return (\n        <Notification\n            header={{ translationKey: 'notifications.confirm.header', translationValues: { name } }}\n            class={props.class}\n            icon={<LoaderIconStyled />}\n            data-tc-notification-confirm=\"true\"\n        >\n            Confirm operation in your wallet\n        </Notification>\n    );\n};\n","import { styled } from 'solid-styled-components';\nimport { ErrorIcon } from 'src/app/components';\n\nexport const ErrorIconStyled = styled(ErrorIcon)`\n    margin-top: 2px;\n`;\n","import { Component } from 'solid-js';\nimport { Notification } from 'src/app/components/notification';\nimport { Styleable } from 'src/app/models/styleable';\nimport { ErrorIconStyled } from './style';\n\ninterface ErrorTransactionNotificationProps extends Styleable {}\n\nexport const ErrorTransactionNotification: Component<ErrorTransactionNotificationProps> = props => {\n    return (\n        <Notification\n            header={{ translationKey: 'notifications.transactionCanceled.header' }}\n            text={{ translationKey: 'notifications.transactionCanceled.text' }}\n            icon={<ErrorIconStyled />}\n            class={props.class}\n            data-tc-notification-tx-cancelled=\"true\"\n        >\n            Transaction cancelled\n        </Notification>\n    );\n};\n","import { styled } from 'solid-styled-components';\nimport { SuccessIcon } from 'src/app/components';\n\nexport const SuccessIconStyled = styled(SuccessIcon)`\n    margin-top: 2px;\n`;\n","import { Component } from 'solid-js';\nimport { Notification } from 'src/app/components/notification';\nimport { Styleable } from 'src/app/models/styleable';\nimport { SuccessIconStyled } from 'src/app/views/account-button/notifications/success-transaction-notification/style';\n\ninterface SuccessTransactionNotificationProps extends Styleable {}\n\nexport const SuccessTransactionNotification: Component<\n    SuccessTransactionNotificationProps\n> = props => {\n    return (\n        <Notification\n            header={{ translationKey: 'notifications.transactionSent.header' }}\n            text={{ translationKey: 'notifications.transactionSent.text' }}\n            icon={<SuccessIconStyled />}\n            class={props.class}\n            data-tc-notification-tx-sent=\"true\"\n        >\n            Transaction sent\n        </Notification>\n    );\n};\n","import { css } from 'solid-styled-components';\n\nexport const NotificationClass = css`\n    transform: translateY(-8px);\n    margin-bottom: 12px;\n`;\n","import { styled } from 'solid-styled-components';\nimport { Button, LoaderIcon } from 'src/app/components';\nimport { rgba } from 'src/app/utils/css';\nimport { AccountButtonDropdown } from 'src/app/views/account-button/account-button-dropdown';\nimport { Notifications } from 'src/app/views/account-button/notifications';\n\nexport const AccountButtonStyled = styled(Button)`\n    background-color: ${props => props.theme!.colors.connectButton.background};\n    color: ${props => props.theme!.colors.connectButton.foreground};\n    box-shadow: ${props => `0 4px 24px ${rgba(props.theme!.colors.constant.black, 0.16)}`};\n    padding: 8px 16px 8px 12px;\n\n    display: flex;\n    align-items: center;\n    gap: 4px;\n    height: 40px;\n`;\n\nexport const DropdownButtonStyled = styled(AccountButtonStyled)`\n    padding: 12px 16px;\n    min-width: 148px;\n    justify-content: center;\n    background-color: ${props => props.theme!.colors.background.primary};\n`;\n\nexport const LoaderButtonStyled = styled(Button)`\n    min-width: 148px;\n    height: 40px;\n\n    background-color: ${props => props.theme!.colors.background.primary};\n    color: ${props => props.theme!.colors.connectButton.foreground};\n    box-shadow: ${props => `0 4px 24px ${rgba(props.theme!.colors.constant.black, 0.16)}`};\n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`;\nexport const LoaderIconStyled = styled(LoaderIcon)`\n    height: 18px;\n    width: 18px;\n`;\n\nexport const DropdownContainerStyled = styled.div`\n    width: fit-content;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n`;\n\nexport const DropdownStyled = styled(AccountButtonDropdown)<{ hidden: boolean }>`\n    box-sizing: border-box;\n    overflow: hidden;\n    margin-top: 12px;\n`;\n\nexport const NotificationsStyled = styled(Notifications)`\n    > div:first-child {\n        margin-top: 20px;\n    }\n`;\n","import { Component, createEffect, createSignal, For, Match, on, onCleanup, Switch } from 'solid-js';\nimport { TransitionGroup } from 'solid-transition-group';\nimport { ActionName, action } from 'src/app/state/modals-state';\nimport { ConfirmOperationNotification } from './confirm-operation-notification';\nimport { ErrorTransactionNotification } from './error-transaction-notification';\nimport { SuccessTransactionNotification } from './success-transaction-notification';\nimport { NotificationClass } from './style';\nimport { Styleable } from 'src/app/models/styleable';\n\nexport interface NotificationsProps extends Styleable {}\n\nexport const Notifications: Component<NotificationsProps> = props => {\n    const timeouts: ReturnType<typeof setTimeout>[] = [];\n\n    const [openedNotifications, setOpenedNotifications] = createSignal<\n        { id: number; action: ActionName }[]\n    >([]);\n\n    let lastId = -1;\n    const liveTimeoutMs = 4500;\n\n    createEffect(\n        on(action, action => {\n            if (action && action.showNotification) {\n                lastId++;\n                const id = lastId;\n\n                setOpenedNotifications(notifications =>\n                    notifications\n                        .filter(notification => notification.action !== 'confirm-transaction')\n                        .concat({ id, action: action.name })\n                );\n                timeouts.push(\n                    setTimeout(\n                        () =>\n                            setOpenedNotifications(notifications =>\n                                notifications.filter(notification => notification.id !== id)\n                            ),\n                        liveTimeoutMs\n                    )\n                );\n            }\n        })\n    );\n\n    onCleanup(() => {\n        timeouts.forEach(clearTimeout);\n    });\n\n    return (\n        <div class={props.class} data-tc-list-notifications=\"true\">\n            <TransitionGroup\n                onBeforeEnter={el => {\n                    el.animate(\n                        [\n                            { opacity: 0, transform: 'translateY(0)' },\n                            { opacity: 1, transform: 'translateY(-8px)' }\n                        ],\n                        {\n                            duration: 200\n                        }\n                    );\n                }}\n                onExit={(el, done) => {\n                    const a = el.animate(\n                        [\n                            { opacity: 1, transform: 'translateY(-8px)' },\n                            { opacity: 0, transform: 'translateY(-30px)' }\n                        ],\n                        {\n                            duration: 200\n                        }\n                    );\n                    a.finished.then(done);\n                }}\n            >\n                <For each={openedNotifications()}>\n                    {openedNotification => (\n                        <Switch>\n                            <Match when={openedNotification.action === 'transaction-sent'}>\n                                <SuccessTransactionNotification class={NotificationClass} />\n                            </Match>\n                            <Match when={openedNotification.action === 'transaction-canceled'}>\n                                <ErrorTransactionNotification class={NotificationClass} />\n                            </Match>\n                            <Match when={openedNotification.action === 'confirm-transaction'}>\n                                <ConfirmOperationNotification class={NotificationClass} />\n                            </Match>\n                        </Switch>\n                    )}\n                </For>\n            </TransitionGroup>\n        </div>\n    );\n};\n","function getSide(placement) {\n  return placement.split('-')[0];\n}\n\nfunction getAlignment(placement) {\n  return placement.split('-')[1];\n}\n\nfunction getMainAxisFromPlacement(placement) {\n  return ['top', 'bottom'].includes(getSide(placement)) ? 'x' : 'y';\n}\n\nfunction getLengthFromAxis(axis) {\n  return axis === 'y' ? 'height' : 'width';\n}\n\nfunction computeCoordsFromPlacement(_ref, placement, rtl) {\n  let {\n    reference,\n    floating\n  } = _ref;\n  const commonX = reference.x + reference.width / 2 - floating.width / 2;\n  const commonY = reference.y + reference.height / 2 - floating.height / 2;\n  const mainAxis = getMainAxisFromPlacement(placement);\n  const length = getLengthFromAxis(mainAxis);\n  const commonAlign = reference[length] / 2 - floating[length] / 2;\n  const side = getSide(placement);\n  const isVertical = mainAxis === 'x';\n  let coords;\n\n  switch (side) {\n    case 'top':\n      coords = {\n        x: commonX,\n        y: reference.y - floating.height\n      };\n      break;\n\n    case 'bottom':\n      coords = {\n        x: commonX,\n        y: reference.y + reference.height\n      };\n      break;\n\n    case 'right':\n      coords = {\n        x: reference.x + reference.width,\n        y: commonY\n      };\n      break;\n\n    case 'left':\n      coords = {\n        x: reference.x - floating.width,\n        y: commonY\n      };\n      break;\n\n    default:\n      coords = {\n        x: reference.x,\n        y: reference.y\n      };\n  }\n\n  switch (getAlignment(placement)) {\n    case 'start':\n      coords[mainAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n\n    case 'end':\n      coords[mainAxis] += commonAlign * (rtl && isVertical ? -1 : 1);\n      break;\n  }\n\n  return coords;\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain positioning strategy.\n *\n * This export does not have any `platform` interface logic. You will need to\n * write one for the platform you are using Floating UI with.\n */\n\nconst computePosition = async (reference, floating, config) => {\n  const {\n    placement = 'bottom',\n    strategy = 'absolute',\n    middleware = [],\n    platform\n  } = config;\n  const validMiddleware = middleware.filter(Boolean);\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));\n\n  if (process.env.NODE_ENV !== \"production\") {\n    if (platform == null) {\n      console.error(['Floating UI: `platform` property was not passed to config. If you', 'want to use Floating UI on the web, install @floating-ui/dom', 'instead of the /core package. Otherwise, you can create your own', '`platform`: https://floating-ui.com/docs/platform'].join(' '));\n    }\n\n    if (validMiddleware.filter(_ref => {\n      let {\n        name\n      } = _ref;\n      return name === 'autoPlacement' || name === 'flip';\n    }).length > 1) {\n      throw new Error(['Floating UI: duplicate `flip` and/or `autoPlacement` middleware', 'detected. This will lead to an infinite loop. Ensure only one of', 'either has been passed to the `middleware` array.'].join(' '));\n    }\n\n    if (!reference || !floating) {\n      console.error(['Floating UI: The reference and/or floating element was not defined', 'when `computePosition()` was called. Ensure that both elements have', 'been created and can be measured.'].join(' '));\n    }\n  }\n\n  let rects = await platform.getElementRects({\n    reference,\n    floating,\n    strategy\n  });\n  let {\n    x,\n    y\n  } = computeCoordsFromPlacement(rects, placement, rtl);\n  let statefulPlacement = placement;\n  let middlewareData = {};\n  let resetCount = 0;\n\n  for (let i = 0; i < validMiddleware.length; i++) {\n    const {\n      name,\n      fn\n    } = validMiddleware[i];\n    const {\n      x: nextX,\n      y: nextY,\n      data,\n      reset\n    } = await fn({\n      x,\n      y,\n      initialPlacement: placement,\n      placement: statefulPlacement,\n      strategy,\n      middlewareData,\n      rects,\n      platform,\n      elements: {\n        reference,\n        floating\n      }\n    });\n    x = nextX != null ? nextX : x;\n    y = nextY != null ? nextY : y;\n    middlewareData = { ...middlewareData,\n      [name]: { ...middlewareData[name],\n        ...data\n      }\n    };\n\n    if (process.env.NODE_ENV !== \"production\") {\n      if (resetCount > 50) {\n        console.warn(['Floating UI: The middleware lifecycle appears to be running in an', 'infinite loop. This is usually caused by a `reset` continually', 'being returned without a break condition.'].join(' '));\n      }\n    }\n\n    if (reset && resetCount <= 50) {\n      resetCount++;\n\n      if (typeof reset === 'object') {\n        if (reset.placement) {\n          statefulPlacement = reset.placement;\n        }\n\n        if (reset.rects) {\n          rects = reset.rects === true ? await platform.getElementRects({\n            reference,\n            floating,\n            strategy\n          }) : reset.rects;\n        }\n\n        ({\n          x,\n          y\n        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));\n      }\n\n      i = -1;\n      continue;\n    }\n  }\n\n  return {\n    x,\n    y,\n    placement: statefulPlacement,\n    strategy,\n    middlewareData\n  };\n};\n\nfunction expandPaddingObject(padding) {\n  return {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    ...padding\n  };\n}\n\nfunction getSideObjectFromPadding(padding) {\n  return typeof padding !== 'number' ? expandPaddingObject(padding) : {\n    top: padding,\n    right: padding,\n    bottom: padding,\n    left: padding\n  };\n}\n\nfunction rectToClientRect(rect) {\n  return { ...rect,\n    top: rect.y,\n    left: rect.x,\n    right: rect.x + rect.width,\n    bottom: rect.y + rect.height\n  };\n}\n\n/**\n * Resolves with an object of overflow side offsets that determine how much the\n * element is overflowing a given clipping boundary.\n * - positive = overflowing the boundary by that number of pixels\n * - negative = how many pixels left before it will overflow\n * - 0 = lies flush with the boundary\n * @see https://floating-ui.com/docs/detectOverflow\n */\nasync function detectOverflow(middlewareArguments, options) {\n  var _await$platform$isEle;\n\n  if (options === void 0) {\n    options = {};\n  }\n\n  const {\n    x,\n    y,\n    platform,\n    rects,\n    elements,\n    strategy\n  } = middlewareArguments;\n  const {\n    boundary = 'clippingAncestors',\n    rootBoundary = 'viewport',\n    elementContext = 'floating',\n    altBoundary = false,\n    padding = 0\n  } = options;\n  const paddingObject = getSideObjectFromPadding(padding);\n  const altContext = elementContext === 'floating' ? 'reference' : 'floating';\n  const element = elements[altBoundary ? altContext : elementContext];\n  const clippingClientRect = rectToClientRect(await platform.getClippingRect({\n    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),\n    boundary,\n    rootBoundary,\n    strategy\n  }));\n  const rect = elementContext === 'floating' ? { ...rects.floating,\n    x,\n    y\n  } : rects.reference;\n  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));\n  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {\n    x: 1,\n    y: 1\n  } : {\n    x: 1,\n    y: 1\n  };\n  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n    rect,\n    offsetParent,\n    strategy\n  }) : rect);\n\n  if (process.env.NODE_ENV !== \"production\") ;\n\n  return {\n    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,\n    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,\n    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,\n    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x\n  };\n}\n\nconst min = Math.min;\nconst max = Math.max;\n\nfunction within(min$1, value, max$1) {\n  return max(min$1, min(value, max$1));\n}\n\n/**\n * Positions an inner element of the floating element such that it is centered\n * to the reference element.\n * @see https://floating-ui.com/docs/arrow\n */\nconst arrow = options => ({\n  name: 'arrow',\n  options,\n\n  async fn(middlewareArguments) {\n    // Since `element` is required, we don't Partial<> the type\n    const {\n      element,\n      padding = 0\n    } = options != null ? options : {};\n    const {\n      x,\n      y,\n      placement,\n      rects,\n      platform\n    } = middlewareArguments;\n\n    if (element == null) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn('Floating UI: No `element` was passed to the `arrow` middleware.');\n      }\n\n      return {};\n    }\n\n    const paddingObject = getSideObjectFromPadding(padding);\n    const coords = {\n      x,\n      y\n    };\n    const axis = getMainAxisFromPlacement(placement);\n    const alignment = getAlignment(placement);\n    const length = getLengthFromAxis(axis);\n    const arrowDimensions = await platform.getDimensions(element);\n    const minProp = axis === 'y' ? 'top' : 'left';\n    const maxProp = axis === 'y' ? 'bottom' : 'right';\n    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];\n    const startDiff = coords[axis] - rects.reference[axis];\n    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));\n    let clientSize = arrowOffsetParent ? axis === 'y' ? arrowOffsetParent.clientHeight || 0 : arrowOffsetParent.clientWidth || 0 : 0;\n\n    if (clientSize === 0) {\n      clientSize = rects.floating[length];\n    }\n\n    const centerToReference = endDiff / 2 - startDiff / 2; // Make sure the arrow doesn't overflow the floating element if the center\n    // point is outside the floating element's bounds\n\n    const min = paddingObject[minProp];\n    const max = clientSize - arrowDimensions[length] - paddingObject[maxProp];\n    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;\n    const offset = within(min, center, max); // Make sure that arrow points at the reference\n\n    const alignmentPadding = alignment === 'start' ? paddingObject[minProp] : paddingObject[maxProp];\n    const shouldAddOffset = alignmentPadding > 0 && center !== offset && rects.reference[length] <= rects.floating[length];\n    const alignmentOffset = shouldAddOffset ? center < min ? min - center : max - center : 0;\n    return {\n      [axis]: coords[axis] - alignmentOffset,\n      data: {\n        [axis]: offset,\n        centerOffset: center - offset\n      }\n    };\n  }\n\n});\n\nconst hash$1 = {\n  left: 'right',\n  right: 'left',\n  bottom: 'top',\n  top: 'bottom'\n};\nfunction getOppositePlacement(placement) {\n  return placement.replace(/left|right|bottom|top/g, matched => hash$1[matched]);\n}\n\nfunction getAlignmentSides(placement, rects, rtl) {\n  if (rtl === void 0) {\n    rtl = false;\n  }\n\n  const alignment = getAlignment(placement);\n  const mainAxis = getMainAxisFromPlacement(placement);\n  const length = getLengthFromAxis(mainAxis);\n  let mainAlignmentSide = mainAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';\n\n  if (rects.reference[length] > rects.floating[length]) {\n    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);\n  }\n\n  return {\n    main: mainAlignmentSide,\n    cross: getOppositePlacement(mainAlignmentSide)\n  };\n}\n\nconst hash = {\n  start: 'end',\n  end: 'start'\n};\nfunction getOppositeAlignmentPlacement(placement) {\n  return placement.replace(/start|end/g, matched => hash[matched]);\n}\n\nconst sides = ['top', 'right', 'bottom', 'left'];\nconst allPlacements = /*#__PURE__*/sides.reduce((acc, side) => acc.concat(side, side + \"-start\", side + \"-end\"), []);\n\nfunction getPlacementList(alignment, autoAlignment, allowedPlacements) {\n  const allowedPlacementsSortedByAlignment = alignment ? [...allowedPlacements.filter(placement => getAlignment(placement) === alignment), ...allowedPlacements.filter(placement => getAlignment(placement) !== alignment)] : allowedPlacements.filter(placement => getSide(placement) === placement);\n  return allowedPlacementsSortedByAlignment.filter(placement => {\n    if (alignment) {\n      return getAlignment(placement) === alignment || (autoAlignment ? getOppositeAlignmentPlacement(placement) !== placement : false);\n    }\n\n    return true;\n  });\n}\n\n/**\n * Automatically chooses the `placement` which has the most space available.\n * @see https://floating-ui.com/docs/autoPlacement\n */\nconst autoPlacement = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'autoPlacement',\n    options,\n\n    async fn(middlewareArguments) {\n      var _middlewareData$autoP, _middlewareData$autoP2, _middlewareData$autoP3, _middlewareData$autoP4, _placementsSortedByLe;\n\n      const {\n        x,\n        y,\n        rects,\n        middlewareData,\n        placement,\n        platform,\n        elements\n      } = middlewareArguments;\n      const {\n        alignment = null,\n        allowedPlacements = allPlacements,\n        autoAlignment = true,\n        ...detectOverflowOptions\n      } = options;\n      const placements = getPlacementList(alignment, autoAlignment, allowedPlacements);\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const currentIndex = (_middlewareData$autoP = (_middlewareData$autoP2 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP2.index) != null ? _middlewareData$autoP : 0;\n      const currentPlacement = placements[currentIndex];\n\n      if (currentPlacement == null) {\n        return {};\n      }\n\n      const {\n        main,\n        cross\n      } = getAlignmentSides(currentPlacement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))); // Make `computeCoords` start from the right place\n\n      if (placement !== currentPlacement) {\n        return {\n          x,\n          y,\n          reset: {\n            placement: placements[0]\n          }\n        };\n      }\n\n      const currentOverflows = [overflow[getSide(currentPlacement)], overflow[main], overflow[cross]];\n      const allOverflows = [...((_middlewareData$autoP3 = (_middlewareData$autoP4 = middlewareData.autoPlacement) == null ? void 0 : _middlewareData$autoP4.overflows) != null ? _middlewareData$autoP3 : []), {\n        placement: currentPlacement,\n        overflows: currentOverflows\n      }];\n      const nextPlacement = placements[currentIndex + 1]; // There are more placements to check\n\n      if (nextPlacement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: nextPlacement\n          }\n        };\n      }\n\n      const placementsSortedByLeastOverflow = allOverflows.slice().sort((a, b) => a.overflows[0] - b.overflows[0]);\n      const placementThatFitsOnAllSides = (_placementsSortedByLe = placementsSortedByLeastOverflow.find(_ref => {\n        let {\n          overflows\n        } = _ref;\n        return overflows.every(overflow => overflow <= 0);\n      })) == null ? void 0 : _placementsSortedByLe.placement;\n      const resetPlacement = placementThatFitsOnAllSides != null ? placementThatFitsOnAllSides : placementsSortedByLeastOverflow[0].placement;\n\n      if (resetPlacement !== placement) {\n        return {\n          data: {\n            index: currentIndex + 1,\n            overflows: allOverflows\n          },\n          reset: {\n            placement: resetPlacement\n          }\n        };\n      }\n\n      return {};\n    }\n\n  };\n};\n\nfunction getExpandedPlacements(placement) {\n  const oppositePlacement = getOppositePlacement(placement);\n  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];\n}\n\n/**\n * Changes the placement of the floating element to one that will fit if the\n * initially specified `placement` does not.\n * @see https://floating-ui.com/docs/flip\n */\nconst flip = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'flip',\n    options,\n\n    async fn(middlewareArguments) {\n      var _middlewareData$flip;\n\n      const {\n        placement,\n        middlewareData,\n        rects,\n        initialPlacement,\n        platform,\n        elements\n      } = middlewareArguments;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true,\n        fallbackPlacements: specifiedFallbackPlacements,\n        fallbackStrategy = 'bestFit',\n        flipAlignment = true,\n        ...detectOverflowOptions\n      } = options;\n      const side = getSide(placement);\n      const isBasePlacement = side === initialPlacement;\n      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));\n      const placements = [initialPlacement, ...fallbackPlacements];\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const overflows = [];\n      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];\n\n      if (checkMainAxis) {\n        overflows.push(overflow[side]);\n      }\n\n      if (checkCrossAxis) {\n        const {\n          main,\n          cross\n        } = getAlignmentSides(placement, rects, await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating)));\n        overflows.push(overflow[main], overflow[cross]);\n      }\n\n      overflowsData = [...overflowsData, {\n        placement,\n        overflows\n      }]; // One or more sides is overflowing\n\n      if (!overflows.every(side => side <= 0)) {\n        var _middlewareData$flip$, _middlewareData$flip2;\n\n        const nextIndex = ((_middlewareData$flip$ = (_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) != null ? _middlewareData$flip$ : 0) + 1;\n        const nextPlacement = placements[nextIndex];\n\n        if (nextPlacement) {\n          // Try next placement and re-run the lifecycle\n          return {\n            data: {\n              index: nextIndex,\n              overflows: overflowsData\n            },\n            reset: {\n              placement: nextPlacement\n            }\n          };\n        }\n\n        let resetPlacement = 'bottom';\n\n        switch (fallbackStrategy) {\n          case 'bestFit':\n            {\n              var _overflowsData$map$so;\n\n              const placement = (_overflowsData$map$so = overflowsData.map(d => [d, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0].placement;\n\n              if (placement) {\n                resetPlacement = placement;\n              }\n\n              break;\n            }\n\n          case 'initialPlacement':\n            resetPlacement = initialPlacement;\n            break;\n        }\n\n        if (placement !== resetPlacement) {\n          return {\n            reset: {\n              placement: resetPlacement\n            }\n          };\n        }\n      }\n\n      return {};\n    }\n\n  };\n};\n\nfunction getSideOffsets(overflow, rect) {\n  return {\n    top: overflow.top - rect.height,\n    right: overflow.right - rect.width,\n    bottom: overflow.bottom - rect.height,\n    left: overflow.left - rect.width\n  };\n}\n\nfunction isAnySideFullyClipped(overflow) {\n  return sides.some(side => overflow[side] >= 0);\n}\n\n/**\n * Provides data to hide the floating element in applicable situations, such as\n * when it is not in the same clipping context as the reference element.\n * @see https://floating-ui.com/docs/hide\n */\nconst hide = function (_temp) {\n  let {\n    strategy = 'referenceHidden',\n    ...detectOverflowOptions\n  } = _temp === void 0 ? {} : _temp;\n  return {\n    name: 'hide',\n\n    async fn(middlewareArguments) {\n      const {\n        rects\n      } = middlewareArguments;\n\n      switch (strategy) {\n        case 'referenceHidden':\n          {\n            const overflow = await detectOverflow(middlewareArguments, { ...detectOverflowOptions,\n              elementContext: 'reference'\n            });\n            const offsets = getSideOffsets(overflow, rects.reference);\n            return {\n              data: {\n                referenceHiddenOffsets: offsets,\n                referenceHidden: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n\n        case 'escaped':\n          {\n            const overflow = await detectOverflow(middlewareArguments, { ...detectOverflowOptions,\n              altBoundary: true\n            });\n            const offsets = getSideOffsets(overflow, rects.floating);\n            return {\n              data: {\n                escapedOffsets: offsets,\n                escaped: isAnySideFullyClipped(offsets)\n              }\n            };\n          }\n\n        default:\n          {\n            return {};\n          }\n      }\n    }\n\n  };\n};\n\nasync function convertValueToCoords(middlewareArguments, value) {\n  const {\n    placement,\n    platform,\n    elements\n  } = middlewareArguments;\n  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));\n  const side = getSide(placement);\n  const alignment = getAlignment(placement);\n  const isVertical = getMainAxisFromPlacement(placement) === 'x';\n  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;\n  const crossAxisMulti = rtl && isVertical ? -1 : 1;\n  const rawValue = typeof value === 'function' ? value(middlewareArguments) : value; // eslint-disable-next-line prefer-const\n\n  let {\n    mainAxis,\n    crossAxis,\n    alignmentAxis\n  } = typeof rawValue === 'number' ? {\n    mainAxis: rawValue,\n    crossAxis: 0,\n    alignmentAxis: null\n  } : {\n    mainAxis: 0,\n    crossAxis: 0,\n    alignmentAxis: null,\n    ...rawValue\n  };\n\n  if (alignment && typeof alignmentAxis === 'number') {\n    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;\n  }\n\n  return isVertical ? {\n    x: crossAxis * crossAxisMulti,\n    y: mainAxis * mainAxisMulti\n  } : {\n    x: mainAxis * mainAxisMulti,\n    y: crossAxis * crossAxisMulti\n  };\n}\n/**\n * Displaces the floating element from its reference element.\n * @see https://floating-ui.com/docs/offset\n */\n\nconst offset = function (value) {\n  if (value === void 0) {\n    value = 0;\n  }\n\n  return {\n    name: 'offset',\n    options: value,\n\n    async fn(middlewareArguments) {\n      const {\n        x,\n        y\n      } = middlewareArguments;\n      const diffCoords = await convertValueToCoords(middlewareArguments, value);\n      return {\n        x: x + diffCoords.x,\n        y: y + diffCoords.y,\n        data: diffCoords\n      };\n    }\n\n  };\n};\n\nfunction getCrossAxis(axis) {\n  return axis === 'x' ? 'y' : 'x';\n}\n\n/**\n * Shifts the floating element in order to keep it in view when it will overflow\n * a clipping boundary.\n * @see https://floating-ui.com/docs/shift\n */\nconst shift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'shift',\n    options,\n\n    async fn(middlewareArguments) {\n      const {\n        x,\n        y,\n        placement\n      } = middlewareArguments;\n      const {\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = false,\n        limiter = {\n          fn: _ref => {\n            let {\n              x,\n              y\n            } = _ref;\n            return {\n              x,\n              y\n            };\n          }\n        },\n        ...detectOverflowOptions\n      } = options;\n      const coords = {\n        x,\n        y\n      };\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const mainAxis = getMainAxisFromPlacement(getSide(placement));\n      const crossAxis = getCrossAxis(mainAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n\n      if (checkMainAxis) {\n        const minSide = mainAxis === 'y' ? 'top' : 'left';\n        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';\n        const min = mainAxisCoord + overflow[minSide];\n        const max = mainAxisCoord - overflow[maxSide];\n        mainAxisCoord = within(min, mainAxisCoord, max);\n      }\n\n      if (checkCrossAxis) {\n        const minSide = crossAxis === 'y' ? 'top' : 'left';\n        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';\n        const min = crossAxisCoord + overflow[minSide];\n        const max = crossAxisCoord - overflow[maxSide];\n        crossAxisCoord = within(min, crossAxisCoord, max);\n      }\n\n      const limitedCoords = limiter.fn({ ...middlewareArguments,\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      });\n      return { ...limitedCoords,\n        data: {\n          x: limitedCoords.x - x,\n          y: limitedCoords.y - y\n        }\n      };\n    }\n\n  };\n};\n\n/**\n * Built-in `limiter` that will stop `shift()` at a certain point.\n */\nconst limitShift = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    options,\n\n    fn(middlewareArguments) {\n      const {\n        x,\n        y,\n        placement,\n        rects,\n        middlewareData\n      } = middlewareArguments;\n      const {\n        offset = 0,\n        mainAxis: checkMainAxis = true,\n        crossAxis: checkCrossAxis = true\n      } = options;\n      const coords = {\n        x,\n        y\n      };\n      const mainAxis = getMainAxisFromPlacement(placement);\n      const crossAxis = getCrossAxis(mainAxis);\n      let mainAxisCoord = coords[mainAxis];\n      let crossAxisCoord = coords[crossAxis];\n      const rawOffset = typeof offset === 'function' ? offset(middlewareArguments) : offset;\n      const computedOffset = typeof rawOffset === 'number' ? {\n        mainAxis: rawOffset,\n        crossAxis: 0\n      } : {\n        mainAxis: 0,\n        crossAxis: 0,\n        ...rawOffset\n      };\n\n      if (checkMainAxis) {\n        const len = mainAxis === 'y' ? 'height' : 'width';\n        const limitMin = rects.reference[mainAxis] - rects.floating[len] + computedOffset.mainAxis;\n        const limitMax = rects.reference[mainAxis] + rects.reference[len] - computedOffset.mainAxis;\n\n        if (mainAxisCoord < limitMin) {\n          mainAxisCoord = limitMin;\n        } else if (mainAxisCoord > limitMax) {\n          mainAxisCoord = limitMax;\n        }\n      }\n\n      if (checkCrossAxis) {\n        var _middlewareData$offse, _middlewareData$offse2, _middlewareData$offse3, _middlewareData$offse4;\n\n        const len = mainAxis === 'y' ? 'width' : 'height';\n        const isOriginSide = ['top', 'left'].includes(getSide(placement));\n        const limitMin = rects.reference[crossAxis] - rects.floating[len] + (isOriginSide ? (_middlewareData$offse = (_middlewareData$offse2 = middlewareData.offset) == null ? void 0 : _middlewareData$offse2[crossAxis]) != null ? _middlewareData$offse : 0 : 0) + (isOriginSide ? 0 : computedOffset.crossAxis);\n        const limitMax = rects.reference[crossAxis] + rects.reference[len] + (isOriginSide ? 0 : (_middlewareData$offse3 = (_middlewareData$offse4 = middlewareData.offset) == null ? void 0 : _middlewareData$offse4[crossAxis]) != null ? _middlewareData$offse3 : 0) - (isOriginSide ? computedOffset.crossAxis : 0);\n\n        if (crossAxisCoord < limitMin) {\n          crossAxisCoord = limitMin;\n        } else if (crossAxisCoord > limitMax) {\n          crossAxisCoord = limitMax;\n        }\n      }\n\n      return {\n        [mainAxis]: mainAxisCoord,\n        [crossAxis]: crossAxisCoord\n      };\n    }\n\n  };\n};\n\n/**\n * Provides data to change the size of the floating element. For instance,\n * prevent it from overflowing its clipping boundary or match the width of the\n * reference element.\n * @see https://floating-ui.com/docs/size\n */\nconst size = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'size',\n    options,\n\n    async fn(middlewareArguments) {\n      const {\n        placement,\n        rects,\n        platform,\n        elements\n      } = middlewareArguments;\n      const {\n        apply = () => {},\n        ...detectOverflowOptions\n      } = options;\n      const overflow = await detectOverflow(middlewareArguments, detectOverflowOptions);\n      const side = getSide(placement);\n      const alignment = getAlignment(placement);\n      let heightSide;\n      let widthSide;\n\n      if (side === 'top' || side === 'bottom') {\n        heightSide = side;\n        widthSide = alignment === ((await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating))) ? 'start' : 'end') ? 'left' : 'right';\n      } else {\n        widthSide = side;\n        heightSide = alignment === 'end' ? 'top' : 'bottom';\n      }\n\n      const xMin = max(overflow.left, 0);\n      const xMax = max(overflow.right, 0);\n      const yMin = max(overflow.top, 0);\n      const yMax = max(overflow.bottom, 0);\n      const dimensions = {\n        availableHeight: rects.floating.height - (['left', 'right'].includes(placement) ? 2 * (yMin !== 0 || yMax !== 0 ? yMin + yMax : max(overflow.top, overflow.bottom)) : overflow[heightSide]),\n        availableWidth: rects.floating.width - (['top', 'bottom'].includes(placement) ? 2 * (xMin !== 0 || xMax !== 0 ? xMin + xMax : max(overflow.left, overflow.right)) : overflow[widthSide])\n      };\n      await apply({ ...middlewareArguments,\n        ...dimensions\n      });\n      const nextDimensions = await platform.getDimensions(elements.floating);\n\n      if (rects.floating.width !== nextDimensions.width || rects.floating.height !== nextDimensions.height) {\n        return {\n          reset: {\n            rects: true\n          }\n        };\n      }\n\n      return {};\n    }\n\n  };\n};\n\n/**\n * Provides improved positioning for inline reference elements that can span\n * over multiple lines, such as hyperlinks or range selections.\n * @see https://floating-ui.com/docs/inline\n */\nconst inline = function (options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return {\n    name: 'inline',\n    options,\n\n    async fn(middlewareArguments) {\n      var _await$platform$getCl;\n\n      const {\n        placement,\n        elements,\n        rects,\n        platform,\n        strategy\n      } = middlewareArguments; // A MouseEvent's client{X,Y} coords can be up to 2 pixels off a\n      // ClientRect's bounds, despite the event listener being triggered. A\n      // padding of 2 seems to handle this issue.\n\n      const {\n        padding = 2,\n        x,\n        y\n      } = options;\n      const fallback = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({\n        rect: rects.reference,\n        offsetParent: await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating)),\n        strategy\n      }) : rects.reference);\n      const clientRects = (_await$platform$getCl = await (platform.getClientRects == null ? void 0 : platform.getClientRects(elements.reference))) != null ? _await$platform$getCl : [];\n      const paddingObject = getSideObjectFromPadding(padding);\n\n      function getBoundingClientRect() {\n        // There are two rects and they are disjoined\n        if (clientRects.length === 2 && clientRects[0].left > clientRects[1].right && x != null && y != null) {\n          var _clientRects$find;\n\n          // Find the first rect in which the point is fully inside\n          return (_clientRects$find = clientRects.find(rect => x > rect.left - paddingObject.left && x < rect.right + paddingObject.right && y > rect.top - paddingObject.top && y < rect.bottom + paddingObject.bottom)) != null ? _clientRects$find : fallback;\n        } // There are 2 or more connected rects\n\n\n        if (clientRects.length >= 2) {\n          if (getMainAxisFromPlacement(placement) === 'x') {\n            const firstRect = clientRects[0];\n            const lastRect = clientRects[clientRects.length - 1];\n            const isTop = getSide(placement) === 'top';\n            const top = firstRect.top;\n            const bottom = lastRect.bottom;\n            const left = isTop ? firstRect.left : lastRect.left;\n            const right = isTop ? firstRect.right : lastRect.right;\n            const width = right - left;\n            const height = bottom - top;\n            return {\n              top,\n              bottom,\n              left,\n              right,\n              width,\n              height,\n              x: left,\n              y: top\n            };\n          }\n\n          const isLeftSide = getSide(placement) === 'left';\n          const maxRight = max(...clientRects.map(rect => rect.right));\n          const minLeft = min(...clientRects.map(rect => rect.left));\n          const measureRects = clientRects.filter(rect => isLeftSide ? rect.left === minLeft : rect.right === maxRight);\n          const top = measureRects[0].top;\n          const bottom = measureRects[measureRects.length - 1].bottom;\n          const left = minLeft;\n          const right = maxRight;\n          const width = right - left;\n          const height = bottom - top;\n          return {\n            top,\n            bottom,\n            left,\n            right,\n            width,\n            height,\n            x: left,\n            y: top\n          };\n        }\n\n        return fallback;\n      }\n\n      const resetRects = await platform.getElementRects({\n        reference: {\n          getBoundingClientRect\n        },\n        floating: elements.floating,\n        strategy\n      });\n\n      if (rects.reference.x !== resetRects.reference.x || rects.reference.y !== resetRects.reference.y || rects.reference.width !== resetRects.reference.width || rects.reference.height !== resetRects.reference.height) {\n        return {\n          reset: {\n            rects: resetRects\n          }\n        };\n      }\n\n      return {};\n    }\n\n  };\n};\n\nexport { arrow, autoPlacement, computePosition, detectOverflow, flip, hide, inline, limitShift, offset, rectToClientRect, shift, size };\n","import { rectToClientRect, computePosition as computePosition$1 } from '@floating-ui/core';\nexport { arrow, autoPlacement, detectOverflow, flip, hide, inline, limitShift, offset, shift, size } from '@floating-ui/core';\n\nfunction getWindow(node) {\n  var _node$ownerDocument;\n\n  return ((_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;\n}\n\nfunction getComputedStyle(element) {\n  return getWindow(element).getComputedStyle(element);\n}\n\nfunction getNodeName(node) {\n  return isNode(node) ? (node.nodeName || '').toLowerCase() : '';\n}\n\nlet uaString;\nfunction getUAString() {\n  if (uaString) {\n    return uaString;\n  }\n\n  const uaData = navigator.userAgentData;\n\n  if (uaData && Array.isArray(uaData.brands)) {\n    uaString = uaData.brands.map(item => item.brand + \"/\" + item.version).join(' ');\n    return uaString;\n  }\n\n  return navigator.userAgent;\n}\n\nfunction isHTMLElement(value) {\n  return value instanceof getWindow(value).HTMLElement;\n}\nfunction isElement(value) {\n  return value instanceof getWindow(value).Element;\n}\nfunction isNode(value) {\n  return value instanceof getWindow(value).Node;\n}\nfunction isShadowRoot(node) {\n  // Browsers without `ShadowRoot` support\n  if (typeof ShadowRoot === 'undefined') {\n    return false;\n  }\n\n  const OwnElement = getWindow(node).ShadowRoot;\n  return node instanceof OwnElement || node instanceof ShadowRoot;\n}\nfunction isOverflowElement(element) {\n  // Firefox wants us to check `-x` and `-y` variations as well\n  const {\n    overflow,\n    overflowX,\n    overflowY,\n    display\n  } = getComputedStyle(element);\n  return /auto|scroll|overlay|hidden/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);\n}\nfunction isTableElement(element) {\n  return ['table', 'td', 'th'].includes(getNodeName(element));\n}\nfunction isContainingBlock(element) {\n  // TODO: Try and use feature detection here instead\n  const isFirefox = /firefox/i.test(getUAString());\n  const css = getComputedStyle(element);\n  const backdropFilter = css.backdropFilter || css.WebkitBackdropFilter; // This is non-exhaustive but covers the most common CSS properties that\n  // create a containing block.\n  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n  return css.transform !== 'none' || css.perspective !== 'none' || (backdropFilter ? backdropFilter !== 'none' : false) || isFirefox && css.willChange === 'filter' || isFirefox && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective'].some(value => css.willChange.includes(value)) || ['paint', 'layout', 'strict', 'content'].some( // TS 4.1 compat\n  value => {\n    const contain = css.contain;\n    return contain != null ? contain.includes(value) : false;\n  });\n}\nfunction isLayoutViewport() {\n  // Not Safari\n  return !/^((?!chrome|android).)*safari/i.test(getUAString()); // Feature detection for this fails in various ways\n  // • Always-visible scrollbar or not\n  // • Width of <html>, etc.\n  // const vV = win.visualViewport;\n  // return vV ? Math.abs(win.innerWidth / vV.scale - vV.width) < 0.5 : true;\n}\nfunction isLastTraversableNode(node) {\n  return ['html', 'body', '#document'].includes(getNodeName(node));\n}\n\nconst min = Math.min;\nconst max = Math.max;\nconst round = Math.round;\n\nconst FALLBACK_SCALE = {\n  x: 1,\n  y: 1\n};\nfunction getScale(element) {\n  const domElement = !isElement(element) && element.contextElement ? element.contextElement : isElement(element) ? element : null;\n\n  if (!domElement) {\n    return FALLBACK_SCALE;\n  }\n\n  const rect = domElement.getBoundingClientRect();\n  const css = getComputedStyle(domElement); // Would need to take into account borders, padding, and potential scrollbars\n  // which would require a lot of code. Fallback to the old technique to\n  // determine scale.\n\n  if (css.boxSizing !== 'border-box') {\n    if (!isHTMLElement(domElement)) {\n      return FALLBACK_SCALE;\n    }\n\n    return {\n      x: domElement.offsetWidth > 0 ? round(rect.width) / domElement.offsetWidth || 1 : 1,\n      y: domElement.offsetHeight > 0 ? round(rect.height) / domElement.offsetHeight || 1 : 1\n    };\n  }\n\n  let x = rect.width / parseFloat(css.width);\n  let y = rect.height / parseFloat(css.height); // 0, NaN, or Infinity should always fallback to 1.\n\n  if (!x || !Number.isFinite(x)) {\n    x = 1;\n  }\n\n  if (!y || !Number.isFinite(y)) {\n    y = 1;\n  }\n\n  return {\n    x,\n    y\n  };\n}\n\nfunction getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {\n  var _win$visualViewport$o, _win$visualViewport, _win$visualViewport$o2, _win$visualViewport2;\n\n  if (includeScale === void 0) {\n    includeScale = false;\n  }\n\n  if (isFixedStrategy === void 0) {\n    isFixedStrategy = false;\n  }\n\n  const clientRect = element.getBoundingClientRect();\n  let scale = FALLBACK_SCALE;\n\n  if (includeScale) {\n    if (offsetParent) {\n      if (isElement(offsetParent)) {\n        scale = getScale(offsetParent);\n      }\n    } else {\n      scale = getScale(element);\n    }\n  }\n\n  const win = isElement(element) ? getWindow(element) : window;\n  const addVisualOffsets = !isLayoutViewport() && isFixedStrategy;\n  const x = (clientRect.left + (addVisualOffsets ? (_win$visualViewport$o = (_win$visualViewport = win.visualViewport) == null ? void 0 : _win$visualViewport.offsetLeft) != null ? _win$visualViewport$o : 0 : 0)) / scale.x;\n  const y = (clientRect.top + (addVisualOffsets ? (_win$visualViewport$o2 = (_win$visualViewport2 = win.visualViewport) == null ? void 0 : _win$visualViewport2.offsetTop) != null ? _win$visualViewport$o2 : 0 : 0)) / scale.y;\n  const width = clientRect.width / scale.x;\n  const height = clientRect.height / scale.y;\n  return {\n    width,\n    height,\n    top: y,\n    right: x + width,\n    bottom: y + height,\n    left: x,\n    x,\n    y\n  };\n}\n\nfunction getDocumentElement(node) {\n  return ((isNode(node) ? node.ownerDocument : node.document) || window.document).documentElement;\n}\n\nfunction getNodeScroll(element) {\n  if (isElement(element)) {\n    return {\n      scrollLeft: element.scrollLeft,\n      scrollTop: element.scrollTop\n    };\n  }\n\n  return {\n    scrollLeft: element.pageXOffset,\n    scrollTop: element.pageYOffset\n  };\n}\n\nfunction getWindowScrollBarX(element) {\n  // If <html> has a CSS width greater than the viewport, then this will be\n  // incorrect for RTL.\n  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;\n}\n\nfunction getRectRelativeToOffsetParent(element, offsetParent, strategy) {\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n  const rect = getBoundingClientRect(element, true, strategy === 'fixed', offsetParent);\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  const offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent, true);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } else if (documentElement) {\n      offsets.x = getWindowScrollBarX(documentElement);\n    }\n  }\n\n  return {\n    x: rect.left + scroll.scrollLeft - offsets.x,\n    y: rect.top + scroll.scrollTop - offsets.y,\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction getParentNode(node) {\n  if (getNodeName(node) === 'html') {\n    return node;\n  }\n\n  const result = // Step into the shadow DOM of the parent of a slotted node\n  node.assignedSlot || // DOM Element detected\n  node.parentNode || ( // ShadowRoot detected\n  isShadowRoot(node) ? node.host : null) || // Fallback\n  getDocumentElement(node);\n  return isShadowRoot(result) ? result.host : result;\n}\n\nfunction getTrueOffsetParent(element) {\n  if (!isHTMLElement(element) || getComputedStyle(element).position === 'fixed') {\n    return null;\n  }\n\n  return element.offsetParent;\n}\n\nfunction getContainingBlock(element) {\n  let currentNode = getParentNode(element);\n\n  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    if (isContainingBlock(currentNode)) {\n      return currentNode;\n    } else {\n      currentNode = getParentNode(currentNode);\n    }\n  }\n\n  return null;\n} // Gets the closest ancestor positioned element. Handles some edge cases,\n// such as table ancestors and cross browser bugs.\n\n\nfunction getOffsetParent(element) {\n  const window = getWindow(element);\n  let offsetParent = getTrueOffsetParent(element);\n\n  while (offsetParent && isTableElement(offsetParent) && getComputedStyle(offsetParent).position === 'static') {\n    offsetParent = getTrueOffsetParent(offsetParent);\n  }\n\n  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {\n    return window;\n  }\n\n  return offsetParent || getContainingBlock(element) || window;\n}\n\nfunction getDimensions(element) {\n  if (isHTMLElement(element)) {\n    return {\n      width: element.offsetWidth,\n      height: element.offsetHeight\n    };\n  }\n\n  const rect = getBoundingClientRect(element);\n  return {\n    width: rect.width,\n    height: rect.height\n  };\n}\n\nfunction convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {\n  let {\n    rect,\n    offsetParent,\n    strategy\n  } = _ref;\n  const isOffsetParentAnElement = isHTMLElement(offsetParent);\n  const documentElement = getDocumentElement(offsetParent);\n\n  if (offsetParent === documentElement) {\n    return rect;\n  }\n\n  let scroll = {\n    scrollLeft: 0,\n    scrollTop: 0\n  };\n  let scale = {\n    x: 1,\n    y: 1\n  };\n  const offsets = {\n    x: 0,\n    y: 0\n  };\n\n  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {\n    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {\n      scroll = getNodeScroll(offsetParent);\n    }\n\n    if (isHTMLElement(offsetParent)) {\n      const offsetRect = getBoundingClientRect(offsetParent);\n      scale = getScale(offsetParent);\n      offsets.x = offsetRect.x + offsetParent.clientLeft;\n      offsets.y = offsetRect.y + offsetParent.clientTop;\n    } // This doesn't appear to need to be negated.\n    // else if (documentElement) {\n    //   offsets.x = getWindowScrollBarX(documentElement);\n    // }\n\n  }\n\n  return {\n    width: rect.width * scale.x,\n    height: rect.height * scale.y,\n    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,\n    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y\n  };\n}\n\nfunction getViewportRect(element, strategy) {\n  const win = getWindow(element);\n  const html = getDocumentElement(element);\n  const visualViewport = win.visualViewport;\n  let width = html.clientWidth;\n  let height = html.clientHeight;\n  let x = 0;\n  let y = 0;\n\n  if (visualViewport) {\n    width = visualViewport.width;\n    height = visualViewport.height;\n    const layoutViewport = isLayoutViewport();\n\n    if (layoutViewport || !layoutViewport && strategy === 'fixed') {\n      x = visualViewport.offsetLeft;\n      y = visualViewport.offsetTop;\n    }\n  }\n\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\n// of the `<html>` and `<body>` rect bounds if horizontally scrollable\n\nfunction getDocumentRect(element) {\n  var _element$ownerDocumen;\n\n  const html = getDocumentElement(element);\n  const scroll = getNodeScroll(element);\n  const body = (_element$ownerDocumen = element.ownerDocument) == null ? void 0 : _element$ownerDocumen.body;\n  const width = max(html.scrollWidth, html.clientWidth, body ? body.scrollWidth : 0, body ? body.clientWidth : 0);\n  const height = max(html.scrollHeight, html.clientHeight, body ? body.scrollHeight : 0, body ? body.clientHeight : 0);\n  let x = -scroll.scrollLeft + getWindowScrollBarX(element);\n  const y = -scroll.scrollTop;\n\n  if (getComputedStyle(body || html).direction === 'rtl') {\n    x += max(html.clientWidth, body ? body.clientWidth : 0) - width;\n  }\n\n  return {\n    width,\n    height,\n    x,\n    y\n  };\n}\n\nfunction getNearestOverflowAncestor(node) {\n  const parentNode = getParentNode(node);\n\n  if (isLastTraversableNode(parentNode)) {\n    // @ts-ignore assume body is always available\n    return node.ownerDocument.body;\n  }\n\n  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {\n    return parentNode;\n  }\n\n  return getNearestOverflowAncestor(parentNode);\n}\n\nfunction getOverflowAncestors(node, list) {\n  var _node$ownerDocument;\n\n  if (list === void 0) {\n    list = [];\n  }\n\n  const scrollableAncestor = getNearestOverflowAncestor(node);\n  const isBody = scrollableAncestor === ((_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.body);\n  const win = getWindow(scrollableAncestor);\n\n  if (isBody) {\n    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : []);\n  }\n\n  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor));\n}\n\n// Returns the inner client rect, subtracting scrollbars if present\nfunction getInnerBoundingClientRect(element, strategy) {\n  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');\n  const top = clientRect.top + element.clientTop;\n  const left = clientRect.left + element.clientLeft;\n  const scale = isHTMLElement(element) ? getScale(element) : {\n    x: 1,\n    y: 1\n  };\n  const width = element.clientWidth * scale.x;\n  const height = element.clientHeight * scale.y;\n  const x = left * scale.x;\n  const y = top * scale.y;\n  return {\n    top: y,\n    left: x,\n    right: x + width,\n    bottom: y + height,\n    x,\n    y,\n    width,\n    height\n  };\n}\n\nfunction getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {\n  if (clippingAncestor === 'viewport') {\n    return rectToClientRect(getViewportRect(element, strategy));\n  }\n\n  if (isElement(clippingAncestor)) {\n    return getInnerBoundingClientRect(clippingAncestor, strategy);\n  }\n\n  return rectToClientRect(getDocumentRect(getDocumentElement(element)));\n} // A \"clipping ancestor\" is an `overflow` element with the characteristic of\n// clipping (or hiding) child elements. This returns all clipping ancestors\n// of the given element up the tree.\n\n\nfunction getClippingElementAncestors(element, cache) {\n  const cachedResult = cache.get(element);\n\n  if (cachedResult) {\n    return cachedResult;\n  }\n\n  let result = getOverflowAncestors(element).filter(el => isElement(el) && getNodeName(el) !== 'body');\n  let currentContainingBlockComputedStyle = null;\n  const elementIsFixed = getComputedStyle(element).position === 'fixed';\n  let currentNode = elementIsFixed ? getParentNode(element) : element; // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block\n\n  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {\n    const computedStyle = getComputedStyle(currentNode);\n    const containingBlock = isContainingBlock(currentNode);\n    const shouldDropCurrentNode = elementIsFixed ? !containingBlock && !currentContainingBlockComputedStyle : !containingBlock && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position);\n\n    if (shouldDropCurrentNode) {\n      // Drop non-containing blocks\n      result = result.filter(ancestor => ancestor !== currentNode);\n    } else {\n      // Record last containing block for next iteration\n      currentContainingBlockComputedStyle = computedStyle;\n    }\n\n    currentNode = getParentNode(currentNode);\n  }\n\n  cache.set(element, result);\n  return result;\n} // Gets the maximum area that the element is visible in due to any number of\n// clipping ancestors\n\n\nfunction getClippingRect(_ref) {\n  let {\n    element,\n    boundary,\n    rootBoundary,\n    strategy\n  } = _ref;\n  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);\n  const clippingAncestors = [...elementClippingAncestors, rootBoundary];\n  const firstClippingAncestor = clippingAncestors[0];\n  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {\n    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);\n    accRect.top = max(rect.top, accRect.top);\n    accRect.right = min(rect.right, accRect.right);\n    accRect.bottom = min(rect.bottom, accRect.bottom);\n    accRect.left = max(rect.left, accRect.left);\n    return accRect;\n  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));\n  return {\n    width: clippingRect.right - clippingRect.left,\n    height: clippingRect.bottom - clippingRect.top,\n    x: clippingRect.left,\n    y: clippingRect.top\n  };\n}\n\nconst platform = {\n  getClippingRect,\n  convertOffsetParentRelativeRectToViewportRelativeRect,\n  isElement,\n  getDimensions,\n  getOffsetParent,\n  getDocumentElement,\n  getScale,\n\n  async getElementRects(_ref) {\n    let {\n      reference,\n      floating,\n      strategy\n    } = _ref;\n    const getOffsetParentFn = this.getOffsetParent || getOffsetParent;\n    const getDimensionsFn = this.getDimensions;\n    return {\n      reference: getRectRelativeToOffsetParent(reference, await getOffsetParentFn(floating), strategy),\n      floating: {\n        x: 0,\n        y: 0,\n        ...(await getDimensionsFn(floating))\n      }\n    };\n  },\n\n  getClientRects: element => Array.from(element.getClientRects()),\n  isRTL: element => getComputedStyle(element).direction === 'rtl'\n};\n\n/**\n * Automatically updates the position of the floating element when necessary.\n * @see https://floating-ui.com/docs/autoUpdate\n */\nfunction autoUpdate(reference, floating, update, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  const {\n    ancestorScroll: _ancestorScroll = true,\n    ancestorResize = true,\n    elementResize = true,\n    animationFrame = false\n  } = options;\n  const ancestorScroll = _ancestorScroll && !animationFrame;\n  const ancestors = ancestorScroll || ancestorResize ? [...(isElement(reference) ? getOverflowAncestors(reference) : reference.contextElement ? getOverflowAncestors(reference.contextElement) : []), ...getOverflowAncestors(floating)] : [];\n  ancestors.forEach(ancestor => {\n    ancestorScroll && ancestor.addEventListener('scroll', update, {\n      passive: true\n    });\n    ancestorResize && ancestor.addEventListener('resize', update);\n  });\n  let observer = null;\n\n  if (elementResize) {\n    let initialUpdate = true;\n    observer = new ResizeObserver(() => {\n      if (!initialUpdate) {\n        update();\n      }\n\n      initialUpdate = false;\n    });\n    isElement(reference) && !animationFrame && observer.observe(reference);\n\n    if (!isElement(reference) && reference.contextElement && !animationFrame) {\n      observer.observe(reference.contextElement);\n    }\n\n    observer.observe(floating);\n  }\n\n  let frameId;\n  let prevRefRect = animationFrame ? getBoundingClientRect(reference) : null;\n\n  if (animationFrame) {\n    frameLoop();\n  }\n\n  function frameLoop() {\n    const nextRefRect = getBoundingClientRect(reference);\n\n    if (prevRefRect && (nextRefRect.x !== prevRefRect.x || nextRefRect.y !== prevRefRect.y || nextRefRect.width !== prevRefRect.width || nextRefRect.height !== prevRefRect.height)) {\n      update();\n    }\n\n    prevRefRect = nextRefRect;\n    frameId = requestAnimationFrame(frameLoop);\n  }\n\n  update();\n  return () => {\n    var _observer;\n\n    ancestors.forEach(ancestor => {\n      ancestorScroll && ancestor.removeEventListener('scroll', update);\n      ancestorResize && ancestor.removeEventListener('resize', update);\n    });\n    (_observer = observer) == null ? void 0 : _observer.disconnect();\n    observer = null;\n\n    if (animationFrame) {\n      cancelAnimationFrame(frameId);\n    }\n  };\n}\n\n/**\n * Computes the `x` and `y` coordinates that will place the floating element\n * next to a reference element when it is given a certain CSS positioning\n * strategy.\n */\n\nconst computePosition = (reference, floating, options) => {\n  // This caches the expensive `getClippingElementAncestors` function so that\n  // multiple lifecycle resets re-use the same result. It only lives for a\n  // single call. If other functions become expensive, we can add them as well.\n  const cache = new Map();\n  const mergedOptions = {\n    platform,\n    ...options\n  };\n  const platformWithCache = { ...mergedOptions.platform,\n    _c: cache\n  };\n  return computePosition$1(reference, floating, { ...mergedOptions,\n    platform: platformWithCache\n  });\n};\n\nexport { autoUpdate, computePosition, getOverflowAncestors, platform };\n","import { Component, createSignal, onCleanup, onMount, Show, useContext } from 'solid-js';\nimport { ArrowIcon, Text, TonIcon } from 'src/app/components';\nimport { ConnectorContext } from 'src/app/state/connector.context';\nimport { TonConnectUiContext } from 'src/app/state/ton-connect-ui.context';\nimport { Account, toUserFriendlyAddress } from '@tonconnect/sdk';\nimport {\n    AccountButtonStyled,\n    DropdownButtonStyled,\n    DropdownContainerStyled,\n    DropdownStyled,\n    LoaderButtonStyled,\n    LoaderIconStyled,\n    NotificationsStyled\n} from './style';\nimport { Dynamic, Portal } from 'solid-js/web';\nimport { useFloating } from 'solid-floating-ui';\nimport { autoUpdate } from '@floating-ui/dom';\nimport { Transition } from 'solid-transition-group';\nimport { useTheme } from 'solid-styled-components';\nimport { CHAIN } from '@tonconnect/sdk';\nimport { globalStylesTag } from 'src/app/styles/global-styles';\n\ninterface AccountButtonProps {}\n\nexport const AccountButton: Component<AccountButtonProps> = () => {\n    const theme = useTheme();\n    const connector = useContext(ConnectorContext)!;\n    const tonConnectUI = useContext(TonConnectUiContext)!;\n    const [isOpened, setIsOpened] = createSignal(false);\n    const [account, setAccount] = createSignal<Account | null>(connector.account);\n    const [restoringProcess, setRestoringProcess] = createSignal<boolean>(true);\n\n    let dropDownRef: HTMLDivElement | undefined;\n\n    const [floating, setFloating] = createSignal<HTMLDivElement | undefined>();\n    const [anchor, setAnchor] = createSignal<HTMLButtonElement | undefined>();\n\n    const position = useFloating(anchor, floating, {\n        whileElementsMounted: autoUpdate,\n        placement: 'bottom-end'\n    });\n\n    const normalizedAddress = (): string => {\n        const acc = account();\n        if (acc) {\n            const userFriendlyAddress = toUserFriendlyAddress(\n                acc.address,\n                acc.chain === CHAIN.TESTNET\n            );\n            return userFriendlyAddress.slice(0, 4) + '…' + userFriendlyAddress.slice(-4);\n        }\n\n        return '';\n    };\n\n    tonConnectUI.connectionRestored.then(() => setRestoringProcess(false));\n\n    const unsubscribe = connector.onStatusChange(wallet => {\n        if (!wallet) {\n            setIsOpened(false);\n            setAccount(null);\n            return;\n        }\n\n        setAccount(wallet.account);\n    });\n\n    const onClick = (e: Event): void | boolean => {\n        if (!account() || !isOpened()) {\n            return;\n        }\n        const clickToButton = anchor()!.contains(e.target as Node);\n        const clickToDropdown = dropDownRef!.contains(e.target as Node);\n\n        if (!clickToButton && !clickToDropdown) {\n            setIsOpened(false);\n        }\n    };\n\n    onMount(() => {\n        document.body.addEventListener('click', onClick);\n    });\n\n    onCleanup(() => {\n        document.body.removeEventListener('click', onClick);\n        unsubscribe();\n    });\n\n    return (\n        <Dynamic component={globalStylesTag}>\n            <Show when={restoringProcess()}>\n                <LoaderButtonStyled disabled={true} data-tc-connect-button-loading=\"true\">\n                    <LoaderIconStyled />\n                </LoaderButtonStyled>\n            </Show>\n            <Show when={!restoringProcess()}>\n                <Show when={!account()}>\n                    <AccountButtonStyled\n                        onClick={() => tonConnectUI.connectWallet()}\n                        data-tc-connect-button=\"true\"\n                    >\n                        <TonIcon fill={theme.colors.connectButton.foreground} />\n                        <Text\n                            translationKey=\"button.connectWallet\"\n                            fontSize=\"15px\"\n                            lineHeight=\"18px\"\n                            fontWeight=\"590\"\n                            color={theme.colors.connectButton.foreground}\n                        >\n                            Connect wallet\n                        </Text>\n                    </AccountButtonStyled>\n                </Show>\n                <Show when={account()}>\n                    <DropdownContainerStyled>\n                        <DropdownButtonStyled\n                            onClick={() => setIsOpened(v => !v)}\n                            ref={setAnchor}\n                            data-tc-dropdown-button=\"true\"\n                        >\n                            <Text fontSize=\"15px\" fontWeight=\"590\" lineHeight=\"18px\">\n                                {normalizedAddress()}\n                            </Text>\n                            <ArrowIcon direction=\"bottom\" />\n                        </DropdownButtonStyled>\n                        <Portal>\n                            <tc-root\n                                ref={setFloating}\n                                style={{\n                                    position: position.strategy,\n                                    top: `${position.y ?? 0}px`,\n                                    left: `${position.x ?? 0}px`,\n                                    'z-index': 999\n                                }}\n                                data-tc-dropdown-container=\"true\"\n                            >\n                                <Transition\n                                    onBeforeEnter={el => {\n                                        el.animate(\n                                            [\n                                                { opacity: 0, transform: 'translateY(-8px)' },\n                                                { opacity: 1, transform: 'translateY(0)' }\n                                            ],\n                                            {\n                                                duration: 150\n                                            }\n                                        );\n                                    }}\n                                    onExit={(el, done) => {\n                                        const a = el.animate(\n                                            [\n                                                { opacity: 1, transform: 'translateY(0)' },\n                                                { opacity: 0, transform: 'translateY(-8px)' }\n                                            ],\n                                            {\n                                                duration: 150\n                                            }\n                                        );\n                                        a.finished.then(done);\n                                    }}\n                                >\n                                    <Show when={isOpened()}>\n                                        <DropdownStyled\n                                            hidden={!isOpened()}\n                                            onClose={() => setIsOpened(false)}\n                                            ref={dropDownRef}\n                                        />\n                                    </Show>\n                                </Transition>\n                                <NotificationsStyled />\n                            </tc-root>\n                        </Portal>\n                    </DropdownContainerStyled>\n                </Show>\n            </Show>\n        </Dynamic>\n    );\n};\n","import{createEffect as f,createMemo as R,createSignal as g,onCleanup as y}from\"solid-js\";import{computePosition as E}from\"@floating-ui/dom\";function P(l,u,e){let c=()=>{var t;return(t=e==null?void 0:e.placement)!=null?t:\"bottom\"},d=()=>{var t;return(t=e==null?void 0:e.strategy)!=null?t:\"absolute\"},[n,o]=g({x:null,y:null,placement:c(),strategy:d(),middlewareData:{}}),[x,F]=g();f(()=>{let t=x();if(t)throw t.value});let s=R(()=>(l(),u(),{}));function i(){let t=l(),r=u();if(t&&r){let a=s();E(t,r,{middleware:e==null?void 0:e.middleware,placement:c(),strategy:d()}).then(m=>{a===s()&&o(m)},m=>{F(m)})}}return f(()=>{let t=l(),r=u();if(e==null||e.middleware,c(),d(),t&&r)if(e!=null&&e.whileElementsMounted){let a=e.whileElementsMounted(t,r,i);a&&y(a)}else i()}),{get x(){return n().x},get y(){return n().y},get placement(){return n().placement},get strategy(){return n().strategy},get middlewareData(){return n().middlewareData},update:i}}export{P as useFloating};\n","import { styled } from 'solid-styled-components';\nimport { Button, H1, IconButton, QRCode, Text } from 'src/app/components';\nimport { BorderRadiusConfig } from 'src/app/models/border-radius-config';\nimport { media } from 'src/app/styles/media';\n\nconst borders: BorderRadiusConfig = {\n    m: '16px',\n    s: '8px',\n    none: '0'\n};\n\nexport const QrCodeModalStyled = styled.div`\n    ${media('mobile')} {\n        padding: 10px 16px 0 16px;\n    }\n`;\n\nexport const H1Styled = styled(H1)`\n    max-width: 320px;\n    margin: 0 auto 6px;\n`;\n\nexport const StyledIconButton = styled(IconButton)`\n    position: absolute;\n    top: 16px;\n    left: 16px;\n`;\n\nexport const QRStyled = styled(QRCode)`\n    margin-bottom: 16px;\n`;\n\nexport const ButtonsContainerStyled = styled.div`\n    display: flex;\n    gap: 16px;\n    height: 56px;\n    margin-bottom: 24px;\n`;\n\nexport const ActionButtonStyled = styled(Button)`\n    padding: 0 16px;\n    height: 56px;\n    font-size: 16px;\n    line-height: 20px;\n    width: 100%;\n    border-radius: ${props => borders[props.theme!.borderRadius]};\n`;\n\nexport const GetWalletStyled = styled.div`\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n`;\n\nexport const TextStyled = styled(Text)`\n    padding-left: 8px;\n    color: ${props => props.theme!.colors.text.secondary};\n    font-size: 16px;\n`;\n","import { ConnectAdditionalRequest, ITonConnect } from '@tonconnect/sdk';\nimport { createStore } from 'solid-js/store';\nimport { Locales } from 'src/models/locales';\nimport { WalletsListConfiguration } from 'src/models/wallets-list-configuration';\nimport { ReturnStrategy } from 'src/models/return-strategy';\nimport { Loadable } from 'src/models/loadable';\n\nexport type AppState = {\n    connector: ITonConnect;\n    buttonRootId: string | null;\n    language: Locales;\n    walletsListConfiguration: WalletsListConfiguration | {};\n    connectRequestParameters?: Loadable<ConnectAdditionalRequest> | null;\n    returnStrategy: ReturnStrategy;\n    preferredWalletName: string | undefined;\n};\n\nexport const [appState, setAppState] = createStore<AppState>({\n    buttonRootId: null,\n    language: 'en',\n    returnStrategy: 'back',\n    walletsListConfiguration: {}\n} as AppState);\n","import { styled } from 'solid-styled-components';\n\nexport const AStyled = styled.a`\n    display: block;\n    text-decoration: unset;\n`;\n","import { Component, JSXElement } from 'solid-js';\nimport { AStyled } from './style';\nimport { Styleable } from 'src/app/models/styleable';\n\nexport interface LinkProps extends Styleable {\n    children: JSXElement;\n\n    href: string;\n\n    blank?: boolean;\n}\n\nexport const Link: Component<LinkProps> = props => {\n    const attributes = (): { rel: 'noreferrer noopener' } | {} =>\n        props.blank ? { rel: 'noreferrer noopener' } : {};\n\n    return (\n        <AStyled href={props.href} target={props.blank ? '_blank' : '_self'} {...attributes}>\n            {props.children}\n        </AStyled>\n    );\n};\n","import {\n    ConnectAdditionalRequest,\n    isWalletInfoCurrentlyInjected,\n    WalletInfoCurrentlyInjected,\n    WalletInfoInjectable,\n    WalletInfoRemote\n} from '@tonconnect/sdk';\nimport { Component, createMemo, Show, useContext } from 'solid-js';\nimport { Button, H2 } from 'src/app/components';\nimport { Translation } from 'src/app/components/typography/Translation';\nimport {\n    ActionButtonStyled,\n    ButtonsContainerStyled,\n    GetWalletStyled,\n    H1Styled,\n    QrCodeModalStyled,\n    QRStyled,\n    StyledIconButton,\n    TextStyled\n} from './style';\nimport { ConnectorContext } from 'src/app/state/connector.context';\nimport { addReturnStrategy, openLinkBlank } from 'src/app/utils/web-api';\nimport { setLastSelectedWalletInfo } from 'src/app/state/modals-state';\nimport { appState } from 'src/app/state/app.state';\nimport { Link } from 'src/app/components/link';\n\nexport interface QrCodeModalProps {\n    additionalRequest?: ConnectAdditionalRequest;\n    wallet: WalletInfoRemote | (WalletInfoRemote & WalletInfoInjectable);\n    onBackClick: () => void;\n}\n\nexport const QrCodeModal: Component<QrCodeModalProps> = props => {\n    const connector = useContext(ConnectorContext)!;\n    const universalLink = createMemo(() =>\n        connector.connect(\n            {\n                universalLink: props.wallet.universalLink,\n                bridgeUrl: props.wallet.bridgeUrl\n            },\n            props.additionalRequest\n        )\n    );\n\n    return (\n        <QrCodeModalStyled data-tc-wallet-qr-modal-desktop=\"true\">\n            <StyledIconButton icon=\"arrow\" onClick={() => props.onBackClick()} />\n            <H1Styled\n                translationKey=\"walletModal.qrCodeModal.connectWith\"\n                translationValues={{ name: props.wallet.name }}\n            >\n                Connect with {props.wallet.name}\n            </H1Styled>\n            <H2\n                translationKey=\"walletModal.qrCodeModal.scan\"\n                translationValues={{ name: props.wallet.name }}\n            >\n                Scan QR code with your phone’s or {props.wallet.name}’s camera.\n            </H2>\n            <QRStyled\n                disableCopy={false}\n                sourceUrl={universalLink()}\n                imageUrl={props.wallet.imageUrl}\n            />\n            <ButtonsContainerStyled>\n                <ActionButtonStyled\n                    scale=\"s\"\n                    onClick={() => {\n                        setLastSelectedWalletInfo({\n                            ...props.wallet,\n                            openMethod: 'universal-link'\n                        });\n                        openLinkBlank(addReturnStrategy(universalLink(), appState.returnStrategy));\n                    }}\n                >\n                    <Translation\n                        translationKey=\"walletModal.qrCodeModal.openWallet\"\n                        translationValues={{ name: props.wallet.name }}\n                    >\n                        Open {props.wallet.name}\n                    </Translation>\n                </ActionButtonStyled>\n                <Show when={isWalletInfoCurrentlyInjected(props.wallet)}>\n                    <ActionButtonStyled\n                        scale=\"s\"\n                        onClick={() => {\n                            setLastSelectedWalletInfo(props.wallet as WalletInfoCurrentlyInjected);\n                            connector.connect(\n                                {\n                                    jsBridgeKey: (props.wallet as WalletInfoCurrentlyInjected)\n                                        .jsBridgeKey\n                                },\n                                props.additionalRequest\n                            );\n                        }}\n                    >\n                        <Translation translationKey=\"common.openExtension\">\n                            Open Extension\n                        </Translation>\n                    </ActionButtonStyled>\n                </Show>\n            </ButtonsContainerStyled>\n            <GetWalletStyled>\n                <TextStyled\n                    translationKey=\"walletModal.qrCodeModal.dontHave\"\n                    translationValues={{ name: props.wallet.name }}\n                >\n                    Don't have {props.wallet.name}?\n                </TextStyled>\n                <Link href={props.wallet.aboutUrl} blank>\n                    <Button>\n                        <Translation translationKey=\"common.get\">GET</Translation>\n                    </Button>\n                </Link>\n            </GetWalletStyled>\n        </QrCodeModalStyled>\n    );\n};\n","import { styled } from 'solid-styled-components';\nimport { H1, Modal, TabBar, Text } from 'src/app/components';\nimport { media } from 'src/app/styles/media';\n\nexport const StyledModal = styled(Modal)`\n    padding-left: 24px;\n    padding-right: 24px;\n\n    ${media('mobile')} {\n        padding-left: 0;\n        padding-right: 0;\n\n        min-height: 364px;\n    }\n`;\n\nexport const H1Styled = styled(H1)`\n    margin-top: 12px;\n\n    ${media('mobile')} {\n        padding: 0 10px;\n    }\n`;\n\nexport const LoaderContainerStyled = styled.div`\n    margin: 30px 0;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n\n    ${media('mobile')} {\n        height: 160px;\n        align-items: center;\n    }\n`;\n\nexport const TabTextStyled = styled(Text)`\n    min-width: 84px;\n    text-align: center;\n    font-weight: 590;\n`;\n\nexport const TabBarStyled = styled(TabBar)`\n    margin: 0 auto 22px;\n`;\n","import { Component, JSXElement } from 'solid-js';\nimport { InputStyled, LabelStyled, SliderStyled, TabBarStyled } from './style';\nimport { Styleable } from 'src/app/models/styleable';\n\nexport interface TabBarProps extends Styleable {\n    tab1: JSXElement;\n    tab2: JSXElement;\n\n    selectedTabIndex: number;\n\n    onSelectedTabIndexChange?: (index: number) => void;\n}\n\nexport const TabBar: Component<TabBarProps> = props => {\n    const groupName = 'tabBar' + Math.floor(Math.random() * 10000);\n\n    return (\n        <TabBarStyled class={props.class} data-tc-tab-bar=\"true\">\n            <SliderStyled right={props.selectedTabIndex === 1} />\n            <LabelStyled isActive={props.selectedTabIndex === 0}>\n                <InputStyled\n                    type=\"radio\"\n                    name={groupName}\n                    checked={props.selectedTabIndex === 0}\n                    onInput={() => props.onSelectedTabIndexChange?.(0)}\n                />\n                {props.tab1}\n            </LabelStyled>\n            <LabelStyled isActive={props.selectedTabIndex === 1}>\n                <InputStyled\n                    type=\"radio\"\n                    checked={props.selectedTabIndex === 1}\n                    name={groupName}\n                    onInput={() => props.onSelectedTabIndexChange?.(1)}\n                />\n                {props.tab2}\n            </LabelStyled>\n        </TabBarStyled>\n    );\n};\n","import { WalletInfo, TonConnect } from '@tonconnect/sdk';\nimport { UIWallet } from 'src/models/ui-wallet';\nimport { WalletsListConfiguration } from 'src/models';\nimport { mergeConcat } from 'src/app/utils/array';\n\nexport function uiWalletToWalletInfo(uiWallet: UIWallet): WalletInfo {\n    if ('jsBridgeKey' in uiWallet) {\n        return {\n            ...uiWallet,\n            injected: TonConnect.isWalletInjected(uiWallet.jsBridgeKey),\n            embedded: TonConnect.isInsideWalletBrowser(uiWallet.jsBridgeKey)\n        };\n    }\n\n    return uiWallet;\n}\n\nexport function applyWalletsListConfiguration(\n    walletsList: WalletInfo[],\n    configuration?: WalletsListConfiguration\n): WalletInfo[] {\n    if (!configuration) {\n        return walletsList;\n    }\n\n    if (configuration.includeWallets?.length) {\n        walletsList = mergeConcat(\n            'name',\n            walletsList,\n            configuration.includeWallets.map(uiWalletToWalletInfo)\n        );\n    }\n\n    return walletsList;\n}\n\nexport function eqWalletName(wallet1: { name: string; appName: string }, name?: string): boolean {\n    if (!name) {\n        return false;\n    }\n\n    return (\n        wallet1.name.toLowerCase() === name.toLowerCase() ||\n        wallet1.appName.toLowerCase() === name.toLowerCase()\n    );\n}\n","export function uniq<T>(array: T[]): T[] {\n    return [...new Set(array)];\n}\n\nexport function mergeConcat<K extends PropertyKey, T extends Record<K, unknown>>(\n    idKey: K,\n    array1: T[],\n    array2: T[]\n): T[] {\n    return array1\n        .map(item1 => {\n            const item2 = array2.find(elem => elem[idKey] === item1[idKey]);\n            array2 = array2.filter(elem => elem[idKey] !== item1[idKey]);\n\n            return item2 === undefined ? item1 : item2;\n        })\n        .concat(array2);\n}\n","import { createSignal } from 'solid-js';\nimport { isDevice } from 'src/app/styles/media';\nimport { getWindow } from 'src/app/utils/web-api';\n\nconst [isMobile, setIsMobile] = createSignal(isDevice('mobile'));\n\nif (getWindow()) {\n    window.addEventListener('resize', () => setIsMobile(isDevice('mobile')));\n}\n\nexport default isMobile;\n","import { styled } from 'solid-styled-components';\nimport { Button, H2 } from 'src/app/components';\nimport { rgba } from 'src/app/utils/css';\nimport { mediaNotTouch, mediaTouch } from 'src/app/styles/media';\n\nexport const UlStyled = styled.ul`\n    display: flex;\n    margin: 0 auto 24px;\n    width: fit-content;\n    min-height: 124px;\n    max-width: 100%;\n    overflow-x: auto;\n    overflow-y: hidden;\n    padding: 0 24px;\n\n    &&::-webkit-scrollbar {\n        display: none;\n    }\n\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n`;\n\nexport const DefaultWallet = styled.li`\n    width: 82px;\n    min-width: 82px;\n    height: 124px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding: 8px 4px;\n\n    text-align: center;\n    cursor: pointer;\n\n    transition: transform 0.1s ease-in-out;\n\n    ${mediaNotTouch} {\n        &:hover {\n            transform: scale(1.04);\n        }\n    }\n\n    &:active {\n        transform: scale(0.96);\n    }\n\n    ${mediaTouch} {\n        &:active {\n            transform: scale(0.92);\n        }\n    }\n`;\n\nexport const Divider = styled.div`\n    width: 1px;\n    margin: 0 10px;\n    height: 24px;\n    position: relative;\n    top: 30px;\n\n    background-color: ${props => props.theme!.colors.icon.tertiary};\n`;\n\nexport const LongArrowIconContainer = styled.div`\n    width: 64px;\n    height: 64px;\n    border-radius: 16px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n\n    background-color: ${props => rgba(props.theme!.colors.accent, 0.12)};\n    color: ${props => props.theme!.colors.accent};\n\n    margin-bottom: 8px;\n`;\n\nexport const H2Styled = styled(H2)`\n    margin-bottom: 24px;\n    padding: 0 24px;\n    min-height: 44px;\n`;\n\nexport const ButtonStyled = styled(Button)`\n    display: block;\n    margin: 0 auto;\n`;\n","export const LINKS = {\n    LEARN_MORE: 'https://ton.org/wallets'\n};\n","import { ConnectAdditionalRequest, isWalletInfoRemote, WalletInfo } from '@tonconnect/sdk';\nimport { Component, For } from 'solid-js';\nimport { H1, LongArrowIcon, WalletItem, Text } from 'src/app/components';\nimport { Translation } from 'src/app/components/typography/Translation';\nimport {\n    ButtonStyled,\n    DefaultWallet,\n    Divider,\n    H2Styled,\n    LongArrowIconContainer,\n    UlStyled\n} from './style';\nimport {\n    addReturnStrategy,\n    isMobileUserAgent,\n    openLink,\n    openLinkBlank\n} from 'src/app/utils/web-api';\nimport { setLastSelectedWalletInfo } from 'src/app/state/modals-state';\nimport { appState } from 'src/app/state/app.state';\nimport { LINKS } from 'src/app/env/LINKS';\nimport { Link } from 'src/app/components/link';\nimport { useTheme } from 'solid-styled-components';\n\ninterface MobileSelectWalletModalProps {\n    walletsList: WalletInfo[];\n\n    additionalRequest: ConnectAdditionalRequest;\n\n    onSelect: (walletInfo: WalletInfo) => void;\n}\n\nexport const MobileSelectWalletModal: Component<MobileSelectWalletModalProps> = props => {\n    const connector = appState.connector;\n    const theme = useTheme();\n\n    const onSelect = (walletInfo: WalletInfo): void => {\n        if (!isMobileUserAgent()) {\n            return props.onSelect(walletInfo);\n        }\n\n        if ('universalLink' in walletInfo) {\n            setLastSelectedWalletInfo({ ...walletInfo, openMethod: 'universal-link' });\n\n            const universalLink = connector.connect(\n                {\n                    universalLink: walletInfo.universalLink,\n                    bridgeUrl: walletInfo.bridgeUrl\n                },\n                props.additionalRequest\n            );\n\n            openLink(addReturnStrategy(universalLink, appState.returnStrategy));\n            return;\n        }\n\n        openLinkBlank(walletInfo.aboutUrl);\n    };\n\n    const onSelectUniversal = (): void => {\n        const universalLink = connector.connect(\n            props.walletsList\n                .filter(isWalletInfoRemote)\n                .map(item => ({ bridgeUrl: item.bridgeUrl, universalLink: item.universalLink })),\n            props.additionalRequest\n        );\n\n        setLastSelectedWalletInfo({ openMethod: 'universal-link' });\n\n        openLink(addReturnStrategy(universalLink, appState.returnStrategy));\n    };\n\n    return (\n        <div data-tc-wallets-modal-mobile=\"true\">\n            <H1 translationKey=\"walletModal.mobileSelectWalletModal.connectWallet\">\n                Connect a wallet\n            </H1>\n            <H2Styled translationKey=\"walletModal.mobileSelectWalletModal.selectWallet\">\n                Select your wallet from the options to get started.\n            </H2Styled>\n            <UlStyled>\n                <DefaultWallet onClick={onSelectUniversal}>\n                    <LongArrowIconContainer>\n                        <LongArrowIcon fill={theme!.colors.accent} />\n                    </LongArrowIconContainer>\n                    <Text\n                        fontWeight={590}\n                        translationKey=\"walletModal.mobileSelectWalletModal.installedWallet\"\n                    >\n                        Installed wallet\n                    </Text>\n                </DefaultWallet>\n                <Divider>&nbsp;</Divider>\n                <For each={props.walletsList.filter(wallet => 'bridgeUrl' in wallet)}>\n                    {wallet => (\n                        <li>\n                            <WalletItem\n                                iconUrl={wallet.imageUrl}\n                                name={wallet.name}\n                                onClick={() => onSelect(wallet)}\n                            />\n                        </li>\n                    )}\n                </For>\n            </UlStyled>\n            <Link href={LINKS.LEARN_MORE} blank>\n                <ButtonStyled>\n                    <Translation translationKey=\"common.learnMore\">Learn more</Translation>\n                </ButtonStyled>\n            </Link>\n        </div>\n    );\n};\n","import { styled } from 'solid-styled-components';\nimport { Button, H2, QRCode, Text, Image } from 'src/app/components';\nimport { BorderRadiusConfig } from 'src/app/models/border-radius-config';\n\nconst borders: BorderRadiusConfig = {\n    m: '16px',\n    s: '8px',\n    none: '0'\n};\n\nconst hoverBorders: BorderRadiusConfig = {\n    m: '8px',\n    s: '4px',\n    none: '0'\n};\n\nexport const UniversalQrModalStyled = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nexport const H2Styled = styled(H2)`\n    max-width: 320px;\n    margin-bottom: 24px;\n`;\n\nexport const QRCodeStyled = styled(QRCode)`\n    margin-bottom: 16px;\n`;\n\nexport const ButtonsContainerStyled = styled.div`\n    display: flex;\n    gap: 16px;\n    width: 100%;\n`;\n\nexport const ActionButtonStyled = styled(Button)<{ disableEventsAnimation?: boolean }>`\n    position: relative;\n    font-size: 16px;\n    line-height: 20px;\n    width: 100%;\n    padding: 0 16px;\n    height: 56px;\n    border-radius: ${props => borders[props.theme!.borderRadius]};\n\n    &:hover {\n        ${props => (props.disableEventsAnimation ? 'transform: unset;' : '')}\n    }\n\n    &:active {\n        ${props => (props.disableEventsAnimation ? 'transform: unset;' : '')}\n    }\n`;\n\nexport const PopupWrapperStyled = styled.ul`\n    position: absolute;\n    bottom: 100%;\n    left: 0;\n    margin: 0;\n    padding: 8px;\n    width: 188px;\n    transform: translateY(-16px);\n\n    background-color: ${props => props.theme!.colors.background.primary};\n    border-radius: ${props => borders[props.theme!.borderRadius]};\n    box-shadow: 0 4px 24px rgba(0, 0, 0, 0.16);\n`;\n\nexport const ExtensionLiStyled = styled.li`\n    padding: 8px;\n\n    display: flex;\n    align-items: center;\n    gap: 8px;\n\n    cursor: pointer;\n    border-radius: ${props => hoverBorders[props.theme!.borderRadius]};\n\n    transition: background-color, transform 0.1s ease-in-out;\n\n    &:hover {\n        background-color: ${props => props.theme!.colors.background.secondary};\n    }\n\n    &:active {\n        transform: scale(0.96);\n    }\n`;\n\nexport const ImageStyled = styled(Image)`\n    width: 24px;\n    height: 24px;\n\n    border-radius: 6px;\n`;\n\nexport const GetWalletStyled = styled.div`\n    margin-top: 23px;\n    margin-bottom: 1px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n\nexport const TextStyled = styled(Text)`\n    color: ${props => props.theme!.colors.text.secondary};\n    font-size: 16px;\n`;\n","import { Component, createMemo, createSignal, For, Show } from 'solid-js';\nimport {\n    UniversalQrModalStyled,\n    H2Styled,\n    QRCodeStyled,\n    ButtonsContainerStyled,\n    ActionButtonStyled,\n    PopupWrapperStyled,\n    GetWalletStyled,\n    ExtensionLiStyled,\n    ImageStyled\n} from './style';\nimport {\n    ConnectAdditionalRequest,\n    isWalletInfoCurrentlyInjected,\n    isWalletInfoRemote,\n    WalletInfo,\n    WalletInfoCurrentlyInjected\n} from '@tonconnect/sdk';\nimport { appState } from 'src/app/state/app.state';\nimport { Translation } from 'src/app/components/typography/Translation';\nimport { addReturnStrategy, openLink } from 'src/app/utils/web-api';\nimport { setLastSelectedWalletInfo } from 'src/app/state/modals-state';\nimport { Transition } from 'solid-transition-group';\nimport { Button, Text } from 'src/app/components';\nimport { LINKS } from 'src/app/env/LINKS';\nimport { Link } from 'src/app/components/link';\nimport { css } from 'solid-styled-components';\n\ninterface UniversalQrModalProps {\n    additionalRequest: ConnectAdditionalRequest;\n\n    walletsList: WalletInfo[];\n\n    openWalletFallback: () => void;\n}\n\nexport const UniversalQrModal: Component<UniversalQrModalProps> = props => {\n    const [popupOpened, setPopupOpened] = createSignal(false);\n    const connector = appState.connector;\n\n    const walletsBridges = props.walletsList\n        .filter(isWalletInfoRemote)\n        .map(item => ({ bridgeUrl: item.bridgeUrl, universalLink: item.universalLink }));\n    const availableInjectableWallets = props.walletsList.filter(isWalletInfoCurrentlyInjected);\n\n    setLastSelectedWalletInfo({ openMethod: 'qrcode' });\n    const request = createMemo(() => connector.connect(walletsBridges, props.additionalRequest));\n\n    const onOpenWalletClick = (): void => {\n        let blurred = false;\n        function blurHandler(): void {\n            blurred = true;\n            setLastSelectedWalletInfo({ openMethod: 'universal-link' });\n            window.removeEventListener('blur', blurHandler);\n        }\n\n        window.addEventListener('blur', blurHandler);\n\n        openLink(addReturnStrategy(request(), appState.returnStrategy));\n        setTimeout(() => {\n            if (!blurred) {\n                props.openWalletFallback();\n            }\n            window.removeEventListener('blur', blurHandler);\n        }, 200);\n    };\n\n    const onOpenExtensionClick = (e: Event): void => {\n        e.stopPropagation();\n        if (availableInjectableWallets.length === 1) {\n            const walletInfo = availableInjectableWallets[0]!;\n            setLastSelectedWalletInfo(walletInfo);\n\n            connector.connect(\n                {\n                    jsBridgeKey: walletInfo.jsBridgeKey\n                },\n                props.additionalRequest\n            );\n            return;\n        }\n\n        setPopupOpened(opened => !opened);\n    };\n\n    const onExtensionClick = (walletInfo: WalletInfoCurrentlyInjected): void => {\n        setLastSelectedWalletInfo(walletInfo);\n\n        connector.connect(\n            {\n                jsBridgeKey: walletInfo.jsBridgeKey\n            },\n            props.additionalRequest\n        );\n    };\n\n    return (\n        <UniversalQrModalStyled\n            onClick={() => setPopupOpened(false)}\n            data-tc-universal-qr-desktop=\"true\"\n        >\n            <H2Styled translationKey=\"walletModal.universalQRModal.scanQR\">\n                Scan QR code with a TON Connect compatible wallet.\n            </H2Styled>\n            <QRCodeStyled sourceUrl={request()} disableCopy={popupOpened()} />\n            <ButtonsContainerStyled>\n                <ActionButtonStyled onClick={onOpenWalletClick} scale=\"s\">\n                    <Show when={availableInjectableWallets.length}>\n                        <Translation translationKey=\"walletModal.universalQRModal.openWallet\">\n                            Open Wallet\n                        </Translation>\n                    </Show>\n                    <Show when={!availableInjectableWallets.length}>\n                        <Translation translationKey=\"walletModal.universalQRModal.openInstalledWallet\">\n                            Open Installed Wallet\n                        </Translation>\n                    </Show>\n                </ActionButtonStyled>\n                <Show when={availableInjectableWallets.length}>\n                    <ActionButtonStyled\n                        onClick={onOpenExtensionClick}\n                        disableEventsAnimation={popupOpened()}\n                        scale=\"s\"\n                    >\n                        <Transition\n                            onBeforeEnter={el => {\n                                el.animate(\n                                    [\n                                        { opacity: 0, transform: 'translateY(0)' },\n                                        { opacity: 1, transform: 'translateY(-16px)' }\n                                    ],\n                                    {\n                                        duration: 150\n                                    }\n                                );\n                            }}\n                            onExit={(el, done) => {\n                                el.animate(\n                                    [\n                                        { opacity: 1, transform: 'translateY(-16px)' },\n                                        { opacity: 0, transform: 'translateY(0)' }\n                                    ],\n                                    {\n                                        duration: 150\n                                    }\n                                ).finished.then(done);\n                            }}\n                        >\n                            <Show when={popupOpened()}>\n                                <PopupWrapperStyled>\n                                    <For each={availableInjectableWallets}>\n                                        {wallet => (\n                                            <ExtensionLiStyled\n                                                onClick={() => onExtensionClick(wallet)}\n                                            >\n                                                <ImageStyled src={wallet.imageUrl} alt=\"\" />\n                                                <Text fontWeight={590}>{wallet.name}</Text>\n                                            </ExtensionLiStyled>\n                                        )}\n                                    </For>\n                                </PopupWrapperStyled>\n                            </Show>\n                        </Transition>\n                        <Translation translationKey=\"common.openExtension\">\n                            Open Extension\n                        </Translation>\n                    </ActionButtonStyled>\n                </Show>\n            </ButtonsContainerStyled>\n            <Show when={!availableInjectableWallets.length}>\n                <GetWalletStyled>\n                    <Link href={LINKS.LEARN_MORE} blank>\n                        <Button\n                            appearance=\"flat\"\n                            class={css`\n                                font-size: 15px;\n                            `}\n                        >\n                            <Translation translationKey=\"common.learnMore\">Learn more</Translation>\n                        </Button>\n                    </Link>\n                </GetWalletStyled>\n            </Show>\n        </UniversalQrModalStyled>\n    );\n};\n","import { styled } from 'solid-styled-components';\nimport { Button, H2 } from 'src/app/components';\n\nexport const DesktopSelectWalletModalStyled = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n`;\n\nexport const H2Styled = styled(H2)`\n    margin-bottom: 26px;\n`;\n\nexport const WalletsUl = styled.ul`\n    display: grid;\n    grid-template-columns: repeat(auto-fit, 92px);\n    justify-content: center;\n    row-gap: 8px;\n    overflow-y: auto;\n    max-height: 410px;\n    width: calc(100% + 12px);\n    margin-bottom: 30px;\n    padding: 10px 0;\n    align-self: flex-start;\n\n    &&::-webkit-scrollbar {\n        width: 8px;\n    }\n\n    &&::-webkit-scrollbar-track {\n        background: transparent;\n    }\n\n    &&::-webkit-scrollbar-thumb {\n        background: #cacaca;\n        border-radius: 12px;\n    }\n`;\n\nexport const ButtonStyled = styled(Button)`\n    display: block;\n    margin: 0 auto 1px;\n    font-size: 15px;\n`;\n","import { Component, For } from 'solid-js';\nimport { DesktopSelectWalletModalStyled, WalletsUl, ButtonStyled, H2Styled } from './style';\nimport { WalletInfo } from '@tonconnect/sdk';\nimport { Translation } from 'src/app/components/typography/Translation';\nimport { LINKS } from 'src/app/env/LINKS';\nimport { Link } from 'src/app/components/link';\nimport { WalletItem } from 'src/app/components';\nexport interface DesktopSelectWalletModalProps {\n    walletsList: WalletInfo[];\n\n    onSelect: (walletInfo: WalletInfo) => void;\n}\n\nexport const DesktopSelectWalletModal: Component<DesktopSelectWalletModalProps> = props => {\n    return (\n        <DesktopSelectWalletModalStyled data-tc-select-wallet-desktop=\"true\">\n            <H2Styled translationKey=\"walletModal.desktopSelectWalletModal.selectWallet\">\n                Choose your preferred wallet from the options to get started.\n            </H2Styled>\n            <WalletsUl>\n                <For each={props.walletsList}>\n                    {wallet => (\n                        <li>\n                            <WalletItem\n                                iconUrl={wallet.imageUrl}\n                                name={wallet.name}\n                                onClick={() => props.onSelect(wallet)}\n                            />\n                        </li>\n                    )}\n                </For>\n            </WalletsUl>\n            <Link href={LINKS.LEARN_MORE} blank>\n                <ButtonStyled appearance=\"flat\">\n                    <Translation translationKey=\"common.learnMore\">Learn more</Translation>\n                </ButtonStyled>\n            </Link>\n        </DesktopSelectWalletModalStyled>\n    );\n};\n","import {\n    ConnectAdditionalRequest,\n    isWalletInfoCurrentlyInjected,\n    isWalletInfoRemote,\n    WalletInfo,\n    WalletInfoRemote\n} from '@tonconnect/sdk';\nimport {\n    Component,\n    createEffect,\n    createMemo,\n    createResource,\n    createSignal,\n    Match,\n    onCleanup,\n    Show,\n    Switch,\n    useContext\n} from 'solid-js';\nimport { ConnectorContext } from 'src/app/state/connector.context';\nimport {\n    setLastSelectedWalletInfo,\n    setWalletsModalOpen,\n    walletsModalOpen\n} from 'src/app/state/modals-state';\nimport { QrCodeModal } from 'src/app/views/modals/wallets-modal/qr-code-modal';\nimport { StyledModal, LoaderContainerStyled, H1Styled, TabBarStyled, TabTextStyled } from './style';\nimport { openLinkBlank } from 'src/app/utils/web-api';\nimport { TonConnectUiContext } from 'src/app/state/ton-connect-ui.context';\nimport { useI18n } from '@solid-primitives/i18n';\nimport { appState } from 'src/app/state/app.state';\nimport { applyWalletsListConfiguration, eqWalletName } from 'src/app/utils/wallets';\nimport isMobile from 'src/app/hooks/isMobile';\nimport { MobileSelectWalletModal } from 'src/app/views/modals/wallets-modal/mobile-select-wallet-modal';\nimport { UniversalQrModal } from 'src/app/views/modals/wallets-modal/universal-qr-modal';\nimport { DesktopSelectWalletModal } from 'src/app/views/modals/wallets-modal/desktop-select-wallet-modal';\nimport { LoaderIcon } from 'src/app/components';\nimport { LoadableReady } from 'src/models/loadable';\n\nexport const WalletsModal: Component = () => {\n    const { locale } = useI18n()[1];\n    createEffect(() => locale(appState.language));\n\n    const connector = useContext(ConnectorContext)!;\n    const tonConnectUI = useContext(TonConnectUiContext);\n    const [fetchedWalletsList] = createResource(() => tonConnectUI!.getWallets());\n\n    const [selectedWalletInfo, setSelectedWalletInfo] = createSignal<WalletInfo | null>(null);\n    const [selectedTabIndex, setSelectedTabIndex] = createSignal(0);\n\n    const walletsList = createMemo(() => {\n        if (fetchedWalletsList.state !== 'ready') {\n            return null;\n        }\n\n        let walletsList = applyWalletsListConfiguration(\n            fetchedWalletsList(),\n            appState.walletsListConfiguration\n        );\n        const preferredWalletName = appState.preferredWalletName;\n        const preferredWallet = walletsList.find(item => eqWalletName(item, preferredWalletName));\n        const someWalletsWithSameName =\n            walletsList.filter(item => eqWalletName(item, preferredWalletName)).length >= 2;\n\n        if (preferredWalletName && preferredWallet && !someWalletsWithSameName) {\n            walletsList = [preferredWallet].concat(\n                walletsList.filter(item => !eqWalletName(item, preferredWalletName))\n            );\n        }\n\n        return walletsList;\n    });\n\n    const additionalRequestLoading = (): boolean =>\n        appState.connectRequestParameters?.state === 'loading';\n\n    const additionalRequest = createMemo(() => {\n        if (additionalRequestLoading()) {\n            return undefined;\n        }\n\n        return (appState.connectRequestParameters as LoadableReady<ConnectAdditionalRequest>)\n            ?.value;\n    });\n\n    const onClose = (): void => {\n        setWalletsModalOpen(false);\n        setSelectedWalletInfo(null);\n    };\n\n    const onSelectInDesktopList = (walletInfo: WalletInfo): void => {\n        if (isWalletInfoCurrentlyInjected(walletInfo)) {\n            setLastSelectedWalletInfo(walletInfo);\n            connector.connect(\n                {\n                    jsBridgeKey: walletInfo.jsBridgeKey\n                },\n                additionalRequest()\n            );\n            return;\n        }\n\n        if (isWalletInfoRemote(walletInfo)) {\n            setLastSelectedWalletInfo({ ...walletInfo, openMethod: 'qrcode' });\n            setSelectedWalletInfo(walletInfo);\n            return;\n        }\n\n        openLinkBlank(walletInfo.aboutUrl);\n    };\n\n    const unsubscribe = connector.onStatusChange(wallet => {\n        if (wallet) {\n            onClose();\n        }\n    });\n\n    onCleanup(unsubscribe);\n\n    return (\n        <StyledModal\n            opened={walletsModalOpen()}\n            onClose={onClose}\n            data-tc-wallets-modal-container=\"true\"\n        >\n            <Show when={additionalRequestLoading() || !walletsList()}>\n                <H1Styled translationKey=\"walletModal.loading\">Wallets list is loading</H1Styled>\n                <LoaderContainerStyled>\n                    <LoaderIcon size=\"m\" />\n                </LoaderContainerStyled>\n            </Show>\n\n            <Show when={!additionalRequestLoading() && walletsList()}>\n                <Show when={isMobile() && !selectedWalletInfo()}>\n                    <MobileSelectWalletModal\n                        onSelect={onSelectInDesktopList}\n                        walletsList={walletsList()!}\n                        additionalRequest={additionalRequest()!}\n                    />\n                </Show>\n\n                <Show when={!isMobile()}>\n                    <Show when={!selectedWalletInfo()}>\n                        <div data-tc-wallets-modal-desktop=\"true\">\n                            <TabBarStyled\n                                tab1={\n                                    <TabTextStyled\n                                        translationKey=\"walletModal.qrCode\"\n                                        cursor=\"unset\"\n                                    >\n                                        QR Code\n                                    </TabTextStyled>\n                                }\n                                tab2={\n                                    <TabTextStyled\n                                        translationKey=\"walletModal.wallets\"\n                                        cursor=\"unset\"\n                                    >\n                                        Wallets\n                                    </TabTextStyled>\n                                }\n                                selectedTabIndex={selectedTabIndex()}\n                                onSelectedTabIndexChange={setSelectedTabIndex}\n                            />\n\n                            <Switch>\n                                <Match when={selectedTabIndex() === 0}>\n                                    <UniversalQrModal\n                                        walletsList={walletsList()!}\n                                        additionalRequest={additionalRequest()!}\n                                        openWalletFallback={() => setSelectedTabIndex(1)}\n                                    />\n                                </Match>\n                                <Match when={selectedTabIndex() === 1}>\n                                    <DesktopSelectWalletModal\n                                        walletsList={walletsList()!}\n                                        onSelect={onSelectInDesktopList}\n                                    />\n                                </Match>\n                            </Switch>\n                        </div>\n                    </Show>\n                </Show>\n                <Show when={selectedWalletInfo()}>\n                    <QrCodeModal\n                        additionalRequest={additionalRequest()}\n                        wallet={selectedWalletInfo() as WalletInfoRemote}\n                        onBackClick={() => setSelectedWalletInfo(null)}\n                    />\n                </Show>\n            </Show>\n        </StyledModal>\n    );\n};\n","import { styled } from 'solid-styled-components';\nimport { Button, H1, Text } from 'src/app/components';\n\nexport const ActionModalStyled = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding-bottom: 8px;\n`;\n\nexport const H1Styled = styled(H1)`\n    margin-top: 16px;\n`;\n\nexport const TextStyled = styled(Text)`\n    font-weight: 510;\n    font-size: 16px;\n    line-height: 20px;\n    text-align: center;\n    max-width: 250px;\n\n    color: ${props => props.theme!.colors.text.secondary};\n`;\n\nexport const ButtonStyled = styled(Button)`\n    margin-top: 32px;\n`;\n","import { Component, JSXElement, Show, useContext } from 'solid-js';\nimport { Translation } from 'src/app/components/typography/Translation';\nimport { ActionModalStyled, ButtonStyled, H1Styled, TextStyled } from './style';\nimport { WithDataAttributes } from 'src/app/models/with-data-attributes';\nimport { useDataAttributes } from 'src/app/hooks/use-data-attributes';\nimport { TonConnectUiContext } from 'src/app/state/ton-connect-ui.context';\nimport { addReturnStrategy, openLink } from 'src/app/utils/web-api';\n\ninterface ActionModalProps extends WithDataAttributes {\n    headerTranslationKey: string;\n    headerTranslationValues?: Record<string, string>;\n    icon: JSXElement;\n    textTranslationKey?: string;\n    textTranslationValues?: Record<string, string>;\n    onClose: () => void;\n    showButton?: 'close' | 'open-wallet';\n}\n\nexport const ActionModal: Component<ActionModalProps> = props => {\n    const dataAttrs = useDataAttributes(props);\n    const tonConnectUI = useContext(TonConnectUiContext);\n\n    let universalLink: string | undefined;\n    if (\n        tonConnectUI?.wallet &&\n        'universalLink' in tonConnectUI.wallet &&\n        tonConnectUI.wallet.openMethod === 'universal-link'\n    ) {\n        universalLink = tonConnectUI.wallet.universalLink;\n    }\n\n    const onOpenWallet = (): void => {\n        openLink(addReturnStrategy(universalLink!, 'back'));\n    };\n\n    return (\n        <ActionModalStyled {...dataAttrs}>\n            {props.icon}\n            <H1Styled\n                translationKey={props.headerTranslationKey}\n                translationValues={props.headerTranslationValues}\n            />\n            <TextStyled\n                translationKey={props.textTranslationKey}\n                translationValues={props.textTranslationValues}\n            />\n            <Show when={props.showButton !== 'open-wallet'}>\n                <ButtonStyled onClick={() => props.onClose()}>\n                    <Translation translationKey=\"common.close\">Close</Translation>\n                </ButtonStyled>\n            </Show>\n            <Show when={props.showButton === 'open-wallet' && universalLink}>\n                <ButtonStyled onClick={onOpenWallet}>\n                    <Translation translationKey=\"common.openWallet\">Open wallet</Translation>\n                </ButtonStyled>\n            </Show>\n        </ActionModalStyled>\n    );\n};\n","import { Component, useContext } from 'solid-js';\nimport { ActionModal } from 'src/app/views/modals/actions-modal/action-modal';\nimport { LoaderIcon } from 'src/app/components';\nimport { TonConnectUiContext } from 'src/app/state/ton-connect-ui.context';\nimport { useI18n } from '@solid-primitives/i18n';\n\ninterface ConfirmTransactionModalProps {\n    onClose: () => void;\n}\n\nexport const ConfirmTransactionModal: Component<ConfirmTransactionModalProps> = props => {\n    const tonConnectUI = useContext(TonConnectUiContext);\n    const [t] = useI18n();\n    const name = tonConnectUI!.wallet?.name || t('common.yourWallet', {}, 'your wallet');\n\n    return (\n        <ActionModal\n            headerTranslationKey=\"actionModal.confirmTransaction.header\"\n            headerTranslationValues={{ name }}\n            textTranslationKey=\"actionModal.confirmTransaction.text\"\n            icon={<LoaderIcon size=\"m\" />}\n            onClose={() => props.onClose()}\n            showButton=\"open-wallet\"\n            data-tc-confirm-modal=\"true\"\n        />\n    );\n};\n","import { Component } from 'solid-js';\nimport { ActionModal } from 'src/app/views/modals/actions-modal/action-modal';\nimport { ErrorIcon } from 'src/app/components';\n\ninterface TransactionCanceledModalProps {\n    onClose: () => void;\n}\n\nexport const TransactionCanceledModal: Component<TransactionCanceledModalProps> = props => {\n    return (\n        <ActionModal\n            headerTranslationKey=\"actionModal.transactionCanceled.header\"\n            textTranslationKey=\"actionModal.transactionCanceled.text\"\n            icon={<ErrorIcon size=\"m\" />}\n            onClose={() => props.onClose()}\n            data-tc-transaction-canceled-modal=\"true\"\n        />\n    );\n};\n","import { Component } from 'solid-js';\nimport { ActionModal } from 'src/app/views/modals/actions-modal/action-modal';\nimport { SuccessIcon } from 'src/app/components';\n\ninterface TransactionSentModalProps {\n    onClose: () => void;\n}\n\nexport const TransactionSentModal: Component<TransactionSentModalProps> = props => {\n    return (\n        <ActionModal\n            headerTranslationKey=\"actionModal.transactionSent.header\"\n            textTranslationKey=\"actionModal.transactionSent.text\"\n            icon={<SuccessIcon size=\"m\" />}\n            onClose={() => props.onClose()}\n            data-tc-transaction-sent-modal=\"true\"\n        />\n    );\n};\n","import { Component, Match, Switch } from 'solid-js';\nimport { Modal } from 'src/app/components';\nimport { action, setAction } from 'src/app/state/modals-state';\nimport { ConfirmTransactionModal } from 'src/app/views/modals/actions-modal/confirm-transaction-modal';\nimport { TransactionCanceledModal } from 'src/app/views/modals/actions-modal/transaction-canceled-modal';\nimport { TransactionSentModal } from 'src/app/views/modals/actions-modal/transaction-sent-modal';\n\nexport const ActionsModal: Component = () => {\n    return (\n        <Modal\n            opened={action() !== null && action()?.openModal === true}\n            onClose={() => setAction(null)}\n            data-tc-actions-modal-container=\"true\"\n        >\n            <Switch>\n                <Match when={action()!.name === 'transaction-sent'}>\n                    <TransactionSentModal onClose={() => setAction(null)} />\n                </Match>\n                <Match when={action()!.name === 'transaction-canceled'}>\n                    <TransactionCanceledModal onClose={() => setAction(null)} />\n                </Match>\n                <Match when={action()!.name === 'confirm-transaction'}>\n                    <ConfirmTransactionModal onClose={() => setAction(null)} />\n                </Match>\n            </Switch>\n        </Modal>\n    );\n};\n","import './global.d.ts';\nimport { Show } from 'solid-js';\nimport type { Component } from 'solid-js';\nimport { Dynamic, Portal } from 'solid-js/web';\nimport { ThemeProvider } from 'solid-styled-components';\nimport { i18nDictionary } from 'src/app/i18n';\nimport { ConnectorContext } from 'src/app/state/connector.context';\nimport { themeState } from 'src/app/state/theme-state';\nimport { GlobalStyles, globalStylesTag } from 'src/app/styles/global-styles';\nimport { AccountButton } from 'src/app/views/account-button';\nimport { ActionsModal, WalletsModal } from 'src/app/views/modals';\nimport './styles/style.d.ts';\nimport { TonConnectUI } from 'src/ton-connect-ui';\nimport { TonConnectUiContext } from 'src/app/state/ton-connect-ui.context';\nimport { createI18nContext, I18nContext } from '@solid-primitives/i18n';\nimport { appState } from 'src/app/state/app.state';\nimport { defineStylesRoot, fixMobileSafariActiveTransition } from 'src/app/utils/web-api';\n\nexport type AppProps = {\n    tonConnectUI: TonConnectUI;\n};\n\nconst App: Component<AppProps> = props => {\n    const translations = createI18nContext(i18nDictionary, appState.language);\n\n    defineStylesRoot();\n    fixMobileSafariActiveTransition();\n\n    return (\n        <I18nContext.Provider value={translations}>\n            <TonConnectUiContext.Provider value={props.tonConnectUI}>\n                <ConnectorContext.Provider value={appState.connector}>\n                    <GlobalStyles />\n                    <ThemeProvider theme={themeState}>\n                        <Show when={appState.buttonRootId}>\n                            <Portal mount={document.getElementById(appState.buttonRootId!)!}>\n                                <AccountButton />\n                            </Portal>\n                        </Show>\n                        <Dynamic component={globalStylesTag}>\n                            <WalletsModal />\n                            <ActionsModal />\n                        </Dynamic>\n                    </ThemeProvider>\n                </ConnectorContext.Provider>\n            </TonConnectUiContext.Provider>\n        </I18nContext.Provider>\n    );\n};\n\nexport default App;\n","import { render } from 'solid-js/web';\n\nimport {\n    Action,\n    lastSelectedWalletInfo,\n    setAction,\n    setWalletsModalOpen\n} from 'src/app/state/modals-state';\nimport { TonConnectUI } from 'src/ton-connect-ui';\nimport App from './App';\nimport { WalletInfoWithOpenMethod, WalletOpenMethod } from 'src/models/connected-wallet';\n\nexport const widgetController = {\n    openWalletsModal: (): void => void setTimeout(() => setWalletsModalOpen(true)),\n    closeWalletsModal: (): void => void setTimeout(() => setWalletsModalOpen(false)),\n    setAction: (action: Action): void => void setTimeout(() => setAction(action)),\n    clearAction: (): void => void setTimeout(() => setAction(null)),\n    getSelectedWalletInfo: ():\n        | WalletInfoWithOpenMethod\n        | {\n              openMethod: WalletOpenMethod;\n          }\n        | null => lastSelectedWalletInfo(),\n    renderApp: (root: string, tonConnectUI: TonConnectUI): (() => void) =>\n        render(\n            () => <App tonConnectUI={tonConnectUI} />,\n            document.getElementById(root) as HTMLElement\n        )\n};\n","import { WalletInfoWithOpenMethod } from 'src/models/connected-wallet';\nimport { checkLocalStorageExists } from 'src/app/utils/web-api';\n\nexport class WalletInfoStorage {\n    private readonly localStorage: Storage;\n\n    private readonly storageKey = 'ton-connect-ui_wallet-info';\n\n    constructor() {\n        checkLocalStorageExists();\n\n        this.localStorage = localStorage;\n    }\n\n    public setWalletInfo(walletInfo: WalletInfoWithOpenMethod): void {\n        this.localStorage.setItem(this.storageKey, JSON.stringify(walletInfo));\n    }\n\n    public getWalletInfo(): WalletInfoWithOpenMethod | null {\n        const walletInfoString = this.localStorage.getItem(this.storageKey);\n\n        if (!walletInfoString) {\n            return null;\n        }\n\n        return JSON.parse(walletInfoString);\n    }\n\n    public removeWalletInfo(): void {\n        this.localStorage.removeItem(this.storageKey);\n    }\n}\n","import { checkLocalStorageExists } from 'src/app/utils/web-api';\n\nexport class PreferredWalletStorage {\n    private readonly localStorage: Storage;\n\n    private readonly storageKey = 'ton-connect-ui_preferred-wallet';\n\n    constructor() {\n        checkLocalStorageExists();\n\n        this.localStorage = localStorage;\n    }\n\n    public setPreferredWalletName(name: string): void {\n        this.localStorage.setItem(this.storageKey, name);\n    }\n\n    public getPreferredWalletName(): string | undefined {\n        return this.localStorage.getItem(this.storageKey) || undefined;\n    }\n}\n","import type { Account, ConnectAdditionalRequest } from '@tonconnect/sdk';\nimport {\n    isWalletInfoCurrentlyEmbedded,\n    ITonConnect,\n    SendTransactionRequest,\n    SendTransactionResponse,\n    TonConnect,\n    TonConnectError,\n    Wallet,\n    WalletInfo\n} from '@tonconnect/sdk';\nimport { widgetController } from 'src/app/widget-controller';\nimport { TonConnectUIError } from 'src/errors/ton-connect-ui.error';\nimport { TonConnectUiCreateOptions } from 'src/models/ton-connect-ui-create-options';\nimport { WalletInfoStorage, PreferredWalletStorage } from 'src/storage';\nimport {\n    addReturnStrategy,\n    getSystemTheme,\n    getUserAgent,\n    openLink,\n    preloadImages,\n    subscribeToThemeChange\n} from 'src/app/utils/web-api';\nimport { TonConnectUiOptions } from 'src/models/ton-connect-ui-options';\nimport { setBorderRadius, setColors, setTheme } from 'src/app/state/theme-state';\nimport { mergeOptions } from 'src/app/utils/options';\nimport { appState, setAppState } from 'src/app/state/app.state';\nimport { unwrap } from 'solid-js/store';\nimport { setLastSelectedWalletInfo } from 'src/app/state/modals-state';\nimport { ActionConfiguration, StrictActionConfiguration } from 'src/models/action-configuration';\nimport { ConnectedWallet, WalletInfoWithOpenMethod } from 'src/models/connected-wallet';\nimport { applyWalletsListConfiguration, eqWalletName } from 'src/app/utils/wallets';\nimport { uniq } from 'src/app/utils/array';\nimport { Loadable } from 'src/models/loadable';\n\nexport class TonConnectUI {\n    public static getWallets(): Promise<WalletInfo[]> {\n        return TonConnect.getWallets();\n    }\n\n    private readonly walletInfoStorage = new WalletInfoStorage();\n\n    private readonly preferredWalletStorage = new PreferredWalletStorage();\n\n    public readonly connector: ITonConnect;\n\n    private walletInfo: WalletInfoWithOpenMethod | null = null;\n\n    private systemThemeChangeUnsubscribe: (() => void) | null = null;\n\n    private actionsConfiguration?: ActionConfiguration;\n\n    private readonly walletsList: Promise<WalletInfo[]>;\n\n    private connectRequestParametersCallback?: (\n        parameters: ConnectAdditionalRequest | undefined\n    ) => void;\n\n    /**\n     * Promise that resolves after end of th connection restoring process (promise will fire after `onStatusChange`, so you can get actual information about wallet and session after when promise resolved).\n     * Resolved value `true`/`false` indicates if the session was restored successfully.\n     */\n    public readonly connectionRestored = Promise.resolve(false);\n\n    /**\n     * Current connection status.\n     */\n    public get connected(): boolean {\n        return this.connector.connected;\n    }\n\n    /**\n     * Current connected account or null.\n     */\n    public get account(): Account | null {\n        return this.connector.account;\n    }\n\n    /**\n     * Curren connected wallet app and its info or null.\n     */\n    public get wallet(): (Wallet & WalletInfoWithOpenMethod) | null {\n        if (!this.connector.wallet || !this.walletInfo) {\n            return null;\n        }\n\n        return {\n            ...this.connector.wallet,\n            ...this.walletInfo\n        };\n    }\n\n    /**\n     * Set and apply new UI options. Object with partial options should be passed. Passed options will be merged with current options.\n     * @param options\n     */\n    public set uiOptions(options: TonConnectUiOptions) {\n        this.checkButtonRootExist(options.buttonRootId);\n\n        this.actionsConfiguration = options.actionsConfiguration;\n\n        if (options.uiPreferences?.theme) {\n            if (options.uiPreferences?.theme !== 'SYSTEM') {\n                this.systemThemeChangeUnsubscribe?.();\n                setTheme(options.uiPreferences.theme, options.uiPreferences.colorsSet);\n            } else {\n                setTheme(getSystemTheme(), options.uiPreferences.colorsSet);\n\n                if (!this.systemThemeChangeUnsubscribe) {\n                    this.systemThemeChangeUnsubscribe = subscribeToThemeChange(setTheme);\n                }\n            }\n        } else {\n            if (options.uiPreferences?.colorsSet) {\n                setColors(options.uiPreferences.colorsSet);\n            }\n        }\n\n        if (options.uiPreferences?.borderRadius) {\n            setBorderRadius(options.uiPreferences.borderRadius);\n        }\n\n        setAppState(state => {\n            const merged = mergeOptions(\n                {\n                    ...(options.language && { language: options.language }),\n                    ...(!!options.actionsConfiguration?.returnStrategy && {\n                        returnStrategy: options.actionsConfiguration.returnStrategy\n                    }),\n                    ...(!!options.walletsListConfiguration && {\n                        walletsListConfiguration: options.walletsListConfiguration\n                    })\n                },\n                unwrap(state)\n            );\n\n            if (options.buttonRootId !== undefined) {\n                merged.buttonRootId = options.buttonRootId;\n            }\n\n            return merged;\n        });\n    }\n\n    constructor(options?: TonConnectUiCreateOptions) {\n        if (options && 'connector' in options && options.connector) {\n            this.connector = options.connector;\n        } else if (options && 'manifestUrl' in options && options.manifestUrl) {\n            this.connector = new TonConnect({ manifestUrl: options.manifestUrl });\n        } else {\n            throw new TonConnectUIError(\n                'You have to specify a `manifestUrl` or a `connector` in the options.'\n            );\n        }\n\n        this.walletsList = this.getWallets();\n\n        this.walletsList.then(list => preloadImages(uniq(list.map(item => item.imageUrl))));\n\n        const rootId = this.normalizeWidgetRoot(options?.widgetRootId);\n\n        this.subscribeToWalletChange();\n\n        if (options?.restoreConnection !== false) {\n            this.connectionRestored = new Promise(async resolve => {\n                await this.connector.restoreConnection();\n\n                if (!this.connector.connected) {\n                    this.walletInfoStorage.removeWalletInfo();\n                }\n\n                resolve(this.connector.connected);\n            });\n        }\n\n        this.uiOptions = mergeOptions(options, { uiPreferences: { theme: 'SYSTEM' } });\n        const preferredWalletName = this.preferredWalletStorage.getPreferredWalletName();\n        setAppState({\n            connector: this.connector,\n            preferredWalletName\n        });\n\n        widgetController.renderApp(rootId, this);\n    }\n\n    /**\n     * Use it to customize ConnectRequest and add `tonProof` payload.\n     * You can call it multiply times to set updated tonProof payload if previous one is outdated.\n     * If `connectRequestParameters.state === 'loading'` loader will appear instead of the qr code in the wallets modal.\n     * If `connectRequestParameters.state` was changed to 'ready' or it's value has been changed, QR will be re-rendered.\n     */\n    public setConnectRequestParameters(\n        connectRequestParameters: Loadable<ConnectAdditionalRequest> | undefined | null\n    ): void {\n        setAppState({ connectRequestParameters });\n        if (connectRequestParameters?.state === 'ready' || !connectRequestParameters) {\n            this.connectRequestParametersCallback?.(connectRequestParameters?.value);\n        }\n    }\n\n    /**\n     * Returns available wallets list.\n     */\n    public async getWallets(): Promise<WalletInfo[]> {\n        return this.connector.getWallets();\n    }\n\n    /**\n     * Subscribe to connection status change.\n     * @return function which has to be called to unsubscribe.\n     */\n    public onStatusChange(\n        callback: (wallet: ConnectedWallet | null) => void,\n        errorsHandler?: (err: TonConnectError) => void\n    ): ReturnType<ITonConnect['onStatusChange']> {\n        return this.connector.onStatusChange(async wallet => {\n            if (wallet) {\n                const lastSelectedWalletInfo = await this.getSelectedWalletInfo(wallet);\n\n                callback({\n                    ...wallet,\n                    ...(lastSelectedWalletInfo || this.walletInfoStorage.getWalletInfo())!\n                });\n            } else {\n                callback(wallet);\n            }\n        }, errorsHandler);\n    }\n\n    /**\n     * Opens the modal window and handles a wallet connection.\n     */\n    public async connectWallet(): Promise<ConnectedWallet> {\n        const walletsList = await this.getWallets();\n        const embeddedWallet = walletsList.find(isWalletInfoCurrentlyEmbedded);\n\n        if (embeddedWallet) {\n            const connect = (parameters?: ConnectAdditionalRequest): void => {\n                setLastSelectedWalletInfo(embeddedWallet);\n                this.connector.connect({ jsBridgeKey: embeddedWallet.jsBridgeKey }, parameters);\n            };\n\n            const additionalRequest = appState.connectRequestParameters;\n            if (additionalRequest?.state === 'loading') {\n                this.connectRequestParametersCallback = connect;\n            } else {\n                connect(additionalRequest?.value);\n            }\n        } else {\n            widgetController.openWalletsModal();\n        }\n\n        return new Promise((resolve, reject) => {\n            const unsubscribe = this.connector.onStatusChange(async wallet => {\n                unsubscribe!();\n                if (wallet) {\n                    const lastSelectedWalletInfo = await this.getSelectedWalletInfo(wallet);\n\n                    resolve({\n                        ...wallet,\n                        ...(lastSelectedWalletInfo || this.walletInfoStorage.getWalletInfo())!\n                    });\n                } else {\n                    reject(new TonConnectUIError('Wallet was not connected'));\n                }\n            }, reject);\n        });\n    }\n\n    /**\n     * Disconnect wallet and clean localstorage.\n     */\n    public disconnect(): Promise<void> {\n        widgetController.clearAction();\n        this.walletInfoStorage.removeWalletInfo();\n        return this.connector.disconnect();\n    }\n\n    /**\n     * Opens the modal window and handles the transaction sending.\n     * @param tx transaction to send.\n     * @param options modal and notifications behaviour settings. Default is show only 'before' modal and all notifications.\n     */\n    public async sendTransaction(\n        tx: SendTransactionRequest,\n        options?: ActionConfiguration\n    ): Promise<SendTransactionResponse> {\n        if (!this.connected || !this.walletInfo) {\n            throw new TonConnectUIError('Connect wallet to send a transaction.');\n        }\n\n        const { notifications, modals, returnStrategy, skipRedirectToWallet } =\n            this.getModalsAndNotificationsConfiguration(options);\n\n        const userOSIsIos = getUserAgent().os === 'ios';\n        const shouldSkipRedirectToWallet =\n            (skipRedirectToWallet === 'ios' && userOSIsIos) || skipRedirectToWallet === 'always';\n\n        if (\n            'universalLink' in this.walletInfo &&\n            this.walletInfo.openMethod === 'universal-link' &&\n            !shouldSkipRedirectToWallet\n        ) {\n            openLink(addReturnStrategy(this.walletInfo.universalLink, returnStrategy));\n        }\n\n        widgetController.setAction({\n            name: 'confirm-transaction',\n            showNotification: notifications.includes('before'),\n            openModal: modals.includes('before')\n        });\n\n        try {\n            const result = await this.connector.sendTransaction(tx);\n\n            widgetController.setAction({\n                name: 'transaction-sent',\n                showNotification: notifications.includes('success'),\n                openModal: modals.includes('success')\n            });\n\n            return result;\n        } catch (e) {\n            widgetController.setAction({\n                name: 'transaction-canceled',\n                showNotification: notifications.includes('error'),\n                openModal: modals.includes('error')\n            });\n\n            if (e instanceof TonConnectError) {\n                throw e;\n            } else {\n                console.error(e);\n                throw new TonConnectUIError('Unhandled error:' + e);\n            }\n        }\n    }\n\n    private subscribeToWalletChange(): void {\n        this.connector.onStatusChange(async wallet => {\n            if (wallet) {\n                await this.updateWalletInfo(wallet);\n                this.setPreferredWalletName(this.walletInfo?.appName || wallet.device.appName);\n            } else {\n                this.walletInfoStorage.removeWalletInfo();\n            }\n        });\n    }\n\n    private setPreferredWalletName(value: string): void {\n        this.preferredWalletStorage.setPreferredWalletName(value);\n        setAppState({ preferredWalletName: value });\n    }\n\n    private async getSelectedWalletInfo(wallet: Wallet): Promise<WalletInfoWithOpenMethod | null> {\n        let lastSelectedWalletInfo = widgetController.getSelectedWalletInfo();\n\n        if (!lastSelectedWalletInfo) {\n            return null;\n        }\n\n        let fullLastSelectedWalletInfo: WalletInfoWithOpenMethod;\n        if (!('name' in lastSelectedWalletInfo)) {\n            const walletsList = applyWalletsListConfiguration(\n                await this.walletsList,\n                appState.walletsListConfiguration\n            );\n            const walletInfo = walletsList.find(item => eqWalletName(item, wallet.device.appName));\n\n            if (!walletInfo) {\n                throw new TonConnectUIError(\n                    `Cannot find WalletInfo for the '${wallet.device.appName}' wallet`\n                );\n            }\n\n            fullLastSelectedWalletInfo = {\n                ...walletInfo,\n                ...lastSelectedWalletInfo\n            };\n        } else {\n            fullLastSelectedWalletInfo = lastSelectedWalletInfo;\n        }\n\n        return fullLastSelectedWalletInfo;\n    }\n\n    private async updateWalletInfo(wallet: Wallet): Promise<void> {\n        const selectedWalletInfo = await this.getSelectedWalletInfo(wallet);\n\n        if (selectedWalletInfo) {\n            this.walletInfo = selectedWalletInfo;\n            this.walletInfoStorage.setWalletInfo(selectedWalletInfo);\n        } else {\n            this.walletInfo = this.walletInfoStorage.getWalletInfo();\n        }\n    }\n\n    private normalizeWidgetRoot(rootId: string | undefined): string {\n        if (!rootId || !document.getElementById(rootId)) {\n            rootId = 'tc-widget-root';\n            const rootElement = document.createElement('div');\n            rootElement.id = rootId;\n            document.body.appendChild(rootElement);\n        }\n\n        return rootId;\n    }\n\n    private checkButtonRootExist(buttonRootId: string | null | undefined): void | never {\n        if (buttonRootId == null) {\n            return;\n        }\n\n        if (!document.getElementById(buttonRootId)) {\n            throw new TonConnectUIError(`${buttonRootId} element not found in the document.`);\n        }\n    }\n\n    private getModalsAndNotificationsConfiguration(\n        options?: ActionConfiguration\n    ): StrictActionConfiguration {\n        const allActions: StrictActionConfiguration['notifications'] = [\n            'before',\n            'success',\n            'error'\n        ];\n\n        let notifications: StrictActionConfiguration['notifications'] = allActions;\n        if (\n            this.actionsConfiguration?.notifications &&\n            this.actionsConfiguration?.notifications !== 'all'\n        ) {\n            notifications = this.actionsConfiguration.notifications;\n        }\n\n        if (options?.notifications) {\n            if (options.notifications === 'all') {\n                notifications = allActions;\n            } else {\n                notifications = options.notifications;\n            }\n        }\n\n        let modals: StrictActionConfiguration['modals'] = ['before'];\n        if (this.actionsConfiguration?.modals) {\n            if (this.actionsConfiguration.modals === 'all') {\n                modals = allActions;\n            } else {\n                modals = this.actionsConfiguration.modals;\n            }\n        }\n        if (options?.modals) {\n            if (options.modals === 'all') {\n                modals = allActions;\n            } else {\n                modals = options.modals;\n            }\n        }\n\n        const returnStrategy =\n            options?.returnStrategy || this.actionsConfiguration?.returnStrategy || 'back';\n\n        const skipRedirectToWallet =\n            options?.skipRedirectToWallet ||\n            this.actionsConfiguration?.skipRedirectToWallet ||\n            'ios';\n\n        return {\n            notifications,\n            modals,\n            returnStrategy,\n            skipRedirectToWallet\n        };\n    }\n}\n"],"names":["root","f","this","util","validateBase64","s","test","TypeError","decodeUTF8","i","d","unescape","encodeURIComponent","b","Uint8Array","length","charCodeAt","encodeUTF8","arr","push","String","fromCharCode","decodeURIComponent","escape","join","atob","Buffer","from","encodeBase64","toString","decodeBase64","Array","prototype","slice","call","len","btoa","exports","module","nacl","gf","init","r","Float64Array","randombytes","Error","_0","_9","gf0","gf1","_121665","D","D2","X","Y","I","ts64","x","h","l","vn","xi","y","yi","n","crypto_verify_16","crypto_verify_32","crypto_core_salsa20","out","inp","k","c","o","p","u","j0","j1","j2","j3","j4","j5","j6","j7","j8","j9","j10","j11","j12","j13","j14","j15","x0","x1","x2","x3","x4","x5","x6","x7","x8","x9","x10","x11","x12","x13","x14","x15","core_salsa20","crypto_core_hsalsa20","core_hsalsa20","sigma","crypto_stream_salsa20_xor","cpos","m","mpos","z","crypto_stream_salsa20","crypto_stream","sn","crypto_stream_xor","poly1305","key","t0","t1","t2","t3","t4","t5","t6","t7","buffer","Uint16Array","pad","leftover","fin","crypto_onetimeauth","outpos","update","finish","crypto_onetimeauth_verify","hpos","crypto_secretbox","crypto_secretbox_open","set25519","a","car25519","v","Math","floor","sel25519","q","t","pack25519","j","neq25519","par25519","unpack25519","A","Z","M","t8","t9","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","S","inv25519","pow2523","crypto_scalarmult","e","x32","subarray","x16","crypto_scalarmult_base","crypto_box_keypair","crypto_box_beforenm","blocks","bytes","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","hibit","h0","h1","h2","h3","h4","h5","h6","h7","h8","h9","r0","r1","r2","r3","r4","r5","r6","r7","r8","r9","mac","macpos","mask","g","want","crypto_box_afternm","crypto_box_open_afternm","K","crypto_hashblocks_hl","hh","hl","bh0","bh1","bh2","bh3","bh4","bh5","bh6","bh7","bl0","bl1","bl2","bl3","bl4","bl5","bl6","bl7","th","tl","wh","Int32Array","wl","ah0","ah1","ah2","ah3","ah4","ah5","ah6","ah7","al0","al1","al2","al3","al4","al5","al6","al7","pos","crypto_hash","add","cswap","pack","tx","ty","zi","scalarmult","scalarbase","crypto_sign_keypair","pk","sk","seeded","L","modL","carry","reduce","crypto_sign","sm","smlen","crypto_sign_open","chk","num","den","den2","den4","den6","unpackneg","crypto_secretbox_KEYBYTES","crypto_secretbox_NONCEBYTES","crypto_secretbox_BOXZEROBYTES","crypto_box_PUBLICKEYBYTES","crypto_box_SECRETKEYBYTES","crypto_box_NONCEBYTES","crypto_sign_BYTES","crypto_sign_PUBLICKEYBYTES","crypto_sign_SECRETKEYBYTES","checkLengths","checkArrayTypes","arguments","cleanup","lowlevel","crypto_box","crypto_box_open","crypto_secretbox_ZEROBYTES","crypto_scalarmult_BYTES","crypto_scalarmult_SCALARBYTES","crypto_box_BEFORENMBYTES","crypto_box_ZEROBYTES","crypto_box_BOXZEROBYTES","crypto_sign_SEEDBYTES","crypto_hash_BYTES","randomBytes","secretbox","msg","nonce","open","box","keyLength","nonceLength","overheadLength","scalarMult","base","scalarLength","groupElementLength","publicKey","secretKey","before","checkBoxLengths","after","keyPair","fromSecretKey","publicKeyLength","secretKeyLength","sharedKeyLength","sign","signedMsg","tmp","mlen","detached","sig","verify","fromSeed","seed","seedLength","signatureLength","hash","hashLength","setPRNG","fn","crypto","self","msCrypto","getRandomValues","min","require","require$$0","CONNECT_EVENT_ERROR_CODES","CONNECT_ITEM_ERROR_CODES","SEND_TRANSACTION_ERROR_CODES","SIGN_DATA_ERROR_CODES","DISCONNECT_ERROR_CODES","CHAIN","Base64","encode","value","urlSafe","uint8Array","JSON","stringify","encoded","encodeUint8Array","decode","decodedUint8Array","decodeToUint8Array","toObject","parse","toUint8Array","toHexString","byteArray","hexString","forEach","byte","hexToByteArray","result","parseInt","SessionCrypto","constructor","createKeypairFromString","createKeypair","sessionId","nacl$1","createNonce","encrypt","message","receiverPublicKey","encodedMessage","TextEncoder","buffer1","buffer2","mergedArray","set","concatUint8Arrays","decrypt","senderPublicKey","internalMessage","array","index","splitToUint8Arrays","decrypted","TextDecoder","stringifyKeypair","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","done","then","apply","TonConnectError","options","super","prefix","name","info","Object","setPrototypeOf","DappMetadataError","args","ManifestContentErrorError","ManifestNotFoundError","WalletAlreadyConnectedError","WalletNotConnectedError","UserRejectsError","BadRequestError","UnknownAppError","WalletNotInjectedError","LocalstorageNotFoundError","FetchWalletsError","WrongAddressError","ParseHexError","UnknownError","connectEventErrorsCodes","UNKNOWN_ERROR","USER_REJECTS_ERROR","BAD_REQUEST_ERROR","UNKNOWN_APP_ERROR","MANIFEST_NOT_FOUND_ERROR","MANIFEST_CONTENT_ERROR","connectErrorsParser","parseError","error","ErrorConstructor","code","RpcParser","isError","response","sendTransactionErrors","sendTransactionParser","convertToRpcRequest","request","method","params","parseAndThrowError","convertFromRpcResponse","rpcResponse","boc","HttpBridgeGatewayStorage","storage","bridgeUrl","storeKey","storeLastEventId","lastEventId","setItem","removeLastEventId","removeItem","getLastEventId","stored","getItem","addPathToUrl","url","path","removeUrlLastSlash","isTelegramUrl","link","URL","protocol","hostname","BridgeGateway","listener","errorsListener","ssePath","postPath","heartbeatMessage","defaultTtl","isClosed","bridgeGatewayStorage","registerSession","searchParams","append","eventSource","EventSource","onerror","onopen","errorsHandler","bind","onmessage","messagesHandler","send","receiver","topic","ttl","fetch","body","pause","_a","close","unPause","setListener","setErrorsListener","_b","readyState","CLOSED","CONNECTING","console","debug","data","bridgeIncomingMessage","BridgeConnectionStorage","storeConnection","connection","type","rawSession","sessionKeyPair","session","sessionCrypto","walletPublicKey","rawConnection","connectEvent","lastWalletEventId","nextRpcRequestId","removeConnection","getConnection","getHttpConnection","getInjectedConnection","storedConnectionType","storeLastWalletEventId","id","getLastWalletEventId","increaseNextRpcRequestId","lastId","getNextRpcRequestId","logDebug","logError","BridgeProvider","walletConnectionSource","standardUniversalLink","pendingRequests","Map","gateway","pendingGateways","listeners","connectionStorage","static","bridgeConnectionStorage","connect","closeGateways","universalLink","isArray","map","source","pendingGatewaysListener","bridge","gatewayListener","gatewayErrorsListener","generateUniversalLink","restoreConnection","storedConnection","sendRequest","onRequestSent","assign","encodedRequest","catch","closeConnection","disconnect","called","removeBridgeAndSession","listen","callback","filter","promises","all","includes","except","walletMessage","get","delete","event","updateSession","tonAddrItem","payload","items","find","item","connectEventToSave","generateTGUniversalLink","generateRegularUniversalLink","startattach","split","replaceAll","hasProperty","propertyKey","hasProperties","propertyKeys","every","getWindow","window","getWebPageManifest","origin","location","InjectedProvider","injectedWalletKey","unsubscribeCallback","listenSubscriptions","isWindowContainsWallet","injectedWallet","tonconnect","jsBridgeKey","isWalletBrowser","entries","_","walletInfo","isJSBridgeWithMetadata","wallet","appName","app_name","aboutUrl","about_url","imageUrl","image","tondns","injected","embedded","platforms","_connect","makeSubscriptions","closeAllListeners","eventsCallback","protocolVersion","connectEventError","DefaultStorage","localStorage","isWalletInfoCurrentlyInjected","isWalletInfoInjectable","isWalletInfoCurrentlyEmbedded","isWalletInfoRemote","FALLBACK_WALLETS_LIST","universal_url","WalletsListManager","walletsListCache","walletsListCacheCreationTimestamp","walletsListSource","cacheTTLMs","getWallets","Date","now","fetchWalletsList","getEmbeddedWallet","embeddedWallets","walletsList","walletsResponse","json","wrongFormatWallets","isCorrectWalletConfigDTO","currentlyInjectedWallets","getCurrentlyInjectedWallets","mergeWalletsLists","walletConfigDTOListToWalletConfigList","walletConfigDTO","walletConfig","deepLink","isWalletInjected","isInsideWalletBrowser","list1","list2","Set","concat","values","list1Item","list2Item","some","sseBridge","jsBridge","WalletNotSupportFeatureError","checkSendTransactionSupport","features","supportsDeprecatedSendTransactionFeature","sendTransactionFeature","feature","maxMessages","requiredMessagesNumber","warn","logWarning","TonConnect","_wallet","provider","statusChangeSubscriptions","statusChangeErrorSubscriptions","dappSettings","manifestUrl","walletsListCacheTTLMs","disableAutoPauseConnection","addWindowFocusAndBlurSubscriptions","connected","account","onStatusChange","createProvider","createConnectRequest","bridgeConnectionType","embeddedWallet","fromStorage","walletEventsListener","sendTransaction","transaction","checkConnection","device","messages","validUntil","hasOwnProperty","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__rest","address","network","chain","valid_until","onWalletDisconnected","pauseConnection","unPauseConnection","document","getDocument","addEventListener","hidden","onWalletConnected","onWalletConnectError","tonAccountItem","tonProofItem","walletStateInit","connectItems","tonProof","walletJSKey","bounceableTag","testOnlyTag","toUserFriendlyAddress","hexAddress","testOnly","wc","hex","parts","hexToBytes","parseHexAddress","tag","addr","Int8Array","addressWithChecksum","poly","reg","crc16","replace","toByteMap","ord","length2","toLowerCase","doubled","hexSubstring","substring","sharedConfig","$PROXY","Symbol","$TRACK","signalOptions","equals","runEffects","runQueue","STALE","PENDING","UNOWNED","owned","cleanups","context","owner","NO_INIT","Owner","SuspenseContext","Transition","Listener","Updates","Effects","ExecCount","createRoot","detachedOwner","unowned","updateFn","untrack","cleanNode","runUpdates","createSignal","observers","observerSlots","comparator","readSignal","writeSignal","createComputed","updateComputation","createComputation","createRenderEffect","createEffect","runUserEffects","user","createMemo","createResource","pSource","pFetcher","pOptions","fetcher","pr","initP","scheduled","resolved","dynamic","contexts","setValue","initialValue","setError","track","trigger","state","setState","count","ssrLoadFrom","load","loadEnd","onHydrated","queueMicrotask","err","keys","decrement","clear","completeLoad","read","has","increment","refetching","lookup","castError","defineProperties","loading","latest","refetch","mutate","batch","onCleanup","getListener","createContext","defaultValue","Provider","useContext","ctx","children","memo","resolveChildren","toArray","runningTransition","sources","updates","lookUpstream","sSlot","sourceSlots","node","isComp","current","TransitionRunning","running","disposed","tState","pure","markDownstream","time","nextValue","handleError","updatedAt","runComputation","runTop","suspense","inFallback","effects","ancestors","wait","res","completeUpdates","queue","userLength","ignore","pop","obs","results","props","FALLBACK","dispose","createComponent","Comp","trueFn","propTraps","property","deleteProperty","getOwnPropertyDescriptor","configurable","enumerable","ownKeys","resolveSource","mergeProps","proxy","Proxy","target","descriptors","getOwnPropertyDescriptors","defineProperty","splitProps","blocked","flat","clone","For","fallback","list","mapFn","mapped","disposers","indexes","newItems","newIndices","newIndicesNext","temp","tempdisposers","tempIndexes","start","end","newEnd","newLen","disposer","mapper","mapArray","each","Show","strictEqual","keyed","condition","when","child","Switch","conditions","evalConditions","conds","cond","Match","Properties","ChildProperties","Aliases","create","className","htmlFor","PropAliases","class","formnovalidate","ismap","nomodule","playsinline","readonly","DelegatedEvents","SVGElements","SVGNamespace","xlink","xml","$$EVENTS","template","html","check","isSVG","createElement","innerHTML","content","firstChild","setAttribute","removeAttribute","spread","skipChildren","prevProps","insertExpression","ref","skipRef","prop","assignProp","use","element","arg","insert","parent","accessor","marker","initial","getNextElement","registry","hydrate","getHydrationKey","completed","cloneNode","toggleClassKey","classNames","trim","nameLen","classList","toggle","prev","isCE","isProp","isChildProp","nodeStyle","style","cssText","removeProperty","setProperty","classKeys","prevKeys","classValue","removeEventListener","delegate","handler","handlerFn","eventNames","eventHandler","delegateEvents","nodeName","w","toUpperCase","ns","namespace","removeAttributeNS","setAttributeNS","composedPath","querySelectorAll","elem","nodeType","nodeValue","nextSibling","remove","disabled","cancelBubble","_$host","parentNode","host","unwrapArray","childNodes","multi","createTextNode","cleanChildren","textContent","currentArray","normalizeIncomingArray","appendNodes","bLength","aEnd","bEnd","aStart","bStart","insertBefore","sequence","replaceChild","reconcileArrays","Node","appendChild","normalized","unwrap","replacement","inserted","el","isParent","SVG_NAMESPACE","tagName","createElementNS","Portal","useShadow","mount","renderPortal","HTMLHeadElement","clean","setClean","container","renderRoot","attachShadow","mode","removeChild","Dynamic","others","cached","component","isSvg","walletsModalOpen","setWalletsModalOpen","lastSelectedWalletInfo","setLastSelectedWalletInfo","action","setAction","querySelector","_goober","head","exec","shift","unshift","raw","ThemeContext","ThemeProvider","theme","useTheme","makeStyled","_ctx","Styled","withTheme","pClass","css","Boolean","local","newProps","htmlProps","createTag","as","styled","createGlobalStyles","i18nDictionary","en","parseDictionary","ru","dictionary","iterate","subDictionary","obj","ConnectorContext","$RAW","$NODE","$NAME","wrap$1","proxyTraps$1","desc","isWrappable","proto","getPrototypeOf","unwrapped","isFrozen","getDataNodes","nodes","getDataNode","createDataNode","trackSelf","internal","$","tracked","Reflect","writable","deleting","mergeStoreNode","updatePath","traversed","part","partType","to","by","createStore","store","unwrappedStore","updateArray","THEME","defaultLightColorsSet","constant","black","white","connectButton","background","foreground","accent","icon","primary","secondary","tertiary","success","segment","text","isMergeableObject","isNonNullObject","stringValue","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","for","cloneUnlessOtherwiseSpecified","deepmerge","val","defaultArrayMerge","getKeys","symbol","getEnumerableOwnPropertySymbols","propertyIsOnObject","object","mergeObject","destination","propertyIsUnsafe","customMerge","getMergeFunction","arrayMerge","sourceIsArray","cjs","isObject","isPlainObject","ctor","prot","mergeOptions","defaultOptions","sourceArray","__","themeState","setThemeState","LIGHT","colors","borderRadius","themeColorsMappingDefault","DARK","themeCustomColors","setTheme","colorsSet","globalStylesTag","disableScrollClass","usingMouseClass","GlobalStyles","_$createComponent","ImagePlaceholder","div","Image","imgRef","setImage","img","src","alt","complete","r$","rgba","color","opacity","bigint","hexToRgb","toPx","TonConnectUIError","undefined","FUNC_TYPE","UNDEF_TYPE","OBJ_TYPE","STR_TYPE","MAJOR","MODEL","NAME","TYPE","VENDOR","VERSION","ARCHITECTURE","CONSOLE","MOBILE","TABLET","SMARTTV","WEARABLE","EMBEDDED","AMAZON","APPLE","ASUS","BLACKBERRY","BROWSER","CHROME","FIREFOX","GOOGLE","HUAWEI","LG","MICROSOFT","MOTOROLA","OPERA","SAMSUNG","SHARP","SONY","XIAOMI","ZEBRA","FACEBOOK","CHROMIUM_OS","MAC_OS","enumerize","enums","str1","str2","lowerize","str","rgxMapper","ua","arrays","matches","match","regex","strMapper","windowsVersionMap","ME","XP","Vista","RT","regexes","browser","cpu","engine","EDGE","os","UAParser","extensions","getResult","_navigator","navigator","_ua","userAgent","_uach","userAgentData","_rgxmap","mergedRegexes","extend","_isSelfNav","getBrowser","version","_browser","brave","isBrave","getCPU","_cpu","getDevice","_device","mobile","standalone","maxTouchPoints","getEngine","_engine","getOS","_os","platform","getUA","setUA","CPU","DEVICE","ENGINE","OS","jQuery","Zepto","parser","openLink","href","openLinkBlank","addReturnStrategy","returnStrategy","parsed","addQueryParameter","checkLocalStorageExists","maxWidth","tablet","isDevice","width","innerWidth","media","mediaTouch","mediaNotTouch","borders","none","scaleValues","ButtonStyled","button","appearance","scale","useDataAttributes","startsWith","dataAttrs","Button","_$mergeProps","onClick","onMouseEnter","onMouseLeave","_ref$","hasOwn","classes","argType","inner","default","nextFrame","requestAnimationFrame","first","s1","set1","s2","set2","onBeforeEnter","onEnter","onAfterEnter","onBeforeExit","onExit","onAfterExit","classnames","enterActiveClass","enterClass","enterToClass","exitActiveClass","exitClass","exitToClass","enterTransition","appear","endTransition","enterActiveClasses","enterToClasses","exitTransition","enterClasses","exitClasses","exitActiveClasses","exitToClasses","getRect","top","bottom","left","right","height","getBoundingClientRect","parentRect","TransitionGroup","moveClass","combined","setCombined","comb","old","splice","new","newPos","once","oldPos","dx","dy","moved","transform","transitionDuration","offsetHeight","propertyName","moveClasses","rotationDegrees","ArrowIcon","svgDirection","viewBox","fill","xmlns","direction","_el$","_tmpl$","_$effect","_$setAttribute","CloseIcon","_el$2","IconButtonStyled","IconButton","ModalBackgroundStyled","ModalWrapperClass","CloseButtonStyled","clickOutside","contains","keyPressed","escPressed","onKeyPress","activeElement","blur","Modal","opened","documentElement","scrollHeight","clientHeight","scrollTop","scrollTo","parseFloat","getComputedStyle","duration","animate","firstElementChild","backgroundAnimation","contentAnimation","finished","_$use","onClose","_$insert","_$className","cn","wrapperBorderRadius","sliderBorderRadius","TabBarStyled","SliderStyled","InputStyled","input","LabelStyled","label","isActive","QrCodeBackground","qrNormalSize","QrCodeWrapper","ImageBackground","ImageStyled","size","CopyButtonStyled","qrcode","typeNumber","errorCorrectionLevel","_typeNumber","_errorCorrectionLevel","QRErrorCorrectionLevel","_modules","_moduleCount","_dataCache","_dataList","_this","makeImpl","maskPattern","moduleCount","modules","row","col","setupPositionProbePattern","setupTypeInfo","setupTypeNumber","createData","mapData","setupTimingPattern","setupPositionAdjustPattern","QRUtil","getPatternPosition","bits","getBCHTypeNumber","mod","getBCHTypeInfo","inc","bitIndex","byteIndex","maskFunc","getMaskFunction","dark","dataList","rsBlocks","QRRSBlock","getRSBlocks","qrBitBuffer","put","getMode","getLength","getLengthInBits","write","totalDataCount","dataCount","putBit","offset","maxDcCount","maxEcCount","dcdata","ecdata","dcCount","ecCount","totalCount","max","getBuffer","rsPoly","getErrorCorrectPolynomial","modPoly","qrPolynomial","modIndex","getAt","totalCodeCount","createBytes","addData","newData","qrNumber","qrAlphaNum","qr8BitByte","qrKanji","isDark","getModuleCount","make","minLostPoint","pattern","lostPoint","getLostPoint","getBestMaskPattern","createTableTag","cellSize","margin","qrHtml","createSvgTag","title","opts","mr","rect","qrSvg","scalable","escapeXml","createDataURL","createImgTag","escaped","charAt","createASCII","blocksLastLineNoMargin","ascii","_createHalfASCII","line","renderTo2dContext","fillStyle","fillRect","stringToBytes","stringToBytesFuncs","createStringToBytes","unicodeData","numChars","unicodeMap","bin","base64DecodeInputStream","unknownChar","PATTERN_POSITION_TABLE","G15","G18","getBCHDigit","QRMode","Q","H","QRMaskPattern","digit","errorCorrectLength","multiply","QRMath","gexp","sameCount","darkCount","abs","EXP_TABLE","LOG_TABLE","_num","glog","ratio","RS_BLOCK_TABLE","qrRSBlock","rsBlock","getRsBlockTable","_buffer","_length","bufIndex","bit","_mode","_data","strToNum","chatToNum","getCode","_bytes","byteArrayOutputStream","writeByte","off","_str","_pos","_buflen","getPixel","gif","_width","_height","pixel","writeString","writeShort","raster","getLZWRaster","writeBytes","lzwMinCodeSize","clearCode","endCode","bitLength","table","lzwTable","_out","_bitLength","_bitBuffer","byteOut","bitOut","dataIndex","flush","toByteArray","_map","_size","gifImage","setPixel","base64","_base64","writeEncoded","padlen","base64EncodeOutputStream","utf8","charcode","toUTF8Array","copyToClipboard","clipboard","writeText","textArea","position","focus","select","execCommand","fallbackCopyTextToClipboard","deepReadObject","createI18nContext","lang","language","locale","setLocale","dict","setDict","lang2","I18nContext","useI18n","Translation","_$memo","translationKey","translationValues","copyText","copiedText","QRCode","qrCodeCanvasRef","qrCodeWrapperRef","imageRef","copyButtonOpened","setCopyButtonOpened","copyButtonHovered","setCopyButtonHovered","qrHovered","setQrHovered","copyButtonText","setCopyButtonText","picSize","setPicSize","qr","sourceUrl","qrSize","clientWidth","round","imgSize","ceil","imgOffset","timeoutId","onCopyClick","clearTimeout","setTimeout","disableCopy","TextStyled","fontWeight","fontSize","lineHeight","Text","inputs","textRef","cursor","WalletItemStyled","StyledText","WalletItem","iconUrl","H1Styled","H1","H2Styled","H2","H3Styled","H3","LongArrowIcon","TonIcon","SuccessIcon","_c$","_el$3","_p$","_v$","_v$2","_v$3","_el$4","_tmpl$2","_el$5","_el$6","_v$4","_v$5","_v$6","ErrorIcon","LoaderIcon","svgClass","keyframes","TonConnectUiContext","CopyIcon","DisconnectIcon","hoverBorders","dropdownBorders","AccountButtonDropdownStyled","UlStyled","ul","MenuButtonStyled","MenuItemText","NotificationStyled","NotificationContentStyled","Notification","header","LoaderIconStyled","ConfirmOperationNotification","tonConnectUI","ErrorIconStyled","ErrorTransactionNotification","SuccessIconStyled","SuccessTransactionNotification","NotificationClass","AccountButtonStyled","DropdownButtonStyled","LoaderButtonStyled","DropdownContainerStyled","DropdownStyled","tonConnectUi","isCopiedShown","setIsCopiedShown","onCopy","__async","userFriendlyAddress","TESTNET","NotificationsStyled","timeouts","openedNotifications","setOpenedNotifications","on","deps","prevInput","defer","prevValue","showNotification","notifications","notification","openedNotification","getSide","placement","computeCoordsFromPlacement","_ref","rtl","reference","floating","commonX","commonY","mainAxis","getMainAxisFromPlacement","commonAlign","isVertical","coords","getAlignment","computePosition","config","strategy","middleware","validMiddleware","isRTL","NODE_ENV","rects","getElementRects","statefulPlacement","middlewareData","resetCount","nextX","nextY","reset","initialPlacement","elements","__spreadProps","__spreadValues","rectToClientRect","_node$ownerDocument","ownerDocument","defaultView","getNodeName","isNode","uaString","getUAString","uaData","brands","brand","isHTMLElement","HTMLElement","isElement","Element","isShadowRoot","ShadowRoot","isOverflowElement","overflow","overflowX","overflowY","display","isTableElement","isContainingBlock","isFirefox","backdropFilter","WebkitBackdropFilter","perspective","willChange","contain","isLayoutViewport","isLastTraversableNode","FALLBACK_SCALE","getScale","domElement","contextElement","boxSizing","offsetWidth","Number","isFinite","includeScale","isFixedStrategy","offsetParent","_win$visualViewport$o","_win$visualViewport","_win$visualViewport$o2","_win$visualViewport2","clientRect","win","addVisualOffsets","visualViewport","offsetLeft","offsetTop","getDocumentElement","getNodeScroll","scrollLeft","pageXOffset","pageYOffset","getWindowScrollBarX","getRectRelativeToOffsetParent","isOffsetParentAnElement","scroll","offsets","offsetRect","clientLeft","clientTop","getParentNode","assignedSlot","getTrueOffsetParent","getOffsetParent","currentNode","getContainingBlock","getNearestOverflowAncestor","getOverflowAncestors","scrollableAncestor","isBody","getClientRectFromClippingAncestor","clippingAncestor","layoutViewport","getViewportRect","getInnerBoundingClientRect","_element$ownerDocumen","scrollWidth","getDocumentRect","getClippingRect","boundary","rootBoundary","clippingAncestors","cache","cachedResult","currentContainingBlockComputedStyle","elementIsFixed","computedStyle","containingBlock","ancestor","getClippingElementAncestors","_c","firstClippingAncestor","clippingRect","accRect","convertOffsetParentRelativeRectToViewportRelativeRect","getDimensions","getOffsetParentFn","getDimensionsFn","getClientRects","autoUpdate","ancestorScroll","_ancestorScroll","ancestorResize","elementResize","animationFrame","passive","frameId","observer","initialUpdate","ResizeObserver","observe","prevRefRect","frameLoop","nextRefRect","_observer","cancelAnimationFrame","mergedOptions","platformWithCache","computePosition$1","AccountButton","connector","isOpened","setIsOpened","setAccount","restoringProcess","setRestoringProcess","dropDownRef","setFloating","anchor","setAnchor","F","R","E","whileElementsMounted","useFloating","connectionRestored","unsubscribe","clickToButton","clickToDropdown","connectWallet","normalizedAddress","acc","_$untrack","importNode","_$owner","QrCodeModalStyled","StyledIconButton","QRStyled","ButtonsContainerStyled","ActionButtonStyled","GetWalletStyled","appState","setAppState","buttonRootId","walletsListConfiguration","AStyled","Link","blank","attributes","rel","QrCodeModal","additionalRequest","onBackClick","openMethod","StyledModal","LoaderContainerStyled","TabTextStyled","groupName","random","selectedTabIndex","checked","onInput","onSelectedTabIndexChange","tab1","tab2","uiWalletToWalletInfo","uiWallet","applyWalletsListConfiguration","configuration","idKey","array1","array2","includeWallets","item1","item2","eqWalletName","wallet1","isMobile","setIsMobile","DefaultWallet","li","Divider","LongArrowIconContainer","LINKS","MobileSelectWalletModal","onSelect","vendor","opera","isMobileUserAgent","onSelectUniversal","UniversalQrModalStyled","QRCodeStyled","disableEventsAnimation","PopupWrapperStyled","ExtensionLiStyled","UniversalQrModal","popupOpened","setPopupOpened","walletsBridges","availableInjectableWallets","onOpenWalletClick","blurred","blurHandler","openWalletFallback","onOpenExtensionClick","stopPropagation","onExtensionClick","DesktopSelectWalletModalStyled","WalletsUl","DesktopSelectWalletModal","WalletsModal","fetchedWalletsList","selectedWalletInfo","setSelectedWalletInfo","setSelectedTabIndex","preferredWalletName","preferredWallet","someWalletsWithSameName","additionalRequestLoading","connectRequestParameters","onSelectInDesktopList","ActionModalStyled","ActionModal","onOpenWallet","headerTranslationKey","headerTranslationValues","textTranslationKey","textTranslationValues","showButton","ConfirmTransactionModal","TransactionCanceledModal","TransactionSentModal","ActionsModal","openModal","App","translations","customElements","define","HTMLDivElement","extends","hasAttribute","getElementById","widgetController","openWalletsModal","clearAction","getSelectedWalletInfo","renderApp","render","WalletInfoStorage","__publicField","setWalletInfo","storageKey","getWalletInfo","walletInfoString","removeWalletInfo","PreferredWalletStorage","setPreferredWalletName","getPreferredWalletName","preloadImages","rootId","normalizeWidgetRoot","widgetRootId","subscribeToWalletChange","walletInfoStorage","uiOptions","uiPreferences","preferredWalletStorage","checkButtonRootExist","actionsConfiguration","systemThemeChangeUnsubscribe","matchMedia","subscribeToThemeChange","_d","_e","merged","setConnectRequestParameters","connectRequestParametersCallback","parameters","modals","skipRedirectToWallet","getModalsAndNotificationsConfiguration","userOSIsIos","osName","browserName","getUserAgent","shouldSkipRedirectToWallet","updateWalletInfo","fullLastSelectedWalletInfo","rootElement","allActions"],"mappings":"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"}